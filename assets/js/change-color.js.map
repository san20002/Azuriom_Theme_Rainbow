{"version":3,"file":"/js/change-color.js","mappings":"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","sources":["webpack://template-default/./js/config-custom-azuriom/colors.js","webpack://template-default/./js/config-custom-azuriom/page.js","webpack://template-default/webpack/bootstrap","webpack://template-default/webpack/runtime/define property getters","webpack://template-default/webpack/runtime/hasOwnProperty shorthand","webpack://template-default/webpack/runtime/make namespace object","webpack://template-default/./js/config-custom-azuriom/change-color.js"],"sourcesContent":["let Color = require('./colors')\nlet jsPage = require('./page')\nvar colorPrimary = [], colorAccent = [], colorDownload = [], colorBlack = '', colorWhite = '', colorSuccess = [],\n    colorError = [], colorInfo = [], colorWarning = [], colorContrasts = [], newColorCustom = [], newGradientCustom = [], colorCustoms = [],\n    gradientCustoms = [], colorOpacities = [], customColorLabels = [], gradientColorIds = [], gradientColorValues = []  , fontRenderingValue = '';\n\nexport function updateIframeColors(primary, accent, download, black, white, success, error, info, warning, contrasts, fontRendering,customs, customLabels, grLabels, grIds, grValues, label) {\n    colorPrimary = primary.slice();\n    colorAccent = accent.slice();\n    colorDownload = download.slice();\n    colorBlack = black.slice();\n    colorWhite = white.slice();\n    colorSuccess = success.slice();\n    colorError = error.slice();\n    colorInfo = info.slice();\n    colorWarning = warning.slice();\n    colorContrasts = contrasts.slice();\n    colorCustoms = customs.slice();\n    customColorLabels = customLabels;\n    gradientColorIds = grIds.slice();\n    gradientCustoms = grLabels.slice();\n    gradientColorValues = grValues.slice();\n    $('.js-cd-demo-container--colors').trigger('updateColors', [label]);\n};\n\n\nexport function updateIframeColorLinks(links) {\n    $('.js-cd-demo-container--colors').trigger('updateColorLinks', [links]);\n}\n;\n\nexport function updateIframeColorsNewColor(array, title, customLabel) {\n    if (title.indexOf('gradient') > -1) {\n        newGradientCustom[customLabel] = array.slice();\n        $('.js-cd-demo-container--colors').trigger('createGradient', [title, customLabel]);\n    } else {\n        newColorCustom[customLabel] = array.slice();\n        $('.js-cd-demo-container--colors').trigger('createColor', [title, customLabel]);\n    }\n}\n;\n\nexport function updateIframeColorsRemoveColor(customLabel) {\n    if (customLabel.indexOf('gr') > -1) {\n        $('.js-cd-demo-container--colors').trigger('removeGradient', [customLabel]);\n    } else {\n        $('.js-cd-demo-container--colors').trigger('removeColor', [customLabel]);\n    }\n}\n;\n\nexport function updateIframeColorsEditColor(section, title) {\n    if (section.indexOf('gradient') > -1) {\n        $('.js-cd-demo-container--colors').trigger('updateGradient', [section, title]);\n    } else {\n        $('.js-cd-demo-container--colors').trigger('updateColor', [section, title]);\n    }\n}\n;var projectTypography, projectSpacing, projectButtons, projectForms;\n\nexport function loadColorsForColors(colors) {\n    // colors = JSON.stringify(colors)\n    // console.log(Object.values(colors['mainColorLabels']))\n    // jsPage.btnColorLabels = (colors['mainColorLabels']) ? Object.values(colors['mainColorLabels']) : [];\n    // jsPage.btnColorCustomNiceLabels = (colors['customColorLabels']) ? Object.values(colors['customColorLabels']) : [];\n    // jsPage.btnGradientsCustomNiceLabels = (colors['gradientColorLabels']) ? Object.values(colors['gradientColorLabels']) : [];\n};\n\nexport function loadTypographyForButtons(typography) {\n    projectTypography = typography;\n    $('.js-cd-demo-container--colors').trigger('setTypographyStyle');\n}\n;\n\nexport function loadSpacingForButtons(spacing) {\n    projectSpacing = spacing;\n    $('.js-cd-demo-container--colors').trigger('setSpacingStyle');\n}\n;\n\nexport function loadButtonsForColors(buttons) {\n    projectButtons = buttons;\n    $('.js-cd-demo-container--colors').trigger('setButtonsStyle');\n}\n;\n\nexport function loadFormForColors(forms) {\n    projectForms = forms;\n    $('.js-cd-demo-container--colors').trigger('setFormStyle');\n}\n;(function () {\n    var colorsDemo = $('.js-cd-demo-container--colors');\n    var iframeParent = jsPage;\n    var accessibleContrastHeadings = document.getElementsByClassName('js-accessible-headings-contrast')\n        , accessibleContrastBody = document.getElementsByClassName('js-accessible-body-contrast');\n    if (!iframeParent) {\n        iframeParent = jsPage;\n    }\n    var styleTag = $('#font-rendering');\n    if (colorsDemo.length > 0) {\n        var blackWrapper = colorsDemo.find('.js-cd-demo-color__list--black')\n            , whiteWrapper = colorsDemo.find('.js-cd-demo-color__list--white');\n        var demoSwitcher = $('.js-demo-switcher');\n        colorsDemo.on('click', '.js-cd-demo-color__list', function (event) {\n            colorsDemo.find('.cd-demo-color__list--selected').removeClass('cd-demo-color__list--selected cd-demo-item--selected');\n            $(event.currentTarget).addClass('cd-demo-color__list--selected');\n            iframeParent.selectSidebarSection($(event.currentTarget).attr('data-section'));\n        });\n        colorsDemo.on('updateColors', function (event, label) {\n            updateColorVariables(label);\n        });\n        colorsDemo.on('updateColorLinks', function (event, links) {\n            updateColorLinks(links);\n        });\n        demoSwitcher.on('click', 'button', function (event) {\n            if ($(event.target).hasClass('is-selected'))\n                return;\n            demoSwitcher.children('.is-selected').removeClass('is-selected').siblings().addClass('is-selected');\n            $('.cd-demo-container--is-hidden').removeClass('cd-demo-container--is-hidden').siblings('[data-display]').addClass('cd-demo-container--is-hidden');\n        });\n        colorsDemo.on('createColor', function (event, title, customLabel) {\n            createCustomColor(title, customLabel);\n        });\n        colorsDemo.on('createGradient', function (event, title, customLabel) {\n            createCustomGradient(title, customLabel);\n        });\n        colorsDemo.on('removeColor', function (event, customLabel) {\n            colorsDemo.find('[data-section=\"#color-' + customLabel + '\"]').parent().remove();\n        });\n        colorsDemo.on('removeGradient', function (event, customLabel) {\n            colorsDemo.find('[data-section=\"#gradient-' + customLabel.replace('gr-', '') + '\"]').parent().remove();\n        });\n        colorsDemo.on('updateColor', function (event, section, title) {\n            updateCustomColor(section, title);\n        });\n        colorsDemo.on('updateGradient', function (event, section, title) {\n            updateCustomGradient(section, title);\n        });\n        colorsDemo.on('click', '.js-cd-demo-color__link-btn', function (event) {\n            event.preventDefault();\n            $(event.currentTarget).toggleClass('cd-demo-color__link-btn--is-active');\n            iframeParent.toggleColorLink($(event.currentTarget).parent().next().attr('data-section'), $(event.currentTarget).hasClass('cd-demo-color__link-btn--is-active'));\n        });\n        var MQRef = jsPage.getMq();\n        colorsDemo.one('setTypographyStyle', function () {\n            setTypographyStyle(true, MQRef);\n        });\n        colorsDemo.one('setSpacingStyle', function () {\n            setSpacingStyle(MQRef);\n        });\n        colorsDemo.one('setButtonsStyle', function () {\n            setButtonsStyle(MQRef);\n        });\n        colorsDemo.one('setFormStyle', function () {\n            setFormsStyle(MQRef);\n        });\n        colorsDemo.on('windowResizing', function () {\n            var mq = jsPage.getMq();\n            if (MQRef != mq) {\n                MQRef = mq;\n                resetSpaceTypo(false, MQRef);\n            }\n        });\n\n        function resetSpaceTypo(bool, mq) {\n            if (projectTypography) {\n                setTypographyStyle(bool, mq);\n            } else {\n                updateTypographyDefaultStyle(mq);\n            }\n            if (projectSpacing) {\n                setSpacingStyle(mq);\n            } else {\n                updateSpacingDefaultStyle(mq);\n            }\n        }\n\n        function setTypographyStyle(bool, mq) {\n            if (projectTypography)\n                jsPage.loadTypographyStyle(projectTypography, bool, mq);\n            else {\n                jsPage.loadTypographyDefaultStyle(bool, mq);\n                updateTypographyDefaultStyle(mq);\n            }\n        }\n        ;\n\n        function updateTypographyDefaultStyle(mq) {\n            var textBase = '1em'\n                , textScale = '1.2';\n            if (mq >= 3) {\n                textBase = '1.25em';\n                textScale = '1.25';\n            }\n            jsPage.setCssVariable('--text-base-size', textBase);\n            jsPage.setCssVariable('--text-scale-ratio', textScale);\n        }\n        ;\n\n        function setSpacingStyle(mq) {\n            if (projectSpacing)\n                jsPage.loadSpacingStyle(projectSpacing, mq);\n            else {\n                jsPage.loadSpacingDefaultStyle(mq);\n                updateSpacingDefaultStyle(mq);\n            }\n        }\n        ;\n\n        function updateSpacingDefaultStyle(mq) {\n            var spaceUnit = '1em';\n            if (mq >= 3) {\n                spaceUnit = '1.25em'\n            }\n            jsPage.setCssVariable('--space-unit', spaceUnit);\n        }\n        ;\n\n        function setButtonsStyle(mq) {\n            if (projectButtons)\n                jsPage.loadButtonsStyle(projectButtons, mq);\n            else\n                jsPage.loadButtonsDefaultStyle(mq);\n        }\n        ;\n\n        function setFormsStyle(mq) {\n            if (projectForms)\n                jsPage.loadFormsStyle(projectForms, mq);\n            else\n                jsPage.loadFormsDefaultStyle(mq);\n        }\n        ;\n    }\n\n    function updateColorVariables(label) {\n        if (!label || label == 'primary')\n            updateMainColor(colorPrimary, 'primary');\n        if (!label || label == 'accent')\n            updateMainColor(colorAccent, 'accent');\n        if (!label || label == 'download')\n            updateMainColor(colorDownload, 'download');\n        if (!label || label == 'success')\n            updateMainColor(colorSuccess, 'success');\n        if (!label || label == 'error')\n            updateMainColor(colorError, 'error');\n        if (!label || label == 'info')\n            updateMainColor(colorInfo, 'info');\n        if (!label || label == 'warning')\n            updateMainColor(colorWarning, 'warning');\n        if (!label || label == 'black')\n            updateBlackWhite(colorBlack, blackWrapper, 'black');\n        if (!label || label == 'white')\n            updateBlackWhite(colorWhite, whiteWrapper, 'white');\n        if (!label || label == 'contrast')\n            updateContratColor();\n        if (!label || (label.indexOf('custom') > -1 && label.indexOf('gr-custom') < 0))\n            updateCustoms();\n        if (!label || label.indexOf('gr-custom') > -1)\n            updateGradientCustoms();\n        if (!label || label == 'fontRendering')\n            updateFontRendering();\n    }\n    ;\n\n    function setCompleteColorVariable(label, color) {\n        jsPage.setCssVariable(label, jsPage.getHSL(color));\n        jsPage.setColorPartVariables(label, color);\n    }\n    ;\n\n    function updateContratColor() {\n        setCompleteColorVariable('--color-bg', colorContrasts[0]);\n        setCompleteColorVariable('--color-contrast-lower', colorContrasts[1]);\n        setCompleteColorVariable('--color-contrast-low', colorContrasts[2]);\n        setCompleteColorVariable('--color-contrast-medium', colorContrasts[3]);\n        setCompleteColorVariable('--color-contrast-high', colorContrasts[4]);\n        setCompleteColorVariable('--color-contrast-higher', colorContrasts[5]);\n        var colorSection = colorsDemo.find('[data-section=\"#color-contrast\"]')\n            , colorLabels = colorSection.find('.js-demo-color__value');\n        for (var i = 0; i < colorContrasts.length; i++) {\n            colorLabels.eq(i).text(jsPage.getHSL(colorContrasts[i]));\n        }\n        updateAccessibleContrast();\n    }\n    ;\n\n    function updateFontRendering() {\n        var code = '';\n        if (fontRenderingValue && Number(fontRenderingValue == 1)) {\n            code = 'body{-webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale;}';\n        } else if (fontRenderingValue && Number(fontRenderingValue == 2)) {\n            code = 'body{-webkit-font-smoothing: auto;-moz-osx-font-smoothing: auto;}';\n        }\n        styleTag.text(code);\n    }\n    ;\n\n    function updateMainColor(array, type) {\n        setCompleteColorVariable('--color-' + type + '-lighter', array[0]);\n        setCompleteColorVariable('--color-' + type + '-light', array[1]);\n        setCompleteColorVariable('--color-' + type, array[2]);\n        setCompleteColorVariable('--color-' + type + '-dark', array[3]);\n        setCompleteColorVariable('--color-' + type + '-darker', array[4]);\n        var colorSection = colorsDemo.find('[data-section=\"#color-' + type + '\"]')\n            , colorLabels = colorSection.find('.js-demo-color__value');\n        for (var i = 0; i < 5; i++) {\n            colorLabels.eq(i).text(jsPage.getHSL(array[i]));\n        }\n    }\n    ;\n\n    function updateCSSCustomColor(array, type) {\n        setCompleteColorVariable('--color-' + type + '-lighter', array[0]);\n        setCompleteColorVariable('--color-' + type + '-light', array[1]);\n        setCompleteColorVariable('--color-' + type, array[2]);\n        setCompleteColorVariable('--color-' + type + '-dark', array[3]);\n        setCompleteColorVariable('--color-' + type + '-darker', array[4]);\n    }\n    ;\n\n    function updateBlackWhite(array, parent, type) {\n        var children = parent.children();\n        if (children.length > array.length) {\n            children.eq(array.length - 1).nextAll().remove();\n        } else if (children.length < array.length) {\n            var cloneCode = children.eq(0).clone()[0].outerHTML\n                , itemsString = '';\n            for (var i = children.length; i < array.length; i++) {\n                itemsString = itemsString + cloneCode;\n            }\n            parent.append(itemsString);\n        }\n        children = parent.children();\n        for (var i = 0; i < array.length; i++) {\n            updateSingleColor(array[i], children.eq(i), getBWLabel(type, i), i);\n        }\n    }\n    ;\n\n    function updateSingleColor(color, item, label, index) {\n        var colorText = jsPage.getHSL(color);\n        setCompleteColorVariable('--' + label, color);\n        item.find('.js-demo-color__value').text(colorText).end().find('.js-css-variable-label').text('--' + label);\n        if (index != 0)\n            item.children().eq(0).css('background-color', colorText);\n    }\n    ;\n\n    function updateCustoms() {\n        for (var i = 0; i < colorCustoms.length; i++) {\n            var customSection = $('[data-section=\"#color-' + colorCustoms[i][0] + '\"]');\n            if (customSection.length == 0) {\n                createCustomColorSection(customColorLabels[i], colorCustoms[i][0], false);\n            }\n            var colorSectionItems = $('[data-section=\"#color-' + colorCustoms[i][0] + '\"]').children()\n                , colorValues = [];\n            for (var j = 0; j < colorSectionItems.length; j++) {\n                var newColor = jsPage.getHSL(colorCustoms[i][1][j]);\n                colorSectionItems.eq(j).find('.js-cd-demo-color__preview').attr('style', 'background-color: ' + newColor + ';').end().find('.js-demo-color__value').text(newColor);\n                colorValues.push(newColor);\n            }\n            updateCSSCustomColor(colorCustoms[i][1], customColorLabels[i].replace('--color-', ''));\n        }\n    }\n    ;\n\n    function updateGradientCustoms() {\n        for (var i = 0; i < gradientCustoms.length; i++) {\n            var customSection = $('[data-section=\"#gradient-' + gradientColorIds[i] + '\"]');\n            if (customSection.length == 0) {\n                createCustomGradientSection(gradientCustoms[i], gradientColorIds[i], gradientColorValues[i], false);\n            }\n            var customSection = $('[data-section=\"#gradient-' + gradientColorIds[i] + '\"]');\n            var preview = customSection.find('.js-cd-demo-color__preview')\n                , values = customSection.find('.js-demo-color__value');\n            preview.attr('style', 'background-image: linear-gradient(90deg, ' + jsPage.getHSL(gradientColorValues[i][0]) + ', ' + jsPage.getHSL(gradientColorValues[i][1]) + ');');\n            values.eq(0).text(jsPage.getHSL(gradientColorValues[i][0]));\n            values.eq(1).text(jsPage.getHSL(gradientColorValues[i][1]));\n            setCompleteColorVariable('--gradient-' + gradientCustoms[i] + '-stop-1', gradientColorValues[i][0]);\n            setCompleteColorVariable('--gradient-' + gradientCustoms[i] + '-stop-2', gradientColorValues[i][1]);\n        }\n    }\n    ;\n\n    function getBWLabel(type, index) {\n        if (type == 'black') {\n            switch (index) {\n                case 1:\n                    return 'color-black-light';\n                    break;\n                case 2:\n                    return 'color-black-lighter';\n                    break;\n                default:\n                    return 'color-black';\n            }\n        } else {\n            switch (index) {\n                case 1:\n                    return 'color-white-dark';\n                    break;\n                case 2:\n                    return 'color-white-darker';\n                    break;\n                default:\n                    return 'color-white';\n            }\n        }\n    }\n    ;\n\n    function createCustomColor(title, customLabel) {\n        createCustomColorSection(title, customLabel, true);\n        selectIframeSection('#color-' + customLabel);\n    }\n    ;\n\n    function createCustomColorSection(title, customLabel, customize) {\n        var newColor = colorsDemo.children('.js-cd-demo-color').eq(0).clone()\n            , colorChildren = newColor.find('.js-cd-demo-color__preview');\n        newColor.addClass('js-cd-demo-color--custom').find('.js-cd-demo-title').text(getCustomTitleColor(title));\n        newColor.find('[data-section]').attr('data-section', '#color-' + customLabel);\n        newColor.find('.cd-demo-color__link-btn').removeClass('cd-demo-color__link-btn--is-active');\n        if (!customize) {\n            newColor.find('.cd-demo-color__list--selected').removeClass('cd-demo-color__list--selected');\n        }\n        if (customize) {\n            for (var i = 0; i < colorChildren.length; i++) {\n                colorChildren.eq(i).attr('style', 'background-color: ' + jsPage.getHSL(newColorCustom[customLabel][i]) + ';');\n                var labelItem = colorChildren.eq(i).siblings('.js-css-variable-label');\n                var cssVaraiableName = getVariableName(title);\n                labelItem.text(labelItem.text().replace('--color-primary', cssVaraiableName));\n            }\n        } else {\n            for (var i = 0; i < colorChildren.length; i++) {\n                var cssVaraiableName = getVariableName(title);\n                var labelItem = colorChildren.eq(i).siblings('.js-css-variable-label');\n                labelItem.text(labelItem.text().replace('--color-primary', cssVaraiableName));\n            }\n        }\n        if (customLabel.indexOf('custom-fdb') > -1) {\n            colorsDemo.find('.js-cd-demo-gradient').before(newColor);\n        } else {\n            colorsDemo.find('.js-cd-demo-color--black').before(newColor);\n        }\n    }\n    ;\n\n    function updateCustomColor(section, title) {\n        var customColorBlock = colorsDemo.find('[data-section=\"' + section + '\"]').parents('.js-cd-demo-color--custom').eq(0)\n            , colorChildren = customColorBlock.find('.js-cd-demo-color__preview')\n            , oldLabel = colorChildren.eq(2).siblings('.js-css-variable-label').text();\n        customColorBlock.find('.js-cd-demo-title').text(getCustomTitleColor(title));\n        for (var i = 0; i < colorChildren.length; i++) {\n            var labelItem = colorChildren.eq(i).siblings('.js-css-variable-label');\n            var cssVaraiableName = getVariableName(title);\n            labelItem.text(labelItem.text().replace(oldLabel, cssVaraiableName));\n        }\n    }\n    ;\n\n    function createCustomGradient(title, customLabel) {\n        createCustomGradientSection(title, customLabel, newGradientCustom[customLabel], true);\n        selectIframeSection('#gradient-' + customLabel);\n    }\n    ;\n\n    function createCustomGradientSection(title, customLabel, customValue, customize) {\n        var newColor = colorsDemo.children('.js-cd-demo-gradient').eq(0).clone().removeClass('is-hidden')\n            , titleEl = newColor.find('.js-cd-demo-title')\n            , preview = newColor.find('.js-cd-demo-color__preview')\n            , values = newColor.find('.js-demo-color__value')\n            , labels = newColor.find('.js-css-variable-label');\n        titleEl.text(getCustomTitleGradient(title));\n        values.eq(0).text(jsPage.getHSL(customValue[0]));\n        values.eq(1).text(jsPage.getHSL(customValue[1]));\n        labels.eq(0).text(getGradientVariable(title) + '-stop-1');\n        labels.eq(1).text(getGradientVariable(title) + '-stop-2');\n        newColor.find('.js-cd-demo-gradient__list').attr('data-section', '#gradient-' + customLabel);\n        if (!customize) {\n            newColor.find('.cd-demo-color__list--selected').removeClass('cd-demo-color__list--selected');\n        }\n        if (customize) {\n            preview.attr('style', 'background-image: linear-gradient(90deg, ' + jsPage.getHSL(customValue[0]) + ', ' + jsPage.getHSL(customValue[1]) + ');');\n        }\n        colorsDemo.find('.js-cd-demo-color--contrast').before(newColor);\n    }\n    ;\n\n    function updateCustomGradient(section, title) {\n        var customGradientBlock = colorsDemo.find('[data-section=\"' + section + '\"]').parents('.js-cd-demo-gradient').eq(0)\n            , titleEl = customGradientBlock.find('.js-cd-demo-title')\n            , labels = customGradientBlock.find('.js-css-variable-label');\n        titleEl.text(getCustomTitleGradient(title));\n        labels.eq(0).text(getGradientVariable(title) + '-stop-1');\n        labels.eq(1).text(getGradientVariable(title) + '-stop-2');\n    }\n    ;\n\n    function getCustomTitleColor(title) {\n        title = title.replace('--color-', '').replace(/-/, ' ');\n        return 'Color ' + title.charAt(0).toUpperCase() + title.slice(1);\n    }\n    ;\n\n    function getCustomTitleGradient(title) {\n        title = title.replace('--gradient-', '').replace(/-/, ' ');\n        return 'Gradient ' + title.charAt(0).toUpperCase() + title.slice(1);\n    }\n    ;\n\n    function getGradientVariable(title) {\n        if (title.indexOf('--gradient') > -1)\n            return title;\n        return '--gradient-' + title;\n    }\n    ;\n\n    function getVariableName(title) {\n        title = title.replace(/ /, '-');\n        if (title.indexOf('--') != 0)\n            title = '--' + title;\n        return title;\n    }\n    ;\n\n    function updateAccessibleContrast() {\n        var bgLuminance = jsPage.getLuminance(colorContrasts[0], iframeParent)\n            , headingsLuminance = jsPage.getLuminance(colorContrasts[5], iframeParent)\n            , bodyLuminance = jsPage.getLuminance(colorContrasts[4], iframeParent)\n            ,\n            headingsContrast = (bgLuminance > headingsLuminance) ? (bgLuminance + 0.05) / (headingsLuminance + 0.05) : (headingsLuminance + 0.05) / (bgLuminance + 0.05)\n            ,\n            bodyContrast = (bgLuminance > bodyLuminance) ? (bgLuminance + 0.05) / (bodyLuminance + 0.05) : (bodyLuminance + 0.05) / (bgLuminance + 0.05);\n        headingsContrast = parseFloat(headingsContrast).toFixed(2);\n        bodyContrast = parseFloat(bodyContrast).toFixed(2);\n        var headingsNote = getAccessibleContrastNote(headingsContrast)\n            , bodyNote = getAccessibleContrastNote(bodyContrast);\n        if (accessibleContrastHeadings.length > 0)\n            accessibleContrastHeadings[0].textContent = headingsNote;\n        if (accessibleContrastBody.length > 0)\n            accessibleContrastBody[0].textContent = bodyNote;\n    }\n    ;\n\n    function getAccessibleContrastNote(value) {\n        var note = (value >= 7) ? ' (AAA)' : ' (AA)';\n        if (value < 4.5)\n            note = ' (low)';\n        return value + note;\n    }\n    ;\n\n    function updateColorLinks(links) {\n        for (var color in links) {\n            if (links.hasOwnProperty(color) && links[color]) {\n                if (color.indexOf('gr-') > -1) {\n                    colorsDemo.find('[data-section=\"#gradient-' + color.replace('gr-', '') + '\"]').prev().find('.js-cd-demo-color__link-btn').addClass('cd-demo-color__link-btn--is-active');\n                } else {\n                    colorsDemo.find('[data-section=\"#color-' + color + '\"]').prev().find('.js-cd-demo-color__link-btn').addClass('cd-demo-color__link-btn--is-active');\n                }\n            }\n        }\n    }\n    ;\n}());\n","//buttons/forms default values\r\nexport let spacingArray = ['', '0', 'var(--space-xxxxs)', 'var(--space-xxxs)', 'var(--space-xxs)', 'var(--space-xs)', 'var(--space-sm)', 'var(--space-md)', 'var(--space-lg)', 'var(--space-xl)', 'var(--space-xxl)', 'var(--space-xxxl)', 'var(--space-xxxxl)'],\r\n    textArray = ['', 'var(--text-xs)', 'var(--text-sm)', 'var(--text-md)', 'var(--text-lg)', 'var(--text-xl)', 'var(--text-xxl)', 'var(--text-xxxl)', 'var(--text-xxxxl)', 'inherit'],\r\n    textArrayValues = ['', 'var(--text-xs)', 'var(--text-sm)', 'var(--text-md)', 'var(--text-lg)', 'var(--text-xl)', 'var(--text-xxl)', 'var(--text-xxxl)', 'inherit', '', 'var(--text-xxxxl)'],\r\n    fontArray = ['', '--font-primary'],\r\n    btnFontIds = [0, 1],\r\n    btnColorCustomNiceLabels = [],\r\n    btnGradientsCustomNiceLabels = [],\r\n    btnColorLabels = [\"primary\", \"accent\", \"download\", \"warning\", \"success\", \"error\", \"info\"],\r\n    shadowVariables = ['', '', 'var(--shadow-xs)', 'var(--shadow-sm)', 'var(--shadow-md)', 'var(--shadow-lg)', 'var(--shadow-xl)'],\r\n    borderRadiusValues = ['', 'var(--radius-sm)', 'var(--radius-md)', 'var(--radius-lg)']\r\n;\r\n\r\nexport function setBtnColorCustomNiceLabels(colors, customNice) {\r\n    if (colors) {\r\n        btnColorLabels = colors;\r\n    }\r\n    if (customNice) {\r\n        btnColorCustomNiceLabels = customNice;\r\n    }\r\n}\r\n;\r\n\r\nexport function setBtnGradientNiceLabels(gradients) {\r\n    if (gradients && gradients.length > 0) {\r\n        btnGradientsCustomNiceLabels = gradients;\r\n    }\r\n}\r\n;\r\n\r\nexport function decodeSafeURIComponent(string) {\r\n    return decodeURIComponent(string.replace(/%\"/g, '%25\"'));\r\n}\r\n;\r\n\r\nexport function getCursorValue(index) {\r\n    switch (index) {\r\n        case 0:\r\n            return '';\r\n            break;\r\n        case 1:\r\n            return 'auto';\r\n            break;\r\n        case 2:\r\n            return 'pointer';\r\n            break;\r\n        case 3:\r\n            return 'not-allowed';\r\n            break;\r\n        default:\r\n            return 'auto';\r\n    }\r\n}\r\n;\r\n\r\nexport function getBorderType(index) {\r\n    switch (index) {\r\n        case 0:\r\n            return 'border';\r\n            break;\r\n        case 1:\r\n            return 'border-top';\r\n            break;\r\n        case 2:\r\n            return 'border-right';\r\n            break;\r\n        case 3:\r\n            return 'border-bottom';\r\n            break;\r\n        case 4:\r\n            return 'border-left';\r\n            break;\r\n        default:\r\n            return 'border';\r\n    }\r\n}\r\n;\r\n\r\nexport function getBorderStyle(index) {\r\n    switch (index) {\r\n        case 0:\r\n            return 'none';\r\n            break;\r\n        case 1:\r\n            return 'solid';\r\n            break;\r\n        case 2:\r\n            return 'dashed';\r\n            break;\r\n        case 3:\r\n            return 'dotted';\r\n            break;\r\n        default:\r\n            return 'solid';\r\n    }\r\n}\r\n;\r\n\r\nexport function getTextTransform(index) {\r\n    switch (index) {\r\n        case 0:\r\n            return '';\r\n            break;\r\n        case 1:\r\n            return 'none';\r\n            break;\r\n        case 2:\r\n            return 'capitalize';\r\n            break;\r\n        case 3:\r\n            return 'uppercase';\r\n            break;\r\n        case 4:\r\n            return 'lowercase';\r\n            break;\r\n        default:\r\n            return 'none';\r\n    }\r\n}\r\n;\r\n\r\nexport function getTextDecoration(index) {\r\n    switch (index) {\r\n        case 0:\r\n            return '';\r\n            break;\r\n        case 1:\r\n            return 'none';\r\n            break;\r\n        case 2:\r\n            return 'underline';\r\n            break;\r\n        default:\r\n            return 'none';\r\n    }\r\n}\r\n;\r\n\r\nexport function getFontSmoothing() {\r\n    return '-webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale;';\r\n}\r\n;\r\n\r\nexport function getBoxShadowType(index) {\r\n    if (index == 0)\r\n        return '';\r\n    else\r\n        return 'inset ';\r\n}\r\n;\r\n\r\nexport function getTransitionProperty(index) {\r\n    switch (index) {\r\n        case 0:\r\n            return 'all';\r\n            break;\r\n        case 1:\r\n            return 'none';\r\n            break;\r\n        case 2:\r\n            return 'background';\r\n            break;\r\n        case 3:\r\n            return 'opacity';\r\n            break;\r\n        case 4:\r\n            return 'border';\r\n            break;\r\n        case 5:\r\n            return 'box-shadow';\r\n            break;\r\n        case 6:\r\n            return 'outline';\r\n            break;\r\n        case 7:\r\n            return 'transform';\r\n            break;\r\n        case 8:\r\n            return 'color';\r\n            break;\r\n        default:\r\n            return 'all';\r\n    }\r\n}\r\n;\r\n\r\nexport function getTransitionEase(index) {\r\n    switch (index) {\r\n        case 0:\r\n            return 'ease';\r\n            break;\r\n        case 1:\r\n            return 'linear';\r\n            break;\r\n        case 2:\r\n            return 'ease-in';\r\n            break;\r\n        case 3:\r\n            return 'ease-out';\r\n            break;\r\n        case 4:\r\n            return 'var(--ease-in-out)';\r\n            break;\r\n        case 5:\r\n            return 'var(--ease-in)';\r\n            break;\r\n        case 6:\r\n            return 'var(--ease-out)';\r\n            break;\r\n        case 7:\r\n            return 'var(--ease-out-back)';\r\n            break;\r\n        default:\r\n            return 'ease';\r\n    }\r\n}\r\n;\r\n\r\nexport function getTransitionDelay(val) {\r\n    if (val == '')\r\n        return '';\r\n    return ' ' + val + 's';\r\n}\r\n;\r\n\r\nexport function getTransformProperty(index) {\r\n    switch (index) {\r\n        case 0:\r\n            return 'none';\r\n            break;\r\n        case 1:\r\n            return 'translate';\r\n            break;\r\n        case 2:\r\n            return 'translateX';\r\n            break;\r\n        case 3:\r\n            return 'translateY';\r\n            break;\r\n        case 4:\r\n            return 'translateZ';\r\n            break;\r\n        case 5:\r\n            return 'scale';\r\n            break;\r\n        case 6:\r\n            return 'scaleX';\r\n            break;\r\n        case 7:\r\n            return 'scaleY';\r\n            break;\r\n        case 8:\r\n            return 'scaleZ';\r\n            break;\r\n        case 9:\r\n            return 'rotate';\r\n            break;\r\n        case 10:\r\n            return 'rotateX';\r\n            break;\r\n        case 11:\r\n            return 'rotateY';\r\n            break;\r\n        case 12:\r\n            return 'rotateZ';\r\n            break;\r\n        default:\r\n            return 'none';\r\n    }\r\n}\r\n;\r\n\r\nexport function getOutlineStyle(index) {\r\n    switch (index) {\r\n        case 0:\r\n            return '';\r\n            break;\r\n        case 1:\r\n            return 'auto';\r\n            break;\r\n        case 2:\r\n            return 'dotted';\r\n            break;\r\n        case 3:\r\n            return 'dashed';\r\n            break;\r\n        case 4:\r\n            return 'solid';\r\n            break;\r\n        case 5:\r\n            return 'double';\r\n            break;\r\n        case 6:\r\n            return 'inset';\r\n            break;\r\n        case 7:\r\n            return 'outset';\r\n            break;\r\n        case 8:\r\n            return 'none';\r\n            break;\r\n        default:\r\n            return '';\r\n    }\r\n}\r\n;\r\n\r\nexport function getOutlineOffset(val) {\r\n    if (val == '')\r\n        return '';\r\n    return 'outline-offset: ' + val + ';';\r\n}\r\n;\r\n\r\nexport function getColorValue(val, reset) {\r\n    if (!val || val == null)\r\n        return '';\r\n    // check if inherit/transparent/default\r\n    if (val == 'transparent' || val.indexOf('transparent') == 0)\r\n        return 'transparent';\r\n    if (val == 'inherit' || val.indexOf('inherit') == 0)\r\n        return 'inherit';\r\n    if (val == '' || val.indexOf('-a') == 0)\r\n        return '';\r\n    //check if custom color\r\n    return getColorValueFromList(val, reset);\r\n}\r\n;\r\n\r\nexport function getColorValueFromList(label, reset) {\r\n    var fallback = '';\r\n    if (!label || label == null)\r\n        return '';\r\n    label = getNiceLabelForCustom(label);\r\n    if (!label)\r\n        return '';\r\n    //check if this is an opacity value and provide fallback\r\n    if (checkColorIsOpacity(label)) {\r\n        if (reset && reset == true) {\r\n            //need to return css value\r\n            var basicLabel = removeOpacityFromLabel(label);\r\n            return 'hsla(var(' + basicLabel + '-h), var(' + basicLabel + '-s), var(' + basicLabel + '-l), ' + getOpacityDecFromLabel(label) + ')';\r\n        } else {\r\n            //return sass mixin\r\n            return 'alpha(var(' + removeOpacityFromLabel(label) + '), ' + getOpacityDecFromLabel(label) + ')';\r\n        }\r\n    } else {\r\n        return 'var(' + label + ')';\r\n    }\r\n}\r\n;\r\n\r\nexport function getNiceLabelForCustom(label) {\r\n    if (label.indexOf('custom-') > -1) {\r\n        var prefix = (label.indexOf('custom-fdb-') > -1) ? 'custom-fdb-' : 'custom-';\r\n        var labelArray = label.split(prefix)\r\n            , split = labelArray[1].split('-');\r\n        if (split.length > 1) {\r\n            var customLabel = prefix + split[0];\r\n            label = btnColorCustomNiceLabels[btnColorLabels.indexOf(customLabel) - 5] + labelArray[1].replace(split[0], '');\r\n        } else {\r\n            var customLabel = prefix + labelArray[1];\r\n            label = btnColorCustomNiceLabels[btnColorLabels.indexOf(customLabel) - 5];\r\n        }\r\n    }\r\n    return label;\r\n}\r\n;\r\n\r\nexport function removeOpacityFromLabel(label) {\r\n    return label.slice(0, -4);\r\n}\r\n;\r\n\r\nexport function getOpacityDecFromLabel(label) {\r\n    var opacity = parseInt(label.slice(-4).replace('-a', ''));\r\n    if (isNaN(opacity))\r\n        return 1;\r\n    return parseFloat((opacity / 100).toFixed(2));\r\n}\r\n;\r\n\r\nexport function checkColorIsOpacity(label) {\r\n    var array = label.split('-');\r\n    if (array.length > 0 && array[array.length - 1].indexOf('a') == 0 && array[array.length - 1].length == 3) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n;\r\n\r\nexport function getColorFbIos($color, $varLabel, $spacing, $reset) {\r\n    if (!$color || $color == null)\r\n        return ['', ''];\r\n    if ($color == 'transparent' || $color == 'inherit' || $color == '')\r\n        return ['', $color];\r\n    return ['', getColorValue($color, $reset)];\r\n}\r\n;//if you updates this -> you'll need to update the same in the app-global.js as well\r\nlet paddingVariables = ['--space-xxxxs', '--space-xxxs', '--space-xxs', '--space-xs', '--space-sm', '--space-md', '--space-lg', '--space-xl', '--space-xxl', '--space-xxxl', '--space-xxxxl']\r\n    , fibonacciSeq = [0.125, 0.25, 0.375, 0.5, 0.75, 1.25, 2, 3.25, 5.25, 8.5, 13.75]\r\n    , prFourth = [0.237, 0.316, 0.422, 0.563, 0.75, 1, 1.333, 1.777, 2.369, 3.157, 4.21]\r\n    , auFourth = [0.177, 0.25, 0.354, 0.5, 0.707, 1, 1.414, 1.999, 2.827, 3.998, 5.65]\r\n    , prFifth = [0.133, 0.2, 0.296, 0.444, 0.667, 1, 1.5, 2.25, 3.375, 5.063, 7.59]\r\n    , goldenRatio = [0.09, 0.146, 0.236, 0.382, 0.618, 1, 1.618, 2.618, 4.236, 6.854, 11.08]\r\n    , spaceRatioUnit = [false, fibonacciSeq, prFourth, auFourth, prFifth, goldenRatio, ''];\r\n\r\nexport function getHSL(color) {\r\n    if (isNaN(color[0]))\r\n        color[0] = 0;\r\n    return 'hsl(' + Math.round(color[0]) + ', ' + Math.round(color[1] * 100) + '%, ' + Math.round(color[2] * 100) + '%)';\r\n}\r\n;\r\n\r\nexport function getHSLA(color, opacity) {\r\n    if (isNaN(color[0]))\r\n        color[0] = 0;\r\n    return 'hsla(' + Math.round(color[0]) + ', ' + Math.round(color[1] * 100) + '%, ' + Math.round(color[2] * 100) + '%, ' + parseFloat((Number(opacity) / 100).toFixed(2)) + ')';\r\n}\r\n;\r\n\r\nexport function setHSLAfromHSL(color, opacity) {\r\n    color = color.replace('hsl(', 'hsla(');\r\n    color = color.replace(')', ', ' + parseFloat((Number(opacity) / 100).toFixed(2)) + ')');\r\n    return color;\r\n}\r\n;\r\n\r\nexport function getHSLFromString(color) {\r\n    var array = color.replace('hsl(', '').replace(')', '').split(',');\r\n    if (array && array.length > 1) {\r\n        return [Number(array[0].trim()), parseFloat(((array[1].trim().replace('%', '')) / 100).toFixed(2)), parseFloat(((array[2].trim().replace('%', '')) / 100).toFixed(2))];\r\n    } else {\r\n        return '';\r\n    }\r\n\r\n}\r\n;\r\n\r\nexport function setCssVariable(variable, value, priority) {\r\n    var root = document.documentElement;\r\n    if (priority) {\r\n        root.style.setProperty(variable, value, priority);\r\n    } else {\r\n        root.style.setProperty(variable, value);\r\n    }\r\n\r\n}\r\n;\r\n\r\nexport function getCssVariable(variable) {\r\n    return getComputedStyle(document.documentElement).getPropertyValue(variable);\r\n}\r\n;\r\n\r\nexport function setBodyCssVariable(variable, value) {\r\n    var body = document.getElementsByTagName('body')[0];\r\n    body.style.setProperty(variable, value);\r\n}\r\n;\r\n\r\nexport function setElementCssVariable(className, variable, value) {\r\n    var element = document.getElementsByClassName(className);\r\n    if (element.length > 0) {\r\n        element[0].style.setProperty(variable, value);\r\n    }\r\n}\r\n;\r\n\r\nexport function windowScrollTo(val) {\r\n    window.scrollTo(0, val);\r\n}\r\n;\r\n\r\nexport function selectIframeSection(val) {\r\n    var section = $('[data-section=\"' + val + '\"]');\r\n    $('.cd-demo-item--selected').removeClass('cd-demo-item--selected');\r\n    if (section.length > 0) {\r\n        section.addClass('cd-demo-item--selected');\r\n        if ($('.cd-demo-color__list--selected').length > 0) {\r\n            $('.cd-demo-color__list--selected').removeClass('cd-demo-color__list--selected');\r\n            section.addClass('cd-demo-color__list--selected');\r\n        }\r\n        windowScrollTo(section.parent().offset().top - 20);\r\n    }\r\n}\r\n;\r\n\r\nexport function selectIframeTab(val) {\r\n    //remove the selection effect\r\n    $('.cd-demo-item--selected').removeClass('cd-demo-item--selected');\r\n    var section = $('[data-tab]');\r\n    if (section.length > 0) {\r\n        section.addClass('cd-demo-item--is-hidden');\r\n        section.filter('[data-tab=\"' + val + '\"]').removeClass('cd-demo-item--is-hidden');\r\n\r\n        if (val == 'tab-lh-crop') {\r\n            //lhcrop in typograpgy -> select --font-primary\r\n            selectIframeSection('--font-1');\r\n        }\r\n    }\r\n}\r\n;\r\n\r\nexport function getMq() {\r\n    var windowWidth = $(window).outerWidth()\r\n        , mq = 0\r\n        , string = '';\r\n    // check if you can get external document width\r\n    if (window.parent && window.parent.document && window.parent.document.body && window.parent.document.body.clientWidth) {\r\n        windowWidth = window.parent.document.body.clientWidth;\r\n    }\r\n    switch (true) {\r\n        case windowWidth >= 1440:\r\n            mq = 5;\r\n            string = 'Visible mq: > 1440px';\r\n            break;\r\n        case windowWidth >= 1280:\r\n            mq = 4;\r\n            string = 'Visible mq: > 1280px';\r\n            break;\r\n        case windowWidth >= 1024:\r\n            mq = 3;\r\n            string = 'Visible mq: > 1024px';\r\n            break;\r\n        case windowWidth >= 600:\r\n            mq = 2;\r\n            string = 'Visible mq: > 600px';\r\n            break;\r\n        case windowWidth >= 480:\r\n            mq = 1;\r\n            string = 'Visible mq: > 480px';\r\n            break;\r\n        default:\r\n            mq = 0;\r\n            string = 'None';\r\n    }\r\n    $('.js-width').text(string);\r\n    return mq;\r\n}\r\n;\r\n\r\nexport function getScreenSize() {\r\n    if (window.parent && window.parent.document && window.parent.document.body && window.parent.document.body.clientWidth) {\r\n        return [window.parent.document.body.clientWidth, $(window).outerHeight()];\r\n    } else {\r\n        return [$(window).outerWidth(), $(window).outerHeight()];\r\n    }\r\n}\r\n;\r\n\r\nexport function getValidResponsiveValue(spaceArray, index, subIndex) {\r\n    var item = (subIndex !== false) ? spaceArray[index][subIndex] : spaceArray[index];\r\n    if (index == 0)\r\n        return item;\r\n    if (item !== false && item !== '') {\r\n        return item;\r\n    } else {\r\n        return getValidResponsiveValue(spaceArray, index - 1, subIndex);\r\n    }\r\n}\r\n;\r\n\r\nexport function getValueUnit(value) {\r\n    if (!value || value == '')\r\n        return [false, false];\r\n    var number = parseFloat(value)\r\n        , unit = value.replace(number, '');\r\n    return [number, unit];\r\n}\r\n;\r\n\r\nexport function getBodyNotFalse(array, mq) {\r\n    var newArray = [];\r\n    for (var i = 0; i < 3; i++) {\r\n        newArray[i] = getValidResponsiveValue(array, mq, i);\r\n    }\r\n    return newArray;\r\n}\r\n;\r\nvar projectLoaded = '';\r\nvar MQ = getMq();\r\n\r\nexport function loadGlobalsStyle(project) {\r\n    //for components -> load project style\r\n    if (project) {\r\n        $('.js-cd-demo').trigger('globalsUpdating');\r\n        projectLoaded = project;\r\n    }\r\n\r\n    if (project.colors && project.colors !== '' && Object.values) {\r\n        //colors were saved and need to be modified\r\n        console.log('TOTO')\r\n        loadColorStyle(JSON.parse(project.colors));\r\n    } else {\r\n        console.log('Tata')\r\n        loadColorDefaultStyle();\r\n    }\r\n\r\n    if (project.typography && project.typography !== '' && Object.values) {\r\n        //typography was saved and need to be modified\r\n        loadTypographyStyle(JSON.parse(decodeSafeURIComponent(project.typography)), true, MQ);\r\n    } else {\r\n        loadTypographyDefaultStyle(true, MQ);\r\n    }\r\n    //do the same for the other globals\r\n    if (project.spacing && project.spacing !== '' && Object.values) {\r\n        loadSpacingStyle(JSON.parse(decodeSafeURIComponent(project.spacing)), MQ);\r\n    } else {\r\n        loadSpacingDefaultStyle(MQ);\r\n    }\r\n\r\n    if (project.buttons && project.buttons !== '' && Object.values) {\r\n        loadButtonsStyle(JSON.parse(decodeSafeURIComponent(project.buttons)), MQ);\r\n    } else {\r\n        loadButtonsDefaultStyle(MQ);\r\n    }\r\n    if (project.form && project.form !== '' && Object.values) {\r\n        loadFormsStyle(JSON.parse(decodeSafeURIComponent(project.form)), MQ);\r\n    } else {\r\n        loadFormsDefaultStyle(MQ);\r\n    }\r\n    //if you need to update style on resize\r\n    if (project) {\r\n        $('.js-cd-demo').trigger('globalsUpdate');\r\n    }\r\n    $('.js-cd-demo').trigger('showComponent');\r\n}\r\n;\r\n\r\nexport function loadColorStyle(colors) {\r\n    //no need to do this for custom opacities as only default one are used in components\r\n    var variations = ['-lighter', '-light', '', '-dark', '-darker'];\r\n\r\n    btnColorLabels = Object.values(colors['mainColorLabels']);\r\n    btnColorCustomNiceLabels = (colors['customColorLabels']) ? Object.values(colors['customColorLabels']) : [];\r\n    btnGradientsCustomNiceLabels = (colors['gradientColorLabels']) ? Object.values(colors['gradientColorLabels']) : [];\r\n    //set main colors - including custom colors as well\r\n    for (var i = 0; i < btnColorLabels.length; i++) {\r\n        var cssVarLab = (i > 4) ? btnColorCustomNiceLabels[i - 5] : '--color-' + btnColorLabels[i];\r\n        for (var j = 0; j < variations.length; j++) {\r\n            setCssVariable(cssVarLab + variations[j], getHSL(Object.values(colors[btnColorLabels[i]][0][j])));\r\n            setColorPartVariables(cssVarLab + variations[j], Object.values(colors[btnColorLabels[i]][0][j]));\r\n        }\r\n    }\r\n\r\n    //set black & white\r\n    var bVariations = ['', '-light', '-lighter']\r\n        , blackArray = getBWArray(colors['blackColors'][0])\r\n        , whiteArray = getBWArray(colors['whiteColors'][0]);\r\n\r\n    for (var i = 0; i < blackArray.length; i++) {\r\n        setCssVariable('--color-black' + bVariations[i], getHSL(blackArray[i]));\r\n        setColorPartVariables('--color-black' + bVariations[i], blackArray[i]);\r\n    }\r\n    var wVariations = ['', '-dark', '-darker'];\r\n    for (var i = 0; i < whiteArray.length; i++) {\r\n        setCssVariable('--color-white' + wVariations[i], getHSL(whiteArray[i]));\r\n        setColorPartVariables('--color-white' + wVariations[i], whiteArray[i]);\r\n    }\r\n\r\n    //set contrasts\r\n    var contrastLabels = ['-bg', '-contrast-lower', '-contrast-low', '-contrast-medium', '-contrast-high', '-contrast-higher'];\r\n    for (var i = 0; i < contrastLabels.length; i++) {\r\n        setCssVariable('--color' + contrastLabels[i], getHSL(Object.values(colors['contrastColors'][0][i])));\r\n        setColorPartVariables('--color' + contrastLabels[i], Object.values(colors['contrastColors'][0][i]));\r\n    }\r\n\r\n    // set gradients\r\n    for (var i = 0; i < btnGradientsCustomNiceLabels.length; i++) {\r\n        var cssVarLab = '--gradient-' + btnGradientsCustomNiceLabels[i]\r\n            , gradientId = colors['gradientColorIds'][i] + 'Gradients';\r\n        setCssVariable(cssVarLab + '-stop-1', getHSL(Object.values(colors[gradientId][0][0])));\r\n        setColorPartVariables(cssVarLab + '-stop-1', Object.values(colors[gradientId][0][0]));\r\n        setCssVariable(cssVarLab + '-stop-2', getHSL(Object.values(colors[gradientId][0][1])));\r\n        setColorPartVariables(cssVarLab + '-stop-2', Object.values(colors[gradientId][0][1]));\r\n    }\r\n\r\n    //font rendering\r\n    var fontRenderingCode = '';\r\n    if (colors['fontRendering'] && colors['fontRendering'][0]) {\r\n        if (Number(colors['fontRendering'][0]) == 1)\r\n            fontRenderingCode = 'body{-webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale;}';\r\n        else if (Number(colors['fontRendering'][0]) == 2)\r\n            fontRenderingCode = 'body{-webkit-font-smoothing: auto;-moz-osx-font-smoothing: auto;}';\r\n    }\r\n    var style = '<style id=\"font-rendering-style\">' + fontRenderingCode + '</style>';\r\n    $('#font-rendering-style').remove();\r\n    var baseStyle = $('#cd-base-part-1');\r\n    $(style).insertAfter(baseStyle);\r\n}\r\n;\r\n\r\nexport function loadColorDefaultStyle() {\r\n    // colors array\r\n    var defaultColors = [\r\n        ['--color-primary-darker', [204, 70, 33]],\r\n        ['--color-primary-dark', [204, 70, 43]],\r\n        ['--color-primary', [204, 70, 53]],\r\n        ['--color-primary-light', [204, 70, 63]],\r\n        ['--color-primary-lighter', [204, 70, 73]],\r\n        ['--color-accent-darker', [282, 44, 27]],\r\n        ['--color-accent-dark', [282, 44, 37]],\r\n        ['--color-accent', [282, 44, 47]],\r\n        ['--color-accent-light', [282, 44, 57]],\r\n        ['--color-accent-lighter', [282, 44, 67]],\r\n        ['--color-download-darker', [145, 63, 22]],\r\n        ['--color-download-dark', [145, 63, 32]],\r\n        ['--color-download', [145, 63, 42]],\r\n        ['--color-download-light', [145, 63, 52]],\r\n        ['--color-download-lighter', [145, 63, 62]],\r\n        ['--color-black', [240, 8, 12]],\r\n        ['--color-white', [0, 0, 100]],\r\n        ['--color-warning-darker', [46, 68, 29]],\r\n        ['--color-warning-dark', [46, 68, 39]],\r\n        ['--color-warning', [46, 68, 49]],\r\n        ['--color-warning-light', [46, 68, 59]],\r\n        ['--color-warning-lighter', [46, 68, 69]],\r\n        ['--color-success-darker', [94, 48, 20]],\r\n        ['--color-success-dark', [94, 48, 30]],\r\n        ['--color-success', [94, 48, 40]],\r\n        ['--color-success-light', [94, 48, 50]],\r\n        ['--color-success-lighter', [94, 48, 60]],\r\n        ['--color-error-darker', [6, 63, 26]],\r\n        ['--color-error-dark', [6, 63, 36]],\r\n        ['--color-error', [6, 63, 46]],\r\n        ['--color-error-light', [6, 63, 56]],\r\n        ['--color-error-lighter', [6, 63, 66]],\r\n        ['--color-info-darker', [204, 62, 27]],\r\n        ['--color-info-dark', [204, 62, 37]],\r\n        ['--color-info', [204, 62, 47]],\r\n        ['--color-info-light', [204, 62, 57]],\r\n        ['--color-info-lighter', [204, 62, 67]],\r\n        ['--color-bg', [220, 5, 22]],\r\n        ['--color-contrast-lower', [216, 4, 25]],\r\n        ['--color-contrast-low', [220, 3, 34]],\r\n        ['--color-contrast-medium', [220, 2, 63]],\r\n        ['--color-contrast-high', [180, 2, 90]],\r\n        ['--color-contrast-higher', [0, 0, 100]]\r\n    ];\r\n    for (var i = 0; i < defaultColors.length; i++) {\r\n        setCssVariable(defaultColors[i][0], getHSL(defaultColors[i][1]));\r\n        setColorPartVariables(defaultColors[i][0], defaultColors[i][1]);\r\n    }\r\n}\r\n;\r\n\r\nexport function setColorPartVariables(label, colorArray) {\r\n    setCssVariable(label + '-h', Math.round(colorArray[0]));\r\n    setCssVariable(label + '-s', Math.round(colorArray[1] * 100) + '%');\r\n    setCssVariable(label + '-l', Math.round(colorArray[2] * 100) + '%');\r\n}\r\n;\r\n\r\nexport function getBWArray(obj) {\r\n    var array = [];\r\n    for (var property in obj) {\r\n        if (obj.hasOwnProperty(property)) {\r\n            array.push(Object.values(obj[property]));\r\n        }\r\n    }\r\n    return array;\r\n}\r\n;\r\n\r\nexport function loadTypographyStyle(typography, bool, mq) {\r\n    if (bool) {\r\n        //not responsive things\r\n        if (typography['fontCode'] && typography != '')\r\n            $(typography['fontCode']).appendTo($('head'));\r\n        for (var property in typography['fontFamilies']) {\r\n            if (typography['fontFamilies'].hasOwnProperty(property) && typography['fontFamilyLabels'].hasOwnProperty(property)) {\r\n                setBodyCssVariable(typography['fontFamilyLabels'][property], typography['fontFamilies'][property]);\r\n            }\r\n        }\r\n        if (typography['lhCropCapitalLetter']) {\r\n            var lhcropArray = Object.values(typography['lhCropCapitalLetter']);\r\n            if (lhcropArray.length > 0)\r\n                setCssVariable('--font-primary-capital-letter', lhcropArray[0]);\r\n        }\r\n\r\n        fontArray = [''];\r\n        btnFontIds = [0];\r\n        for (var property in typography['fontFamilyLabels']) {\r\n            if (typography['fontFamilyLabels'].hasOwnProperty(property)) {\r\n                fontArray.push(typography['fontFamilyLabels'][property]);\r\n                btnFontIds.push(typography['fontFamilyIds'][property]);\r\n            }\r\n        }\r\n    }\r\n\r\n    //body/heading style\r\n    var headingValues = getBodyNotFalse(getTypographyArray(typography['headingInfo']), mq)\r\n        , bodyValues = getBodyNotFalse(getTypographyArray(typography['bodyInfo']), mq);\r\n\r\n    var textVariables = 'root, *{--text-xs: calc((var(--text-unit) / var(--text-scale-ratio)) / var(--text-scale-ratio));--text-sm: calc(var(--text-xs) * var(--text-scale-ratio));--text-md: calc(var(--text-sm) * var(--text-scale-ratio) * var(--text-scale-ratio));--text-lg: calc(var(--text-md) * var(--text-scale-ratio));--text-xl: calc(var(--text-lg) * var(--text-scale-ratio));--text-xxl: calc(var(--text-xl) * var(--text-scale-ratio));--text-xxxl: calc(var(--text-xxl) * var(--text-scale-ratio));--text-xxxxl: calc(var(--text-xxxl) * var(--text-scale-ratio));}';\r\n\r\n    loadTypographyStyleTag(textVariables + getTypographyStyle(headingValues, 'h1, h2, h3, h4', typography) + getTypographyStyle(bodyValues, 'body', typography));\r\n\r\n    setTypographyCssVariables(headingValues, bodyValues, typography, mq);\r\n}\r\n;\r\n\r\nexport function loadTypographyDefaultStyle(bool, mq) {\r\n    // set variables - get values for --text-base-size and --text-scale-ratio\r\n    var bodyStyle = '--font-primary: Inter, system-ui, sans-serif;--text-base-size: 1em;--text-scale-ratio: 1.2;--text-unit: 1em;--body-line-height: 1.4;--heading-line-height: 1.2;--font-primary-capital-letter: 1;'\r\n        ,\r\n        allStyle = ' --text-xs: calc((var(--text-unit) / var(--text-scale-ratio)) / var(--text-scale-ratio));--text-sm: calc(var(--text-xs) * var(--text-scale-ratio));--text-md: calc(var(--text-sm) * var(--text-scale-ratio) * var(--text-scale-ratio));--text-lg: calc(var(--text-md) * var(--text-scale-ratio));--text-xl: calc(var(--text-lg) * var(--text-scale-ratio));--text-xxl: calc(var(--text-xl) * var(--text-scale-ratio));--text-xxxl: calc(var(--text-xxl) * var(--text-scale-ratio));--text-xxxxl: calc(var(--text-xxxl) * var(--text-scale-ratio));';\r\n\r\n    bodyStyle = ':root{' + bodyStyle + '}';\r\n    allStyle = ':root, *{' + allStyle + '}';\r\n\r\n    var bodyResStyle = '@media (min-width:64rem){:root{--text-base-size: 1.25em;--text-scale-ratio: 1.25;}}';\r\n\r\n    var headingStyle = 'h1, h2, h3, h4 {font-family: var(--font-primary);font-weight: 700;}';\r\n\r\n    loadTypographyStyleTag(bodyStyle + allStyle + headingStyle + bodyResStyle);\r\n\r\n    // append font link\r\n    var fontLink = '<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">';\r\n    var typographyStyle = $('#typography-style');\r\n    $(fontLink).insertAfter(typographyStyle);\r\n}\r\n;\r\n\r\nexport function loadTypographyStyleTag(styleContent) {\r\n    var defaultStyle = 'mark {background-color: hsla(var(--color-accent-h), var(--color-accent-s), var(--color-accent-l), 0.2);color: inherit;}.text-component {--line-height-multiplier: 1;--text-vspace-multiplier: 1;}.text-component blockquote {padding-left: 1em;border-left: 4px solid var(--color-contrast-low);}.text-component hr {background: var(--color-contrast-low);height: 1px;}.text-component figcaption {font-size: var(--text-sm);color: var(--color-contrast-medium);}.article {--body-line-height: 1.58;--text-vspace-multiplier: 1.2;}';\r\n    var style = '<style id=\"typography-style\">' + styleContent + defaultStyle + '</style>';\r\n    $('#typography-style').remove();\r\n\r\n    var baseStyle = $('#cd-base-part-1');\r\n    $(style).insertAfter(baseStyle);\r\n}\r\n\r\nexport function loadTypographyCssVarStyleGuide(typography) {\r\n    var code = ':root {';\r\n    // font family definition\r\n    var fontFamilies = ''\r\n        , fontFamilyClasses = '';\r\n    var scale = '';\r\n    var textVariables = '';\r\n    var scaleResponsive = '';\r\n    if (typography['fontFamilies'] && typography['fontFamilyLabels']) {\r\n        for (var i = 0; i < typography['fontFamilies'].length; i++) {\r\n            if (typography['fontFamilyLabels'][i]) {\r\n                fontFamilies = fontFamilies + typography['fontFamilyLabels'][i] + ': ' + typography['fontFamilies'][i] + ';';\r\n                fontFamilyClasses = fontFamilyClasses + typography['fontFamilyLabels'][i].replace('--', '.') + '{font-family: var(' + typography['fontFamilyLabels'][i] + ');}';\r\n            }\r\n        }\r\n    }\r\n    code = code + fontFamilies;\r\n    if (typography['baseSize'] && typography['scaleRatio'] && typography['bodyInfo'] && typography['headingInfo']) {\r\n        scale = getTypographyScaleVar(typography, 0);\r\n        scaleResponsive = getTypographyScaleVarRes(typography);\r\n        textVariables = 'root, * {--text-xs: calc((var(--text-unit) / var(--text-scale-ratio)) / var(--text-scale-ratio));--text-sm: calc(var(--text-xs) * var(--text-scale-ratio));--text-md: calc(var(--text-sm) * var(--text-scale-ratio) * var(--text-scale-ratio));--text-lg: calc(var(--text-md) * var(--text-scale-ratio));--text-xl: calc(var(--text-lg) * var(--text-scale-ratio));--text-xxl: calc(var(--text-xl) * var(--text-scale-ratio));--text-xxxl: calc(var(--text-xxl) * var(--text-scale-ratio));--text-xxxxl: calc(var(--text-xxxl) * var(--text-scale-ratio));}'\r\n    }\r\n\r\n    code = code + scale + '}' + textVariables + scaleResponsive + fontFamilyClasses;\r\n    return code;\r\n}\r\n;\r\n\r\nexport function loadTypographyStyleStyleGuide(typography) {\r\n    var mq = ['', '32rem', '48rem', '64rem', '80rem', '90rem'];\r\n    var code = '';\r\n    if (typography['bodyInfo'] && typography['headingInfo']) {\r\n        for (var i = 0; i < mq.length; i++) {\r\n            var style = '';\r\n            if (typography['bodyInfo'][i]) {\r\n                var bodyStyle = getTypographyStyle(typography['bodyInfo'][i], 'body', typography);\r\n                style = (i > 0) ? style + '@media (min-width:' + mq[i] + ') {' + bodyStyle + '}' : style + bodyStyle;\r\n            }\r\n            if (typography['headingInfo'][i]) {\r\n                var headingStyle = getTypographyStyle(typography['headingInfo'][i], 'h1, h2, h3, h4', typography);\r\n                style = (i > 0) ? style + '@media (min-width:' + mq[i] + ') {' + headingStyle + '}' : style + headingStyle;\r\n            }\r\n            code = code + style;\r\n        }\r\n    }\r\n\r\n    return code;\r\n}\r\n;\r\n\r\nexport function getTypographyScaleVar(typography, index) {\r\n    var code = '';\r\n    if (typography['baseSize'][index])\r\n        code = code + '--text-base-size: ' + typography['baseSize'][index] + ';';\r\n    if (typography['scaleRatio'][index])\r\n        code = code + '--text-scale-ratio: ' + typography['scaleRatio'][index] + ';';\r\n    if (typography['bodyInfo'][index] && typography['bodyInfo'][index][2])\r\n        code = code + '--body-line-height: ' + typography['bodyInfo'][index][2] + ';';\r\n    if (typography['headingInfo'][index] && typography['headingInfo'][index][2])\r\n        code = code + '--heading-line-height: ' + typography['headingInfo'][index][2] + ';';\r\n    if (index == 0)\r\n        code = code + '--text-unit: ' + getTextUnit(typography);\r\n    return code;\r\n}\r\n\r\nexport function getTextUnit(typography) {\r\n    var textUnit = '1em';\r\n    if (typography['baseSize'][0] && (typography['baseSize'][0].indexOf('px') > -1 || typography['baseSize'][0].indexOf('rem') > -1))\r\n        textUnit = 'var(--text-base-size)';\r\n    return textUnit;\r\n}\r\n;\r\n\r\nexport function getTypographyScaleVarRes(typography) {\r\n    var mq = ['', '32rem', '48rem', '64rem', '80rem', '90rem'];\r\n    var code = '';\r\n    for (var i = 1; i < mq.length; i++) {\r\n        code = code + '@media (min-width:' + mq[i] + ') {:root{' + getTypographyScaleVar(typography, i) + '}}'\r\n    }\r\n    return code;\r\n}\r\n\r\nexport function loadSpacingStyle(spacing, mq) {\r\n    var spaceUnit = getValidResponsiveValue(Object.values(spacing['spaceUnit']), mq, false)\r\n        , spaceRatioCustom = getSpaceRatioCustom(spacing['customSpaceRatio']);\r\n    // var srList = getSpacingValues(Object.values(spacing['spaceRatio']), spaceUnit, mq, spaceRatioCustom),\r\n\r\n    // this will return only the list of the multiplier (not including the --space-unit)\r\n    var srList = getSpacingMultiplier(Object.values(spacing['spaceRatio']), mq, spaceRatioCustom)\r\n        , paddingVariable = srList[getValidResponsiveValue(Object.values(spacing['padding']), mq, false) - 1];\r\n    updateSpacingCssVariables(srList, paddingVariable, spaceUnit);\r\n}\r\n;\r\n\r\nexport function loadSpacingDefaultStyle(mq) {\r\n    var responsiveSpacing = '@media (min-width:64rem){:root{--space-unit:  1.25em;}}';\r\n    // var style = '<style id=\"spacing-style\">'+responsiveSpacing+'</style>';\r\n    // $('#spacing-style').remove();\r\n\r\n    // var baseStyle = $('#cd-base-part-1');\r\n    // $(style).insertAfter(baseStyle);\r\n    // load after component style -> this will need to overwrite the default spacing style\r\n    // $('head').append(style);\r\n    loadSpacingStyleTag(responsiveSpacing);\r\n}\r\n;\r\n\r\nexport function loadSpacingStyleTag(style) {\r\n    var style = '<style id=\"spacing-style\">' + style + '</style>';\r\n    $('#spacing-style').remove();\r\n    var baseStyle = $('#cd-base-part-1');\r\n    $(style).insertAfter(baseStyle);\r\n}\r\n;\r\n\r\nexport function setTypographyCssVariables(headingValues, bodyValues, typography, mq) {\r\n    //css variables\r\n    if (headingValues[2] && headingValues[2] != '') {\r\n        setCssVariable('--heading-line-height', headingValues[2]);\r\n        // setElementCssVariable('text-component', '--heading-line-height', headingValues[2]);\r\n    }\r\n    if (bodyValues[2] && bodyValues[2] != '') {\r\n        setCssVariable('--body-line-height', bodyValues[2]);\r\n        // setElementCssVariable('text-component', '--body-line-height', bodyValues[2]);\r\n    }\r\n\r\n    setCssVariable('--text-base-size', getValidResponsiveValue(Object.values(typography['baseSize']), mq, false));\r\n    setCssVariable('--text-scale-ratio', getValidResponsiveValue(Object.values(typography['scaleRatio']), mq, false));\r\n    setCssVariable('--text-unit', getTextUnit(typography));\r\n}\r\n;\r\n\r\nexport function getTypographyArray(obj) {\r\n    var arr = [];\r\n    for (var i = 0; i < 6; i++) {\r\n        arr.push(Object.values(obj[i]));\r\n    }\r\n    return arr;\r\n}\r\n;\r\n\r\nexport function getTypographyStyle(array, selector, typography) {\r\n    var style = '';\r\n    if (parseInt(array[0]) && parseInt(array[0]) != 0) {\r\n        var fontIds = Object.values(typography['fontFamilyIds']);\r\n        // importantCss = selector == 'body' ? '!important' : '';\r\n        style = style + 'font-family: ' + typography['fontFamilies'][fontIds.indexOf(parseInt(array[0]))] + ';';\r\n    }\r\n    if (array[1] && array[1] != '')\r\n        style = style + 'font-weight: ' + array[1] + ';';\r\n    return selector + '{' + style + '}';\r\n}\r\n;\r\n// export function updateSpacingCssVariables(list, padding, spaceUnit) {\r\n// \tsetCssVariable('--space-unit', spaceUnit);\r\n// \tsetCssVariable('--component-padding', padding);\r\n// \tfor(var i = 0; i < list.length; i++) {\r\n// \t\tsetCssVariable(paddingVariables[i], list[i]);\r\n// \t}\r\n// };\r\n\r\nexport function updateSpacingCssVariables(list, padding, spaceUnit) {\r\n    setCssVariable('--space-unit', spaceUnit);\r\n    var spacingVariables = '--component-padding:' + 'calc(' + padding + ' * var(--space-unit));';\r\n    for (var i = 0; i < list.length; i++) {\r\n        spacingVariables = spacingVariables + paddingVariables[i] + ': calc(' + list[i] + ' * var(--space-unit));';\r\n    }\r\n    spacingVariables = 'root, *{' + spacingVariables + '}';\r\n    loadSpacingStyleTag(spacingVariables);\r\n}\r\n;\r\n\r\nexport function getSpacingValues(spaceRatio, su, mq, spaceRatioCustom) {\r\n    var list = spaceRatioUnit[getValidResponsiveValue(spaceRatio, mq, false)];\r\n    if (list == '') {\r\n        //custom scale\r\n        list = getSpacingCustomScaleRatio(mq, spaceRatioCustom, spaceRatio);\r\n    }\r\n\r\n    var spaceList = [];\r\n    var suArray = getValueUnit(su);\r\n    if (suArray[0] === false) {\r\n        suArray[0] = 1;\r\n        suArray[1] = 'em';\r\n    }\r\n    for (var i = 0; i < list.length; i++) {\r\n        var updated = Math.round(list[i] * suArray[0] * 1000) / 1000;\r\n        spaceList.push(updated + suArray[1]);\r\n    }\r\n    return spaceList;\r\n}\r\n;\r\n\r\nexport function getSpacingMultiplier(spaceRatio, mq, spaceRatioCustom) {\r\n    var list = spaceRatioUnit[getValidResponsiveValue(spaceRatio, mq, false)];\r\n    if (list == '') {\r\n        //custom scale\r\n        list = getSpacingCustomScaleRatio(mq, spaceRatioCustom, spaceRatio);\r\n    }\r\n    return list;\r\n}\r\n;\r\n\r\nexport function getSpacingCustomScaleRatio(mq, spaceRatioCustom, spaceRatio) {\r\n    var array = [];\r\n    for (var i = 0; i < spaceRatioUnit[1].length; i++) {\r\n        array[i] = getSpacingValidResponsiveValueCustomRatio(spaceRatioCustom[i], mq, spaceRatio);\r\n    }\r\n    return array;\r\n}\r\n;\r\n\r\nexport function getSpacingValidResponsiveValueCustomRatio(spaceArray, index, spaceRatio) {\r\n    if (index == 0)\r\n        return spaceArray[0];\r\n    var item = spaceArray[index];\r\n    if (item !== false && item !== '' && spaceRatio[index] == 6) {\r\n        //item defined and space ratio set to custom\r\n        return item;\r\n    } else {\r\n        return getSpacingValidResponsiveValueCustomRatio(spaceArray, index - 1, spaceRatio);\r\n    }\r\n}\r\n;\r\n\r\nexport function getSpaceRatioCustom(obj) {\r\n    var arr = [];\r\n    for (var i = 0; i < 11; i++) {\r\n        arr.push(Object.values(obj[i]));\r\n    }\r\n    return arr;\r\n}\r\n;\r\n\r\nexport function loadButtonsStyle(buttons) {\r\n    //convert obj to array;\r\n    var buttonsArray = getButtonsArrayStyle(buttons['style']);\r\n    var btnsList = ['btn', 'btn--primary', 'btn--subtle', 'btn--accent', 'btn--disabled', 'btn--sm', 'btn--md', 'btn--lg']\r\n        , statusList = ['none', ':active', ':hover', ':focus']\r\n        , statusPriorityList = ['none', ':hover', ':focus', ':active']\r\n        , code = '';\r\n\r\n    for (var i = 0; i < btnsList.length; i++) {\r\n        code = code + buttonsCodeStyle(buttonsArray[btnsList[i]], btnsList[i], statusList, statusPriorityList, false, true);\r\n    }\r\n    // get code for btn--icon\r\n    var btnIconCode = buttonIconCodeStyle(buttonsArray['btn']);\r\n    // get code for button variables\r\n    var btnVariables = buttonVariables(buttonsArray);\r\n    loadButtonsStyleTag(btnVariables + code + btnIconCode);\r\n}\r\n;\r\n\r\nexport function loadButtonsStyleStyleGuide(buttons) {\r\n    // buttonsArray = buttons['btnStyle']\r\n    if (!buttons['btnStyle'])\r\n        return '';\r\n    var buttonsArray = buttons['btnStyle'];\r\n    // button-icon class\r\n    var btnIconCode = '';\r\n    if (buttonsArray['btn']) {\r\n        btnIconCode = buttonIconCodeStyle(buttonsArray['btn']);\r\n    }\r\n    // button CSS variables\r\n    var btnVariables = buttonVariables(buttonsArray);\r\n    // buttons style\r\n    var btnsList = ['btn', 'btn--primary', 'btn--subtle', 'btn--accent', 'btn--disabled', 'btn--sm', 'btn--md', 'btn--lg']\r\n        , statusList = ['none', ':active', ':hover', ':focus']\r\n        , statusPriorityList = ['none', ':hover', ':focus', ':active']\r\n        , btnStyle = '';\r\n    // default btns style\r\n    for (var i = 0; i < btnsList.length; i++) {\r\n        btnStyle = btnStyle + buttonsCodeStyle(buttonsArray[btnsList[i]], btnsList[i], statusList, statusPriorityList, false, true);\r\n    }\r\n    // custom btns code\r\n    if (buttons['customBtns'] && buttons['customBtns'].length > 0) {\r\n        for (var i = 0; i < buttons['customBtns'].length; i++) {\r\n            btnStyle = btnStyle + buttonsCodeStyle(buttonsArray[buttons['customBtns'][i][1]], buttons['customBtns'][i][0], statusList, statusPriorityList, false, true);\r\n        }\r\n    }\r\n\r\n    return btnVariables + btnStyle + btnIconCode;\r\n}\r\n;\r\n\r\nexport function loadSharedStyleStyleGuide(shared_style) {\r\n    var statusList = ['none', ':active', ':hover', ':focus']\r\n        , statusPriorityList = ['none', ':hover', ':focus', ':active']\r\n        , btnStyle = '';\r\n    if (shared_style['customStyles'] && shared_style['customStyles'].length > 0) {\r\n        for (var i = 0; i < shared_style['customStyles'].length; i++) {\r\n            btnStyle = btnStyle + buttonsCodeStyle(shared_style.customStyleArray[shared_style['customStyles'][i][1]], escapeCSScharacters(shared_style['customStyles'][i][0]), statusList, statusPriorityList, false);\r\n\r\n        }\r\n    }\r\n    if (shared_style['customTextStyles'] && shared_style['customTextStyles'].length > 0) {\r\n        for (var i = 0; i < shared_style['customTextStyles'].length; i++) {\r\n            btnStyle = btnStyle + buttonsCodeStyle(shared_style.customTextStyleArray[shared_style['customTextStyles'][i][1]], escapeCSScharacters(shared_style['customTextStyles'][i][0]), statusList, statusPriorityList, false);\r\n\r\n        }\r\n    }\r\n    return btnStyle;\r\n}\r\n;\r\n\r\nexport function escapeCSScharacters(label) {\r\n    label = label.replace(/\\:/g, '\\\\:');\r\n    label = label.replace(/\\%/g, '\\\\%');\r\n    label = label.replace(/\\//g, '\\\\/');\r\n    return label\r\n}\r\n;\r\n\r\nexport function loadButtonsDefaultStyle(mq) {\r\n    var btnsStyle = ':root {--btn-font-size: 1em;--btn-padding-x: var(--space-sm); --btn-padding-y: var(--space-xxs); -btn-radius: 0.25em;}.btn {line-height: 1.2;box-shadow: var(--shadow-xs);-webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale;transition: .2s; will-change: transform;}.btn:hover {cursor: pointer;box-shadow: var(--shadow-sm);}.btn:focus {box-shadow: 0px 0px 0px 2px hsla(var(--color-contrast-higher-h), var(--color-contrast-higher-s), var(--color-contrast-higher-l), 0.15);outline: none;}.btn:active {transform: translateY(2px);}.btn--primary {background-color: var(--color-primary);color: var(--color-white)}.btn--primary:hover {background-color: var(--color-primary-dark);}.btn--primary:focus {box-shadow: 0px 0px 0px 2px hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.2);}.btn--subtle {background-color: var(--color-contrast-lower);color: var(--color-contrast-higher);}.btn--accent {background-color: var(--color-accent);color: var(--color-white);}.btn--accent:hover {background-color: var(--color-accent-dark);}.btn--accent:focus {box-shadow: 0px 0px 0px 2px hsla(var(--color-accent-h), var(--color-accent-s), var(--color-accent-l), 0.2);}.btn--disabled, .btn[disabled], .btn[readonly] {opacity: 0.6;cursor: not-allowed;}.btn--sm{font-size: 0.8em;}.btn--md{font-size: 1.2em;}.btn--lg{font-size: 1.4em;}';\r\n    loadButtonsStyleTag(btnsStyle);\r\n}\r\n;\r\n\r\nexport function buttonVariables(btnStyle) {\r\n    var sizes = [['btn', ''], ['btn--sm', '-sm'], ['btn--md', '-md'], ['btn--lg', '-lg']];\r\n    var string = '';\r\n    for (var i = 0; i < sizes.length; i++) {\r\n        if (btnStyle[sizes[i][0]] && btnStyle[sizes[i][0]]['none'] && btnStyle[sizes[i][0]]['none']['typography']) {\r\n            var fontBase = getButtonsFontSizeValue(btnStyle[sizes[i][0]]['none']['typography']);\r\n            if (fontBase != '')\r\n                string = string + '--btn-font-size' + sizes[i][1] + ':' + fontBase + ';'\r\n        }\r\n    }\r\n    if (btnStyle['btn'] && btnStyle['btn']['none'] && btnStyle['btn']['none']['padding'] && btnStyle['btn']['none']['padding'][1]) {\r\n        string = string + '--btn-padding-x:' + getButtonsPaddingValue(btnStyle['btn']['none']['padding'][1]) + ';';\r\n    }\r\n    if (btnStyle['btn'] && btnStyle['btn']['none'] && btnStyle['btn']['none']['padding'] && btnStyle['btn']['none']['padding'][0]) {\r\n        string = string + '--btn-padding-y:' + getButtonsPaddingValue(btnStyle['btn']['none']['padding'][0]) + ';';\r\n    }\r\n    if (btnStyle['btn'] && btnStyle['btn']['none'] && btnStyle['btn']['none']['appearance']) {\r\n        if (btnStyle['btn']['none']['appearance'][2]) {\r\n            string = string + '--btn-radius:' + btnStyle['btn']['none']['appearance'][2] + ';';\r\n        } else {\r\n            string = string + '--btn-radius: 0em;';\r\n        }\r\n    }\r\n\r\n    return ':root{' + string + '}';\r\n}\r\n;\r\n\r\nexport function loadButtonsStyleTag(style) {\r\n    var styleEl = '<style id=\"buttons-style\">' + style + '</style>';\r\n    var baseStyle = $('#cd-base-part-1');\r\n    $(styleEl).insertAfter(baseStyle);\r\n    // $('head').append(styleEl);\r\n}\r\n;\r\n\r\nexport function loadFormsStyle(forms) {\r\n    var formsArray = getButtonsArrayStyle(forms['style']);\r\n    var formsList = ['form-control', '[disabled]', '[aria-invalid]', 'legend', 'form-label']\r\n        , statusList = ['none', ':active', ':hover', ':focus']\r\n        , statusPriorityList = ['none', ':hover', ':focus', ':active']\r\n        , code = '';\r\n    code = resetFormsStyleComponents();\r\n\r\n    for (var i = 0; i < formsList.length; i++) {\r\n        code = code + buttonsCodeStyle(formsArray[formsList[i]], formsList[i], statusList, statusPriorityList, true);\r\n    }\r\n    // get code for form variables\r\n    var btnVariables = formVariables(formsArray['form-control']);\r\n    loadFormsStyleTag(btnVariables + code);\r\n}\r\n;\r\n\r\nexport function loadFormsStyleStyleGuide(form) {\r\n    // form elements style\r\n    if (!form['btnStyle'])\r\n        return '';\r\n    var formsArray = form['btnStyle'];\r\n    var formsList = ['form-control', '[disabled]', '[aria-invalid]', 'legend', 'form-label']\r\n        , statusList = ['none', ':active', ':hover', ':focus']\r\n        , statusPriorityList = ['none', ':hover', ':focus', ':active']\r\n        , formStyle = '';\r\n    for (var i = 0; i < formsList.length; i++) {\r\n        formStyle = formStyle + buttonsCodeStyle(formsArray[formsList[i]], formsList[i], statusList, statusPriorityList, true);\r\n    }\r\n    // get code for form variables\r\n    var formCSSVariables = formVariables(formsArray['form-control']);\r\n    return formStyle + formCSSVariables;\r\n}\r\n;\r\n\r\nexport function formVariables(formStyle) {\r\n    var string = '';\r\n    if (formStyle && formStyle['none'] && formStyle['none']['padding'] && formStyle['none']['padding'][1]) {\r\n        string = string + '--form-control-padding-x:' + getButtonsPaddingValue(formStyle['none']['padding'][1]) + ';';\r\n    }\r\n    if (formStyle && formStyle['none'] && formStyle['none']['padding'] && formStyle['none']['padding'][0]) {\r\n        string = string + '--form-control-padding-y:' + getButtonsPaddingValue(formStyle['none']['padding'][0]) + ';';\r\n    }\r\n    if (formStyle && formStyle['none'] && formStyle['none']['appearance']) {\r\n        if (formStyle['none']['appearance'][2]) {\r\n            string = string + '--form-control-radius:' + formStyle['none']['appearance'][2] + ';';\r\n        } else {\r\n            string = string + '--form-control-radius: 0em;';\r\n        }\r\n\r\n    }\r\n    return ':root{' + string + '}';\r\n}\r\n;\r\n\r\nexport function loadFormsDefaultStyle(mq) {\r\n    var formStyle = ':root {--form-control-padding-x: var(--space-xs);--form-control-padding-y: var(--space-xxs);--form-control-radius: 0.25em;}.form-control {line-height: 1.2;background-color: var(--color-bg);border: 2px solid var(--color-contrast-low);transition: 0.2s;}.form-control:focus {border-color: var(--color-primary);box-shadow: 0px 0px 0px 2px hsla(var(--color-primary-h), var(--color-primary-s),var(--color-primary-l), 0.2);outline: none;}.form-control[aria-invalid=\"true\"], .form-control--error {border-color: var(--color-error);}.form-control[aria-invalid=\"true\"]:focus, .form-control--error:focus {border-color: var(--color-error);box-shadow: 0px 0px 0px 2px hsla(var(--color-error-h), var(--color-error-s),var(--color-error-l), 0.2);}.form-control--disabled, .form-control[disabled], .form-control[readonly] {cursor: not-allowed;}.form-label {font-size: var(--text-sm);}.form-legend{font-size: var(--text-md);}';\r\n    formStyle = formStyle + '.form-control::placeholder{opacity: 1;color: var(--color-contrast-medium);}';\r\n    loadFormsStyleTag(formStyle);\r\n}\r\n;\r\n\r\nexport function loadFormsStyleTag(style) {\r\n    var defaultStyle = '.form-error-msg {background-color: hsla(var(--color-error-h),var(--color-error-s), var(--color-error-l), 0.2);color: inherit;border-radius: var(--radius-md);padding: var(--space-xs);}';\r\n    var styleEl = '<style id=\"forms-style\">' + style + defaultStyle + '</style>';\r\n    var baseStyle = $('#cd-base-part-1');\r\n    $(styleEl).insertAfter(baseStyle);\r\n    // $('head').append(styleEl);\r\n}\r\n;\r\n\r\nexport function boxShadowIsDefined(array) {\r\n    return (array && array[0] && array[0][1] && array[0][1] != '');\r\n}\r\n;\r\n\r\nexport function getButtonsArrayStyle(obj) {\r\n    var array = [];\r\n    for (var property in obj) {\r\n        if (obj.hasOwnProperty(property)) {\r\n            array[property] = [];\r\n            for (var subproperty in obj[property]) {\r\n                if (obj[property].hasOwnProperty(subproperty)) {\r\n                    array[property][subproperty] = [];\r\n                    for (var val in obj[property][subproperty]) {\r\n                        if (obj[property][subproperty].hasOwnProperty(val)) {\r\n                            if (val == 'border' || val == 'textShadow' || val == 'shadow' || val == 'transform' || val == 'transition') {\r\n                                array[property][subproperty][val] = [];\r\n                                for (var subVal in obj[property][subproperty][val]) {\r\n                                    if (obj[property][subproperty][val].hasOwnProperty(subVal)) {\r\n                                        array[property][subproperty][val][subVal] = Object.values(obj[property][subproperty][val][subVal]);\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                array[property][subproperty][val] = Object.values(obj[property][subproperty][val]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return array;\r\n}\r\n;\r\n\r\nexport function buttonsCodeStyle(style, btnLabel, statusList, statusPriorityList, isDemoReset, isButton) {\r\n    var string = '';\r\n    if (!style)\r\n        return string;\r\n    var btnLabelmodified = btnLabel;\r\n    if (btnLabel == '[disabled]') {\r\n        btnLabelmodified = 'form-control--disabled, .form-control[disabled], .form-control[readonly]';\r\n    } else if (btnLabel == '[aria-invalid]') {\r\n        btnLabelmodified = 'form-control[aria-invalid=\"true\"], .form-control--error';\r\n    } else if (btnLabel == 'legend') {\r\n        btnLabelmodified = 'form-legend';\r\n    } else if (btnLabel == 'btn--disabled') {\r\n        btnLabelmodified = 'btn--disabled, .btn[disabled], .btn[readonly]';\r\n    }\r\n    var btnHasTransform = isButton && buttonsHasTransformStyle(style, statusPriorityList);\r\n    for (var i = 0; i < statusPriorityList.length; i++) {\r\n        var styleLabel = (i == 0) ? '.' + btnLabelmodified : setStatusList('.' + btnLabelmodified, statusPriorityList[i]);\r\n        var newCode = getButtonCode(style[statusPriorityList[i]], '', true, btnLabel, statusPriorityList[i], isDemoReset, (btnHasTransform && i == 0));\r\n        newCode = newCode.trim();\r\n        if (newCode.slice(-1) == '}') {\r\n            string = string + styleLabel + '{' + newCode;\r\n        } else {\r\n            string = string + styleLabel + '{' + newCode + '}';\r\n        }\r\n    }\r\n    string = string.replace(/\\n/g, '');\r\n    return string;\r\n}\r\n;\r\n\r\nexport function setStatusList(label, status) {\r\n    // e.g., if label = '.form-control[aria-invalid=\"true\"], .form-control--error' and status = ':focus', return '.form-control[aria-invalid=\"true\"]:focus, .form-control--error:focus'\r\n    var labelArray = label.split(',');\r\n    if (labelArray.length == 1) {\r\n        return label + status;\r\n    } else {\r\n        var newLabel = ''\r\n        for (var i = 0; i < labelArray.length; i++) {\r\n            if (i > 0)\r\n                newLabel = newLabel + ',';\r\n            newLabel = newLabel + labelArray[i] + status;\r\n        }\r\n        return newLabel;\r\n    }\r\n}\r\n;\r\n\r\nexport function buttonIconCodeStyle(btnStyle) {\r\n    var code = '';\r\n    if (btnStyle && btnStyle['none'] && btnStyle['none']['padding'] && btnStyle['none']['padding'][0] && btnStyle['none']['padding'][0] != 0) {\r\n        code = '.btn--icon {padding: ' + spacingArray[btnStyle['none']['padding'][0]] + ';}';\r\n    }\r\n    return code;\r\n}\r\n;\r\n\r\nexport function buttonsHasTransformStyle(style, priorityList) {\r\n    var hasTransform = false;\r\n    for (var i = 1; i < priorityList.length; i++) {\r\n        if (!style[priorityList[i]])\r\n            return;\r\n        var transform = style[priorityList[i]]['transform'];\r\n        if (transform.length > 1 || (transform.length > 0 && transform[0][0] != 0)) {\r\n            hasTransform = true;\r\n            break;\r\n        }\r\n    }\r\n    return hasTransform;\r\n}\r\n;\r\n\r\nexport function getButtonCode(array, spacing, reset, btnLabel, btnStatus, isDemoReset, btnHasTransform) {\r\n    var string = '';\r\n    for (var property in array) {\r\n        switch (property) {\r\n            case 'appearance':\r\n                string = string + getButtonsAppearanceStyle(array[property], spacing, reset, btnLabel, btnStatus);\r\n                break;\r\n            case 'padding':\r\n                string = string + getButtonsPaddingStyle(array[property], spacing, reset, btnLabel, btnStatus);\r\n                break;\r\n            case 'margin':\r\n                string = string + getButtonsMarginStyle(array[property], spacing, reset);\r\n                break;\r\n            case 'border':\r\n                string = string + getButtonsBorderStyle(array[property], spacing, reset);\r\n                break;\r\n            case 'typography':\r\n                string = string + getButtonsTypographyStyle(array[property], spacing, reset, btnLabel, btnStatus);\r\n                break;\r\n            case 'textShadow':\r\n                string = string + getButtonsTextShadowStyle(array[property], spacing, reset);\r\n                break;\r\n            case 'shadow':\r\n                string = string + getButtonsShadowStyle(array[property], spacing, reset, isDemoReset);\r\n                break;\r\n            case 'outline':\r\n                string = string + getButtonsOutlineStyle(array[property], spacing, reset);\r\n                break;\r\n            case 'transform':\r\n                string = string + getButtonsTransformStyle(array[property], spacing, reset);\r\n                break;\r\n            case 'transition':\r\n                string = string + getButtonsTransitionStyle(array[property], spacing, reset);\r\n                break;\r\n            case 'placeholder':\r\n                string = string + getButtonsPlaceholderStyle(array[property], spacing, reset, btnLabel, btnStatus);\r\n                break;\r\n        }\r\n    }\r\n    if (btnHasTransform)\r\n        string = string + '\\n' + spacing + 'will-change: transform;';\r\n    return string;\r\n}\r\n;\r\n\r\nexport function getButtonsAppearanceStyle(array, spacing, reset, btnLabel, btnStatus) {\r\n    var string = '';\r\n    if (array[0]) {\r\n        if (array[0].indexOf('--gradient-') > -1) {\r\n            string = string + '\\n' + spacing + getGradientBgStyle(array[0]);\r\n        } else {\r\n            string = string + '\\n' + spacing + 'background: ' + getColorValue(array[0], reset) + ';';\r\n        }\r\n    }\r\n    if (array[1])\r\n        string = string + '\\n' + spacing + 'color: ' + getColorValue(array[1], reset) + ';';\r\n    if (reset && reset != true && btnStatus == 'none' && (btnLabel == 'btn' || btnLabel == 'form-control')) {// for copy code -> no need to add border-radius in code -> css variables already set\r\n    } else {\r\n        if (array[7] && array[7] > 0) {\r\n            string = string + '\\n' + spacing + 'border-radius: ' + borderRadiusValues[array[7]] + ';';\r\n        } else if (array[2] && array[2] != '') {\r\n            string = string + '\\n' + spacing + 'border-radius: ' + array[2] + ';';\r\n        }\r\n    }\r\n    if (array[3] && array[3] != '')\r\n        string = string + '\\n' + spacing + 'opacity: ' + array[3] + ';';\r\n    if (array[4] && array[4] != 0)\r\n        string = string + '\\n' + spacing + 'cursor: ' + getCursorValue(array[4]) + ';';\r\n    return string;\r\n}\r\n;\r\n\r\nexport function getGradientBgStyle(label) {\r\n    var angle = label.indexOf('-right') > -1 ? '90deg' : '180deg'\r\n        , niceLabel = label.replace('-right', '').replace('-bottom', '');\r\n    return 'background: linear-gradient(' + angle + ', var(' + niceLabel + '-stop-1), var(' + niceLabel + '-stop-2));';\r\n}\r\n;\r\n\r\nexport function getButtonsPaddingStyle(array, spacing, reset, btnLabel, btnStatus) {\r\n    //Y - X\r\n    // for copy code -> no need to add padding in code -> css variables already set\r\n    if (reset && reset != true && btnStatus == 'none' && (btnLabel == 'btn' || btnLabel == 'form-control'))\r\n        return '';\r\n    var string = '';\r\n    if (array.length < 1)\r\n        return string;\r\n    if (array[0] != 0 && array[1] != 0) {\r\n        string = string + '\\n' + spacing + 'padding: ' + spacingArray[array[0]] + ' ' + spacingArray[array[1]] + ';';\r\n    } else {\r\n        if (array[0] != 0)\r\n            string = string + '\\n' + spacing + 'padding-top: ' + spacingArray[array[0]] + ';\\n' + spacing + 'padding-bottom: ' + spacingArray[array[0]] + ';';\r\n        if (array[1] != 0)\r\n            string = string + '\\n' + spacing + 'padding-left: ' + spacingArray[array[1]] + ';\\n' + spacing + 'padding-right: ' + spacingArray[array[1]] + ';';\r\n    }\r\n    return string;\r\n}\r\n;\r\n\r\nexport function getButtonsPaddingValue(value) {\r\n    // setting css variables for copy code only\r\n    var padding = '';\r\n    if (value != 0)\r\n        padding = spacingArray[value];\r\n    return padding;\r\n}\r\n;\r\n\r\nexport function getButtonsMarginStyle(array, spacing, reset) {\r\n    //top left right bottom\r\n    var string = '';\r\n    if (array.length < 1)\r\n        return string;\r\n    if (array[0] != 0 && array[1] != 0 && array[2] != 0 && array[3] != 0) {\r\n        string = string + '\\n' + spacing + 'margin: ' + spacingArray[array[0]] + ' ' + spacingArray[array[2]] + ' ' + spacingArray[array[3]] + ' ' + spacingArray[array[1]] + ';';\r\n    } else {\r\n        if (array[0] != 0)\r\n            string = string + '\\n' + spacing + 'margin-top: ' + spacingArray[array[0]] + ';';\r\n        if (array[1] != 0)\r\n            string = string + '\\n' + spacing + 'margin-left: ' + spacingArray[array[1]] + ';';\r\n        if (array[2] != 0)\r\n            string = string + '\\n' + spacing + 'margin-right: ' + spacingArray[array[2]] + ';';\r\n        if (array[3] != 0)\r\n            string = string + '\\n' + spacing + 'margin-bottom: ' + spacingArray[array[3]] + ';';\r\n    }\r\n    return string;\r\n}\r\n;\r\n\r\nexport function getButtonsBorderStyle(array, spacing, reset) {\r\n    var string = ''\r\n        , colorVariables = '';\r\n    for (var i = 0; i < array.length; i++) {\r\n        if (array[i][3] == 0)\r\n            string = string + '\\n' + spacing + getBorderType(array[i][1]) + ': none;';\r\n        else if (array[i][2] == '') {\r\n            var app = array.length > 1 ? '-' + (i + 1) : '';\r\n            var variable = getColorFbIos(array[i][0], '--color-border' + app, spacing, reset);\r\n            colorVariables = colorVariables + variable[0];\r\n            string = string + '\\n' + spacing + getBorderType(array[i][1]) + '-color: ' + variable[1] + ';';\r\n        } else {\r\n            var app = array.length > 1 ? '-' + (i + 1) : '';\r\n            var variable = getColorFbIos(array[i][0], '--color-border' + app, spacing, reset);\r\n            colorVariables = colorVariables + variable[0];\r\n            string = string + '\\n' + spacing + getBorderType(array[i][1]) + ': ' + array[i][2] + ' ' + getBorderStyle(array[i][3]) + ' ' + variable[1] + ';';\r\n            // string = string + '\\n'+spacing+getBorderType(array[i][1])+': '+array[i][2]+' '+getBorderStyle(array[i][3])+' '+getColorValue(array[i][0], reset)+';';\r\n        }\r\n    }\r\n    return colorVariables + string;\r\n}\r\n;\r\n\r\nexport function getButtonsTypographyStyle(array, spacing, reset, btnLabel, btnStatus) {\r\n    var string = '';\r\n    if (array[0])\r\n        string = string + '\\n' + spacing + 'font-family: var(' + fontArray[btnFontIds.indexOf(array[0])] + ');';\r\n    if (reset && reset != true && btnStatus == 'none' && (btnLabel == 'btn' || btnLabel == 'form-control')) {// for copy code -> no need to add font-size in code -> css variables already set\r\n    } else {\r\n        if (array[1] && array[1] != 0) {\r\n            var fontSize = (array[1] == 9) ? array[2] : textArrayValues[array[1]];\r\n            if (btnStatus == 'none' && (btnLabel == 'btn' || btnLabel == 'form-control')) {\r\n                if (btnLabel == 'btn')\r\n                    string = string + '\\n' + spacing + '--btn-font-size: ' + fontSize + ';';\r\n                else\r\n                    string = string + '\\n' + spacing + '--form-control-font-size: ' + fontSize + ';';\r\n            } else {\r\n                string = string + '\\n' + spacing + 'font-size: ' + fontSize + ';';\r\n            }\r\n        }\r\n    }\r\n    if (array[3] && array[3] != '')\r\n        string = string + '\\n' + spacing + 'font-weight: ' + array[3] + ';';\r\n    if (array[4] && array[4] != 0)\r\n        string = string + '\\n' + spacing + 'text-transform: ' + getTextTransform(array[4]) + ';';\r\n    if (array[5] && array[5] != 0)\r\n        string = string + '\\n' + spacing + 'text-decoration: ' + getTextDecoration(array[5]) + ';';\r\n    if (btnLabel == 'btn' && btnStatus == 'none' && (!array[5] || array[5] == 0))\r\n        string = string + '\\n' + spacing + 'text-decoration: none;';\r\n    if (array[6] && array[6] != '')\r\n        string = string + '\\n' + spacing + 'line-height: ' + array[6] + ';'\r\n    if (array[7] && array[7] != '')\r\n        string = string + '\\n' + spacing + 'letter-spacing: ' + array[7] + ';'\r\n    if (array[8] && array[8] != 0) {\r\n        if (reset && reset === true) {\r\n            string = string + '\\n' + spacing + getFontSmoothing();\r\n        } else {\r\n            string = string + '\\n' + spacing + '@include fontSmooth;';\r\n        }\r\n    }\r\n    return string;\r\n}\r\n;\r\n\r\nexport function getButtonsTextShadowStyle(array, spacing, reset) {\r\n    var string = ''\r\n        , colorVariables = ''\r\n        , set = false;\r\n    for (var i = 0; i < array.length; i++) {\r\n        if (array[i][0] == 1) {\r\n            string = '\\n' + spacing + 'text-shadow: none;';\r\n            set = false;\r\n            break;\r\n        } else {\r\n            var app = array.length > 1 ? '-' + (i + 1) : '';\r\n            var variable = getColorFbIos(array[i][1], '--color-text-shadow' + app, spacing, reset);\r\n            colorVariables = colorVariables + variable[0];\r\n            if (i > 0)\r\n                string = string + ', ';\r\n            string = string + array[i][2] + ' ' + variable[1];\r\n            set = true;\r\n        }\r\n    }\r\n    if (set)\r\n        string = colorVariables + '\\n' + spacing + 'text-shadow: ' + string + ';';\r\n    return string;\r\n}\r\n;\r\n\r\nexport function getButtonsShadowStyle(array, spacing, reset, isDemoReset) {\r\n    var string = ''\r\n        , colorVariables = ''\r\n        , set = false;\r\n    for (var i = 0; i < array.length; i++) {\r\n        if (array[i][0] == 1) {\r\n            string = '\\n' + spacing + 'box-shadow: none;';\r\n            if (isDemoReset)\r\n                string = '\\n' + spacing + 'box-shadow: none !important;';\r\n            set = false;\r\n            break;\r\n        } else if (array[i][3] > 1) {\r\n            // custom shadow with framework variables\r\n            if (i > 0)\r\n                string = string + ', ';\r\n            string = string + shadowVariables[array[i][3]];\r\n            set = true;\r\n        } else {\r\n            var app = array.length > 1 ? '-' + (i + 1) : '';\r\n            var variable = getColorFbIos(array[i][1], '--color-shadow' + app, spacing, reset);\r\n            colorVariables = colorVariables + variable[0];\r\n            if (i > 0)\r\n                string = string + ', ';\r\n            string = string + getBoxShadowType(array[i][3]) + array[i][2] + ' ' + variable[1];\r\n            set = true;\r\n        }\r\n    }\r\n    if (set) {\r\n        // isDemoReset -> when loading forms for components, make sure to add important to box shadow to make sure the custom shadow is showed\r\n        if (isDemoReset)\r\n            string = string + ' !important';\r\n        string = colorVariables + '\\n' + spacing + 'box-shadow: ' + string + ';';\r\n    }\r\n\r\n    return string;\r\n}\r\n;\r\n\r\nexport function getButtonsOutlineStyle(array, spacing, reset) {\r\n    var string = '';\r\n    if (array[1] && array[1] != 0) {\r\n        if (array[1] == 8)\r\n            string = string + '\\n' + spacing + 'outline: none;';\r\n        else\r\n            string = string + '\\n' + spacing + 'outline: ' + array[2] + ' ' + getOutlineStyle(array[1]) + ' ' + getColorValue(array[0], reset) + ';';\r\n    }\r\n    if (array[3] && array[3] != '')\r\n        string = string + '\\n' + spacing + 'outline-offset: ' + array[3] + ';';\r\n    return string;\r\n}\r\n;\r\n\r\nexport function getButtonsTransformStyle(array, spacing, reset) {\r\n    var string = ''\r\n        , set = false;\r\n    for (var i = 0; i < array.length; i++) {\r\n        if (array[i][0] == 0) {\r\n            string = '\\n' + spacing + 'transform: none;';\r\n            break;\r\n        } else {\r\n            if (i > 0)\r\n                string = string + ' ';\r\n            string = string + getTransformProperty(array[i][0]) + '(' + array[i][1] + ')';\r\n            set = true;\r\n        }\r\n    }\r\n    if (set)\r\n        string = '\\n' + spacing + 'transform: ' + string + ';';\r\n    return string;\r\n}\r\n;\r\n\r\nexport function getButtonsTransitionStyle(array, spacing, reset) {\r\n    var string = ''\r\n        , set = false;\r\n    for (var i = 0; i < array.length; i++) {\r\n        if (array[i][0] == 1) {\r\n            string = '\\n' + spacing + 'transition: none;';\r\n            break;\r\n        } else {\r\n            if (i > 0)\r\n                string = string + ', ';\r\n            string = string + getTransitionProperty(array[i][0]) + ' ' + array[i][1] + 's ' + getTransitionEase(array[i][2]);\r\n            if (array[i][3] != '')\r\n                string = string + ' ' + array[i][3] + 's';\r\n            set = true;\r\n        }\r\n    }\r\n    if (set)\r\n        string = '\\n' + spacing + 'transition: ' + string + ';';\r\n    return string;\r\n}\r\n;\r\n\r\nexport function getButtonsPlaceholderStyle(array, spacing, reset, btnLabel, btnStatus) {\r\n    var string = '';\r\n    if (array.length < 1 || !array[0] || array[0] == '')\r\n        return '';\r\n    var style = '\\n' + spacing + '  color: ' + getColorValue(array[0], reset) + ';';\r\n\r\n    if (reset && reset === true) {\r\n        string = string + '}';\r\n        var selector = '.' + btnLabel;\r\n        if (btnStatus != 'none')\r\n            selector = selector + btnStatus;\r\n        string = string + selector + '::placeholder {\\n' + spacing + '  opacity: 1;' + spacing + style + '\\n' + spacing + '}';\r\n    } else {\r\n        string = string + '\\n\\n' + spacing + '&::placeholder {\\n' + spacing + '  opacity: 1;' + spacing + style + '\\n' + spacing + '}';\r\n    }\r\n    return string;\r\n}\r\n;\r\n\r\nexport function getButtonsFontSizeValue(array) {\r\n    var fontSize = '';\r\n    if (array[1] && array[1] != 0) {\r\n        fontSize = (array[1] == 9) ? array[2] : textArrayValues[array[1]];\r\n    }\r\n    return fontSize;\r\n}\r\n;\r\n\r\nexport function resetFormsStyleComponents() {\r\n    var style = '';\r\n    style = style + '.form-legend {color: inherit;line-height: normal;}';\r\n    return style;\r\n}\r\n;\r\n\r\nexport function getSuffixOpacity(value) {\r\n    if (value == 0)\r\n        return '-a00';\r\n    if (value < 10)\r\n        return '-a0' + value;\r\n    return '-a' + value;\r\n}\r\n;\r\n\r\nexport function getLuminance(hsl, iframe) {\r\n    if (hsl[0] == 0 && hsl[1] == 0 && hsl[2] == 1)\r\n        return 1;\r\n    // white\r\n    if (hsl[0] == 0 && hsl[1] == 0 && hsl[2] == 0)\r\n        return 0;\r\n    // black\r\n    var rgbSr = getRGBsrValues(hsl, iframe);\r\n    return (0.2126 * rgbSr[0] + 0.7152 * rgbSr[1] + 0.0722 * rgbSr[2]);\r\n}\r\n;\r\n\r\nexport function getRGBsrValues(value, iframe) {\r\n    var rgb = getRGBValues(value, iframe);\r\n    var rSr = (rgb[0] <= 0.03928) ? rgb[0] / 12.92 : Math.pow(((rgb[0] + 0.055) / 1.055), 2.4);\r\n    var gSr = (rgb[1] <= 0.03928) ? rgb[1] / 12.92 : Math.pow(((rgb[1] + 0.055) / 1.055), 2.4);\r\n    var bSr = (rgb[2] <= 0.03928) ? rgb[2] / 12.92 : Math.pow(((rgb[2] + 0.055) / 1.055), 2.4);\r\n    return [rSr, gSr, bSr];\r\n}\r\n;\r\n\r\nexport function getRGBValues(hsl, iframe) {\r\n    var rgb = getRGBfromHSL(hsl);\r\n    return [rgb[0] / 255, rgb[1] / 255, rgb[2] / 255];\r\n}\r\n;\r\n\r\nexport function getRGBfromHSL(hsl) {\r\n    return chroma.hsl(hsl).rgb();\r\n};\r\nexport let loadedIframeCheck = false;\r\n//select text of a contentEditable element\r\njQuery.fn.selectText = function () {\r\n    var doc = document;\r\n    var element = this[0];\r\n    if (doc.body.createTextRange) {\r\n        var range = document.body.createTextRange();\r\n        range.moveToElementText(element);\r\n        range.select();\r\n    } else if (window.getSelection) {\r\n        var selection = window.getSelection();\r\n        var range = document.createRange();\r\n        range.selectNodeContents(element);\r\n        selection.removeAllRanges();\r\n        selection.addRange(range);\r\n    }\r\n}\r\n;\r\n\r\nexport function initFontList(typography) {\r\n    fontArray = [''];\r\n    btnFontIds = [0];\r\n    for (var property in typography['fontFamilyLabels']) {\r\n        if (typography['fontFamilyLabels'].hasOwnProperty(property)) {\r\n            fontArray.push(typography['fontFamilyLabels'][property]);\r\n            btnFontIds.push(typography['fontFamilyIds'][property]);\r\n        }\r\n    }\r\n}\r\n;\r\n\r\n(function () {\r\n    var demoContainer = $('.js-cd-demo-container')\r\n        , demoViewport = $('.js-cd-demo-viewport-size');\r\n    //when double-clicking on variables -> select all text\r\n    demoContainer.on('dblclick', '.js-css-variable-label', function (event) {\r\n        $(event.currentTarget).selectText();\r\n    });\r\n\r\n    //detect click on iframe and send to main to close popups\r\n    var iframeParent = window.parent;\r\n    if (!iframeParent) {\r\n        iframeParent = parent;\r\n    }\r\n\r\n    if (iframeParent) {\r\n        $(window).on('click', function () {\r\n            if (iframeParent.closeActivePopups != null)\r\n                iframeParent.closeActivePopups();\r\n        });\r\n        // detect shortcut for search modal\r\n        window.addEventListener('keydown', function (event) {\r\n            if (event.keyCode && event.keyCode == 69 || event.key && event.key.toLowerCase() == 'e') {\r\n                if (event.ctrlKey || event.metaKey)\r\n                    iframeParent.openSiteSearch();\r\n            }\r\n        });\r\n    }\r\n\r\n    //detect resize of the page and reset iframe height\r\n    var resizing = false\r\n        , resizingID = false\r\n        , mqLabels = ['xs', 'sm', 'md', 'lg', 'xl'];\r\n    if (demoViewport.length > 0) {\r\n        window.addEventListener(\"resize\", function (event) {\r\n            if (!resizing) {\r\n                resizing = true;\r\n                window.requestAnimationFrame(updateLabelSizeWindow);\r\n            }\r\n        });\r\n    }\r\n\r\n    $('.js-cd-demo').on('globalsUpdate', function () {\r\n        updateComponentGlobals();\r\n    });\r\n\r\n    $('.js-cd-demo').on('showComponent', function () {\r\n        var compScript = $('#comp-script');\r\n        if (compScript) {\r\n            var newScript = compScript.clone();\r\n            newScript = compScript.attr('src', compScript.attr('data-src'));\r\n            newScript.removeAttr('data-src');\r\n            newScript.removeAttr('id');\r\n            newScript.insertBefore(compScript);\r\n        }\r\n        setTimeout(function () {\r\n            if (iframeParent)\r\n                iframeParent.revealComponent();\r\n        }, 300);\r\n    });\r\n\r\n    function updateLabelSizeWindow() {\r\n        var mq = getMq()\r\n            , sizes = getScreenSize();\r\n        if (resizing) {\r\n            demoContainer.trigger('windowResizing');\r\n            var mqLabelText = (mq > 0) ? ' (' + mqLabels[mq - 1] + ')' : '';\r\n            demoViewport.text(sizes[0] + 'px x ' + sizes[1] + 'px' + mqLabelText).show();\r\n            if (resizingID)\r\n                clearInterval(resizingID);\r\n            resizingID = setTimeout(function () {\r\n                demoViewport.hide();\r\n            }, 1000);\r\n        }\r\n        resizing = false;\r\n    }\r\n    ;\r\n\r\n    function updateComponentGlobals() {\r\n        //components -> if there's a project set, we should listen for changes in the viewport width as well\r\n        //typography and spacing are the only responsive globals\r\n        if (projectLoaded && (projectLoaded.typography || projectLoaded.spacing)) {\r\n            window.addEventListener(\"resize\", function (event) {\r\n                if (!resizing) {\r\n                    resizing = true;\r\n                    window.requestAnimationFrame(updateGlobals);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    ;\r\n\r\n    function updateGlobals() {\r\n        var mq = getMq();\r\n        if (mq == MQ) {\r\n            resizing = false;\r\n            return;\r\n        }\r\n        MQ = mq;\r\n\r\n        if (projectLoaded.typography && projectLoaded.typography !== '') {\r\n            //typography was saved and need to be modified\r\n            loadTypographyStyle(JSON.parse(decodeSafeURIComponent(projectLoaded.typography)), false, mq);\r\n        }\r\n\r\n        if (projectLoaded.spacing && projectLoaded.spacing !== '') {\r\n            //typography was saved and need to be modified\r\n            loadSpacingStyle(JSON.parse(decodeSafeURIComponent(projectLoaded.spacing)), mq);\r\n        }\r\n        resizing = false;\r\n    }\r\n    ;\r\n\r\n    loadedIframeCheck = true;\r\n}());\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const jsColors = require('./colors')\nconst jsPage = require('./page')\nconst {loadColorDefaultStyle, loadGlobalsStyle} = require(\"./page\");\n\nlet PROJECT;\nlet IS_LOGGED = 1;\nlet THEMES = window.THEMES\nlet THEMES_LANG = window.THEMES_LANG\naxios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\nfunction onIframeLoad(page, cb) {\n    console.log('%c ========================================================================', 'color: #0a49c7');\n    if (page.loadedIframeCheck && page.loadedIframeCheck == true) {\n        console.log('%c Theme color load by Latshow: https://discord.gg/QF2AtgHJXY -', 'color: #FFF; font-size: 15px');\n        setTimeout(function () {\n            cb();\n            $('.btn-picto-color').addClass('show')\n        }, 500);\n    } else {\n        window.onload = function () {\n            console.log('%c Theme color load Latshow: https://discord.gg/QF2AtgHJXY --', 'color: #0a49c7');\n            cb();\n        };\n    }\n    console.log('%c ========================================================================', 'color: #0a49c7');\n};\n\n(function () {\n    setTimeout(function () {\n        axios({\n            url: '/admin/themes/' + THEMES + '/config',\n            method: 'GET',\n            dataType: 'json',\n        }).then(function (response) {\n            let getConfig = JSON.parse(response.data.split('<!DOCTYPE html>')[0])\n            if (getConfig.project.color_themes_data && getConfig.project.color_themes_data !== '') {\n                PROJECT = {\n                    colors: getConfig.project.color_themes_data\n                }\n            } else {\n                PROJECT = {\n                    colors: ''\n                }\n            }\n            window.PROJECT = PROJECT\n        });\n\n        PROJECT = window.PROJECT;\n        // let dataFrame = jsPage;\n        // onIframeLoad(dataFrame, function () {\n        //     dataFrame.loadGlobalsStyle(PROJECT);\n        // });\n    }, 500)\n\n    /**********************\n     Input Color component\n     ***********************/\n    this.ColorInput = function (element) {\n        this.element = element;\n        this.inputColorHex = $(this.element).find('.js-app-color-picker__hex').find('input');\n        this.inputPreview = $(this.element).find('.js-app-color-picker__color');\n        this.inputColor = this.inputPreview.find('input');\n        this.inputColorSupported = inputColorSupported();\n        this.appColorSidebar = $(this.element).parents('.js-app-sidebar--globals');\n        this.hexValue = this.inputColorHex.val();\n        this.initColorInput();\n    };\n\n    ColorInput.prototype.initColorInput = function () {\n        var self = this;\n        //hide/show element\n        this.inputColor.toggle(this.inputColorSupported);\n        //listen to events\n        //color input - change\n        this.inputColor.on(\"input\", function (event) {\n            self.updateColor(event.target.value, true, true);\n        });\n        this.inputColor.on(\"change\", function (event) {\n            self.updateColor(event.target.value, true, true);\n        });\n        // text input - change -> hex\n        this.inputColorHex.on('focusout', function () {\n            if (self.hexValue == self.inputColorHex.val()) return;\n            self.updateColor($(this).val(), false, true);\n        });\n        this.inputColorHex.on('keyup', function (event) {\n            if (event.key === \"Enter\" && self.hexValue != self.inputColorHex.val()) {\n                self.updateColor($(this).val(), false, true);\n            }\n        });\n\n        $(this.element).on('update-picker', function (event, value) {\n            self.updateColor(chroma.hsl(value).hex(), false, false);\n        });\n        //this is triggered only by the contrast section in the colors global\n        $(this.element).on('update-contrast-picker', function (event, value1, value2) {\n            if ($(self.element).parents('.js-app-editor-section__bg-color-picker').length > 0) {\n                self.updateColor(chroma.hsl(value1).hex(), false, false);\n            } else if ($(self.element).parents('.js-app-editor-section__hc-color-picker').length > 0) {\n                self.updateColor(chroma.hsl(value2).hex(), false, false);\n            }\n        });\n    };\n\n    ColorInput.prototype.updateColor = function (color, bool, emitEvent) {\n        //first -> make sure no ; are inserted\n        color = color.replace(';', '');\n        var self = this;\n        if (color.indexOf('(') < 0 && color.indexOf('#') < 0) {\n            this.inputPreview.css('background-color', '#' + color);\n        } else {\n            this.inputPreview.css('background-color', color);\n        }\n        this.inputColorHex.val(color);\n        this.hexValue = color;\n        //need to update the color preview next to the input element\n        if (!bool) {\n            this.inputColor.val(chroma(color).hex());\n        }\n        if (emitEvent && this.appColorSidebar.length > 0) {\n            this.appColorSidebar.trigger('color-picker-updated', [getHslFromHex(color), $(self.element)]);\n        }\n    };\n\n    function inputColorSupported() {\n        var colorInput = $('<input type=\"color\" value=\"!\" />')[0];\n        return colorInput.type === 'color' && colorInput.value !== '!';\n    };\n\n    //initialize the Modal objects\n    var colorInputs = document.getElementsByClassName('js-color-picker');\n    if (colorInputs.length > 0) {\n        for (var i = 0; i < colorInputs.length; i++) {\n            (function (i) {\n                new ColorInput(colorInputs[i]);\n            })(i);\n        }\n    }\n\n\n    /************************/\n    /* \tcolor selection popup */\n    /************************/\n    this.ColorSelection = function (element) {\n        this.element = element;\n        this.basicSwatches = $(this.element).find('.js-app-menu__color-swatches');\n        this.variationsSwatches = $(this.element).find('.js-app-menu__color-variations');\n\n        this.stateA = $(this.element).find('.js-app-menu__state-a');\n        this.stateB = $(this.element).find('.js-app-menu__state-b');\n        this.stateBCustomOpacity = this.stateB.find('.js-app-menu__color-custom-opacity');\n        this.customOpacityInput = this.stateBCustomOpacity.find('input');\n        this.primaryColors = [];//this is an array of 5 colors\n        this.accentColors = [];//this is an array of 5 colors\n        this.blackColors = [];//this is a color string\n        this.whiteColors = [];//this is a color string\n        this.contrastColors = []; //this is an array of 5 elements\n        this.warningColors = []; //this is an array of 5 elements\n        this.successColors = []; //this is an array of 5 elements\n        this.errorColors = []; //this is an array of 5 elements\n        this.opacities = [];\n        this.colorGroups = $('.js-app-editor-property__color-group');\n\n        //some default states\n        this.mainColorLabels = ['primary', 'accent', 'success', 'warning', 'error'];\n        this.mainColorVariationLabel = ['-lighter', '-light', '', '-dark', '-darker'];\n        this.customColorLabels = [];\n        this.contrastColorVariationLabel = ['-bg', '-contrast-lower', '-contrast-low', '-contrast-medium', '-contrast-high', '-contrast-higher'];\n        this.contrastVariations = getColorContrastPercentages();\n        this.gradientColorLabels = []; // this will have 'primary', 'secondary'\n        this.gradientColorIds = []; // this will have 'custom-0', 'custom-1'\n\n        // gradient sections\n        this.gradients = $(this.element).find('.js-app-menu__color-item--gradients');\n        this.gradientSwatches = this.gradients.find('.js-app-menu__color-swatch');\n\n        this.colorValues = []; //I'm going to pass this to the buttons object -> list of color values\n        this.loadPreset();\n        this.eventListener();\n    };\n\n    ColorSelection.prototype.loadPreset = function () {\n        //you should load this from the db\n        //for now just static\n        if (PROJECT && PROJECT.colors) {\n            this.initColorsFromProject();\n        } else {\n            this.initColors();\n        }\n        this.initColorValues();\n        this.initUiColors();\n    };\n\n    ColorSelection.prototype.initColors = function () {\n        this.primaryColors = getDefaultMainColorVariation('primary');\n        this.accentColors = getDefaultMainColorVariation('accent');\n        this.warningColors = getDefaultMainColorVariation('warning');\n        this.successColors = getDefaultMainColorVariation('success');\n        this.errorColors = getDefaultMainColorVariation('error');\n        this.blackColors = [getHslFromHex('#1c1c21')];\n        this.whiteColors = [getHslFromHex('#ffffff')];\n        this.contrastColors = getContrastVariation('#35373b', '#FFFFFF', this.contrastVariations);\n    };\n\n    ColorSelection.prototype.initColorsFromProject = function () {\n        var colors = JSON.parse(PROJECT.colors);\n        this.mainColorLabels = Object.values(colors['mainColorLabels']);\n        if (colors['customColorLabels']) this.customColorLabels = Object.values(colors['customColorLabels']);\n        for (var i = 0; i < this.mainColorLabels.length; i++) {\n            var obj = colors[this.mainColorLabels[i]];\n\n            if (!this[this.mainColorLabels[i] + 'Colors']) this[this.mainColorLabels[i] + 'Colors'] = [];\n            for (var j = 0; j < 5; j++) {\n                this[this.mainColorLabels[i] + 'Colors'].push(Object.values(obj[0][j]));\n            }\n        }\n\n        for (var i = 0; i < 3; i++) {\n            if (colors['blackColors'][0][i]) this.blackColors.push(Object.values(colors['blackColors'][0][i]));\n            if (colors['whiteColors'][0][i]) this.whiteColors.push(Object.values(colors['whiteColors'][0][i]));\n        }\n\n        for (var i = 0; i < 6; i++) {\n            this.contrastColors.push(Object.values(colors['contrastColors'][0][i]));\n        }\n\n        // init gradient colors\n        if (colors['gradientColorLabels']) this.gradientColorLabels = Object.values(colors['gradientColorLabels']);\n        if (colors['gradientColorIds']) this.gradientColorIds = Object.values(colors['gradientColorIds']);\n        for (var i = 0; i < this.gradientColorIds.length; i++) {\n            var obj = colors[this.gradientColorIds[i] + 'Gradients'];\n            this[this.gradientColorIds[i] + 'Gradients'] = [];\n            for (var j = 0; j < 2; j++) {\n                this[this.gradientColorIds[i] + 'Gradients'].push(Object.values(obj[0][j]));\n            }\n        }\n    };\n\n    ColorSelection.prototype.initColorValues = function () {\n        this.colorValues['not-specified'] = '';\n        this.colorValues['transparent'] = 'transparent';\n        this.colorValues['inherit'] = 'inherit';\n        //main + custom colors\n        for (var i = 0; i < this.mainColorLabels.length; i++) {\n            for (var j = 0; j < this.mainColorVariationLabel.length; j++) {\n                this.colorValues['--color-' + this.mainColorLabels[i] + this.mainColorVariationLabel[j]] = getHslaFromHsl(this[this.mainColorLabels[i] + 'Colors'][j], 1);\n            }\n        }\n        //black\n        for (var i = 0; i < this.blackColors.length; i++) {\n            this.colorValues['--color-black' + this.mainColorVariationLabel[2 - i]] = getHslaFromHsl(this.blackColors[i], 1);\n        }\n        //white\n        for (var i = 0; i < this.whiteColors.length; i++) {\n            this.colorValues['--color-white' + this.mainColorVariationLabel[2 + i]] = getHslaFromHsl(this.whiteColors[i], 1);\n        }\n        //contrasts\n        for (var i = 0; i < this.contrastColorVariationLabel.length; i++) {\n            this.colorValues['--color' + this.contrastColorVariationLabel[i]] = getHslaFromHsl(this.contrastColors[i], 1);\n        }\n        // gradients\n        for (var i = 0; i < this.gradientColorLabels.length; i++) {\n            this.colorValues['--gradient-' + this.gradientColorLabels[i] + '-stop-1'] = getHslaFromHsl(this[this.gradientColorIds[i] + 'Gradients'][0], 1);\n            this.colorValues['--gradient-' + this.gradientColorLabels[i] + '-stop-2'] = getHslaFromHsl(this[this.gradientColorIds[i] + 'Gradients'][1], 1);\n        }\n    };\n\n    ColorSelection.prototype.initUiColors = function () {\n        this.initMainSwatches();\n        this.initBWSwatches();\n        this.initContrastSwatches();\n        this.initGradientSwatches();\n    };\n\n    ColorSelection.prototype.initMainSwatches = function () {\n        var mainSwatch = this.basicSwatches.filter('[data-colors=\"main\"]'),\n            children = mainSwatch.children('li');\n        for (var i = 0; i < 2; i++) {\n            children.eq(i).children('.js-app-menu__color-preview').attr('style', 'background-color:' + this.colorValues['--color-' + this.mainColorLabels[i]] + ';').attr('data-item', '--color-' + this.mainColorLabels[i]);\n        }\n        var clonesText = this.initCustomColorSwatches(children.eq(0), false);\n        mainSwatch.append(clonesText);\n\n        var feedbackSwatch = this.basicSwatches.filter('[data-colors=\"feedback\"]'),\n            children = feedbackSwatch.children('li');\n        for (var i = 0; i < 3; i++) {\n            var j = 2;\n            if (this.mainColorLabels[i + 2] == 'success') j = 0;\n            if (this.mainColorLabels[i + 2] == 'warning') j = 1;\n            children.eq(j).children('.js-app-menu__color-preview').attr('style', 'background-color:' + this.colorValues['--color-' + this.mainColorLabels[i + 2]] + ';').attr('data-item', '--color-' + this.mainColorLabels[i + 2]);\n        }\n        var feedbackCloneText = this.initCustomColorSwatches(children.eq(0), true);\n        feedbackSwatch.append(feedbackCloneText);\n    };\n\n    ColorSelection.prototype.initCustomColorSwatches = function (item, isFeedback) {\n        var clonesText = '';\n        if (this.mainColorLabels.length > 5) {\n            var clone = item.clone().removeClass('app-menu__color-preview--selected');\n            for (var i = 5; i < this.mainColorLabels.length; i++) {\n                if ((isFeedback && this.mainColorLabels[i].indexOf('custom-fdb') > -1) || (!isFeedback && this.mainColorLabels[i].indexOf('custom-fdb') < 0)) {\n                    clone.children('.js-app-menu__color-preview').attr('style', 'background-color:' + this.colorValues['--color-' + this.mainColorLabels[i]] + ';').attr('data-item', '--color-' + this.mainColorLabels[i]);\n                    clone.children('.js-app-menu__color-tooltip').text(this.customColorLabels[i - 5]);\n                    clonesText = clonesText + clone[0].outerHTML;\n                }\n            }\n        }\n        return clonesText;\n    };\n\n    ColorSelection.prototype.initBWSwatches = function () {\n        var bwSwatch = this.basicSwatches.filter('[data-colors=\"b&w\"]'),\n            children = bwSwatch.children('li');\n        children.eq(0).children('.js-app-menu__color-preview').attr('style', 'background-color:' + this.colorValues['--color-black'] + ';').attr('data-item', '--color-black');\n        children.eq(1).children('.js-app-menu__color-preview').attr('style', 'background-color:' + this.colorValues['--color-white'] + ';').attr('data-item', '--color-white');\n    };\n\n    ColorSelection.prototype.initContrastSwatches = function () {\n        var contrastSwatch = this.basicSwatches.filter('[data-colors=\"contrast\"]'),\n            children = contrastSwatch.children('li');\n        for (var i = 0; i < this.contrastColorVariationLabel.length; i++) {\n            children.eq(i).children('.js-app-menu__color-preview').attr('style', 'background-color:' + this.colorValues['--color' + this.contrastColorVariationLabel[i]] + ';').attr('data-item', '--color' + this.contrastColorVariationLabel[i]);\n        }\n    };\n\n    ColorSelection.prototype.initGradientSwatches = function () {\n        var html = '';\n        for (var i = 0; i < this.gradientColorLabels.length; i++) {\n            for (var j = 0; j < 2; j++) {\n                var direction = j == 0 ? 'right' : 'bottom';\n                var swatch = this.gradientSwatches.eq(j).clone().removeClass('is-hidden');\n                swatch.find('.js-app-menu__color-tooltip').text('--gradient-' + this.gradientColorLabels[i] + ' (' + direction + ')');\n                swatch.find('.js-app-menu__color-preview').attr('style', getGradientsBgColor(this.gradientColorLabels[i], this.colorValues, j)).attr('data-item', '--gradient-' + this.gradientColorLabels[i] + '-' + direction);\n                html = html + swatch[0].outerHTML;\n            }\n        }\n        this.gradients.find('.js-app-menu__color-swatches').html(html);\n    };\n\n    ColorSelection.prototype.eventListener = function () {\n        var self = this;\n        //listen to click on color-preview -> also need to show correct color selection\n        $(self.element).on('open-color-selector', function (event, target) {\n            // toggle gradients visibility\n            self.gradients.toggleClass('is-hidden', !(target.hasClass('js-app-editor-color-preview--bg') && self.gradientColorLabels.length > 0));\n            if (!$(self.element).hasClass('app-menu--is-hidden')) {\n                // self.checkOpacity(false); //click on input when another one was open\n            }\n            var top = target.offset().top + 30;\n            if (top + 300 > $(window).height()) top = $(window).height() - 300;\n            $(self.element).removeClass('app-menu--is-hidden').css('top', top);\n            self.selectInitialColor(target.attr('style').replace('background-color', '').replace(';', '').replace(':', '').trim(), target);\n        });\n        //switch from state b to state a\n        self.stateB.on('click', '.js-app-menu', function (event) {\n            $(self.element).removeClass('app-menu--state-b');\n        });\n\n        //listen to selection of color in popup - state a\n        self.stateA.on('click', '.js-app-menu__color-preview', function (event) {\n            var isSelected = $(event.target).hasClass('app-menu__color-preview--selected');\n            self.clickOnColorSectionA($(event.target), isSelected, isSelected);\n        });\n\n        //listen to selection of color in popup - state b - variations\n        self.variationsSwatches.on('click', '.js-app-menu__color-preview', function (event) {\n            self.selectNewColor($(event.target), $(event.target).hasClass('app-menu__color-preview--selected'), true);\n        });\n\n        //listen to focusout -> close popup\n        $(self.element).on('close-color-selection', function (event) {\n            // \t//check if opacity need to be added\n            if ($(self.element).hasClass('app-menu--is-hidden')) return;\n            $(self.element).addClass('app-menu--is-hidden');\n            // \tself.checkOpacity(false);\n        });\n\n        //listen to new opacity included - keydown to update bg/enter to add dot\n        checkEndTyping(self.customOpacityInput, function () {\n            // var percentage = parseInt(self.customOpacityInput.val().replace('%', '')),\n            // \topacityLabel = getOpacitySuffix(percentage),\n            var opacityLabel = self.getOpInputForSelection(),\n                mainColorLabel = self.stateB.find('.app-menu__color-preview--selected').attr('data-item'),\n                mainColor = mainColorLabel + opacityLabel;\n            var cssVariable = mainColor;\n            if (mainColorLabel.indexOf('custom-') > -1) {\n                cssVariable = self.stateB.find('.app-menu__color-preview--selected').next('.js-app-menu__color-tooltip').text() + opacityLabel;\n            }\n            // $('.js-app-sidebar-editor--buttons').trigger('new-opacity-created', [cssVariable, getNewOpacity(self.colorValues[mainColorLabel], percentage)]);\n            $('.js-app-sidebar-editor--buttons').trigger('new-color-selection', [mainColor, true]);\n        });\n\n        this.customOpacityInput.on('focusout', function () {\n            var opacityValue = self.customOpacityInput.val(),\n                resetOpacity = getPercentageFormat(opacityValue);\n            if (opacityValue != resetOpacity) self.customOpacityInput.val(resetOpacity);\n        });\n    };\n\n    //click on preview in stata a of popup, used when loading initial color as well\n    ColorSelection.prototype.clickOnColorSectionA = function (target, isSelected, isStateBSet) {\n        var section = target.parents('.js-app-menu__color-swatches').eq(0).attr('data-colors');\n        this.stateA.find('.app-menu__color-preview--selected').removeClass('app-menu__color-preview--selected');\n        target.addClass('app-menu__color-preview--selected');\n        if (!isSelected) {\n            // need to get opacity values as well\n            var opacity = this.getOpInputForSelection();\n            var color = target.attr('data-item');\n            if (color.indexOf('--gradient-') > -1) opacity = '';\n            this.sendColorSelection(color + opacity);\n        }\n        if (section == \"default\" || section == \"gradients\") {\n            $(this.element).removeClass('app-menu--state-b');\n            this.stateB.find('.app-menu__color-preview--selected').removeClass('app-menu__color-preview--selected');\n            return;\n        }\n        $(this.element).addClass('app-menu--state-b');\n        this.showStateB(target, section, isStateBSet);\n    };\n\n    ColorSelection.prototype.selectNewColor = function (target, isSelcted, sendColorSelection) {\n        if (isSelcted) return;\n        target.addClass('app-menu__color-preview--selected').parent().siblings().children('.app-menu__color-preview--selected').removeClass('app-menu__color-preview--selected');\n        if (sendColorSelection) {\n            var opacity = this.getOpInputForSelection();\n            var color = target.attr('data-item');\n            if (color.indexOf('--gradient-') > -1) opacity = '';\n            this.sendColorSelection(color + opacity);\n        }\n    };\n\n    ColorSelection.prototype.getOpInputForSelection = function () {\n        return getOpInputForSelection(this.customOpacityInput.val());\n    };\n\n    ColorSelection.prototype.selectInitialColor = function (color, target) {\n        var states = [false, false, false],\n            stateAColor,\n            stateBColor = false,\n            stateCColor = false;\n        if (color == 'undefined') {\n            stateAColor = this.stateA.find('.js-app-menu__color-preview').eq(0);\n        } else {\n            var colorName = target.attr('data-color-lb').split('-');\n            states = this.getAllStatesColor(colorName);\n            stateAColor = this.stateA.find('[data-item=\"' + states[0] + '\"]');\n        }\n        this.clickOnColorSectionA(stateAColor, true, false);\n        stateBColor = states[1] ? this.stateB.find('[data-item=\"' + states[1] + '\"]') : false;\n        //trigger click on stateBcolor -> without sending update color\n        if (stateBColor) this.selectNewColor(stateBColor, false, false);\n        //select opacity element\n        (states[2]) ? this.customOpacityInput.val(states[2].slice(-2) + '%') : this.customOpacityInput.val('100%');\n    };\n\n    ColorSelection.prototype.getAllStatesColor = function (color) {\n        var itemAName, itemBName, itemCName;\n        if (color[2] && color[2] == 'gradient') {\n            itemAName = '--gradient-' + color[3] + '-' + color[4];\n            return [itemAName, false, false];\n        }\n        if (color[3] && (color[3] == 'black' || color[3] == 'white')) {\n            itemAName = '--color-' + color[3];\n            nextItems = this.getStateBCColor(itemAName, color, 4);\n            itemBName = nextItems[0];\n            itemCName = nextItems[1];\n        } else if (color[3] && (color[3] == 'primary' || color[3] == 'accent' || color[3] == 'success' || color[3] == 'error' || color[3] == 'info' || color[3] == 'warning')) {\n            itemAName = '--color-' + color[3];\n            nextItems = this.getStateBCColor(itemAName, color, 4);\n            itemBName = nextItems[0];\n            itemCName = nextItems[1];\n        } else if (color[3] && color[3] == 'custom' && color[4] == 'fdb') {\n            itemAName = '--color-' + color[3] + '-' + color[4] + '-' + color[5];\n            nextItems = this.getStateBCColor(itemAName, color, 6);\n            itemBName = nextItems[0];\n            itemCName = nextItems[1];\n        } else if (color[3] && color[3] == 'custom') {\n            itemAName = '--color-' + color[3] + '-' + color[4];\n            nextItems = this.getStateBCColor(itemAName, color, 5);\n            itemBName = nextItems[0];\n            itemCName = nextItems[1];\n        } else if (color[3] && color[3] == 'bg') {\n            itemAName = '--color-bg';\n            itemBName = itemAName;\n            itemCName = (color[4]) ? itemBName + '-' + color[4] : false;\n        } else if (color[3] && color[3] == 'contrast') {\n            itemAName = '--color-' + color[3] + '-' + color[4];\n            itemBName = itemAName;\n            itemCName = (color[5]) ? itemBName + '-' + color[5] : false;\n        } else {\n            itemAName = color[0];\n        }\n        return [itemAName, itemBName, itemCName];\n    };\n\n    ColorSelection.prototype.getStateBCColor = function (itemAName, color, index) {\n        var itemBName, itemCName;\n        if (color[index] && (color[index] == 'light' || color[index] == 'lighter' || color[index] == 'dark' || color[index] == 'darker')) {\n            itemBName = itemAName + '-' + color[index];\n            itemCName = (color[index + 1]) ? itemBName + '-' + color[index + 1] : false;\n        } else {\n            itemBName = itemAName;\n            itemCName = (color[index]) ? itemBName + '-' + color[index] : false;\n        }\n        return [itemBName, itemCName];\n    };\n\n    ColorSelection.prototype.sendColorSelection = function (label) {\n        var sidebar = $('.js-app-sidebar-editor--buttons');\n        if (sidebar.length == 0) {\n            sidebar = $('.js-app-sidebar-editor--shared-styles');\n        }\n        sidebar.trigger('new-color-selection', [label, true]);\n    };\n\n    ColorSelection.prototype.showStateB = function (target, section, selected) {\n        var self = this;\n        if (selected) return;\n        var label = target.next().text();\n        switch (section) {\n            case 'main':\n                self.getVariationsMain(label, target.attr('data-item'));\n                break;\n            case 'b&w':\n                self.getVariationsBW(label);\n                break;\n            case 'contrast':\n                self.getVariationsContrast(label);\n                break;\n            default:\n                self.getVariationsMain(label, target.attr('data-item'));\n        }\n    };\n\n    ColorSelection.prototype.getVariationsMain = function (label, item) {\n        var value = item.replace('--color-', '');\n        //custom color\n        var clone = this.variationsSwatches.children('li').eq(0).clone(),\n            textClones = '';\n        clone.removeClass('app-menu__color-preview--selected').children('.js-app-menu__color-preview');\n        for (var i = 0; i < this.mainColorVariationLabel.length; i++) {\n            clone.children('.js-app-menu__color-preview').attr('style', 'background-color:' + this.colorValues['--color-' + value + this.mainColorVariationLabel[i]] + ';').attr('data-item', '--color-' + value + this.mainColorVariationLabel[i]).toggleClass('app-menu__color-preview--selected', i == 2);\n            clone.children('.js-app-menu__color-tooltip').text(label + this.mainColorVariationLabel[i]);\n            textClones = textClones + clone[0].outerHTML;\n        }\n\n        this.variationsSwatches.html(textClones);\n    };\n\n    ColorSelection.prototype.getVariationsBW = function (label) {\n        var clone = this.variationsSwatches.children('li').eq(0).clone(),\n            textClones = '';\n        clone.removeClass('app-menu__color-preview--selected').children('.js-app-menu__color-preview');\n        if (label == '--color-black') {\n            for (var i = 0; i < this.blackColors.length; i++) {\n                clone.children('.js-app-menu__color-preview').attr('style', 'background-color:' + this.colorValues['--color-black' + this.mainColorVariationLabel[2 - i]] + ';').attr('data-item', '--color-black' + this.mainColorVariationLabel[2 - i]).toggleClass('app-menu__color-preview--selected', i == 0);\n                clone.children('.js-app-menu__color-tooltip').text('--color-black' + this.mainColorVariationLabel[2 - i]);\n                textClones = textClones + clone[0].outerHTML;\n            }\n        } else {\n            for (var i = 0; i < this.whiteColors.length; i++) {\n                clone.children('.js-app-menu__color-preview').attr('style', 'background-color:' + this.colorValues['--color-white' + this.mainColorVariationLabel[2 + i]] + ';').attr('data-item', '--color-white' + this.mainColorVariationLabel[2 + i]).toggleClass('app-menu__color-preview--selected', i == 0);\n                clone.children('.js-app-menu__color-tooltip').text('--color-white' + this.mainColorVariationLabel[2 + i]);\n                textClones = textClones + clone[0].outerHTML;\n            }\n        }\n        this.variationsSwatches.html(textClones);\n    };\n\n    ColorSelection.prototype.getVariationsContrast = function (label) {\n        var clone = this.variationsSwatches.children('li').eq(0).clone();\n        clone.children('.js-app-menu__color-preview');\n        clone.children('.js-app-menu__color-preview').attr('style', 'background-color:' + this.colorValues[label] + ';').attr('data-item', label).addClass('app-menu__color-preview--selected');\n        clone.children('.js-app-menu__color-tooltip').text(label);\n        this.variationsSwatches.html(clone[0].outerHTML);\n    };\n\n    function getHslaFromHsl(hsl, opacity) {\n        return 'hsla(' + parseInt(hsl[0]) + ', ' + parseInt(hsl[1] * 100) + '%, ' + parseInt(hsl[2] * 100) + '%, ' + opacity + ')';\n    };\n\n    function getNewOpacity(value, opacity) {\n        if (value) {\n            return value.replace('1)', (opacity / 100).toFixed(2) + ')');\n        }\n        return value;\n    };\n\n    function sortNumber(a, b) {\n        return a - b;\n    };\n\n    function checkEndTyping(input, cb) {\n        var typingTimer;                //timer identifier\n        var doneTypingInterval = 400;  //time in ms, 5 second for example\n\n        //on keyup, start the countdown\n        input.on('keyup', function () {\n            clearTimeout(typingTimer);\n            typingTimer = setTimeout(cb, doneTypingInterval);\n        });\n\n        //on keydown, clear the countdown\n        input.on('keydown', function () {\n            clearTimeout(typingTimer);\n        });\n    };\n\n    function getOpInputForSelection(val) {\n        var opacity = '';\n        if (isNaN(parseInt(val))) return '';\n        if (parseInt(val) > 100) return '';\n        if (parseInt(val) != 100) opacity = '-a' + ('0' + val.replace('%', '')).slice(-2);\n        return opacity;\n    };\n\n    function getGradientsBgColor(label, colorValues, direction) {\n        // label e.g. primary\n        // direction -> 0 right, 1 bottom\n        var angle = direction == 0 ? '90deg' : '180deg';\n        return 'background-image: linear-gradient(' + angle + ', ' + colorValues[\"--gradient-\" + label + \"-stop-1\"] + ', ' + colorValues[\"--gradient-\" + label + \"-stop-2\"] + ');';\n    };\n\n    var colorSelection = document.getElementsByClassName('js-app-menu--color'),\n        colorSelectionObject;\n    if (colorSelection.length > 0) {\n        colorSelectionObject = new ColorSelection(colorSelection[0]);\n    }\n\n    function getPercentageFormat(value) {\n        var newVal = value;\n        if (isNaN(parseInt(newVal))) newVal = '100%';\n        if (parseInt(newVal) > 100) newVal = '100%';\n        if (newVal.indexOf('%') < 0) newVal = newVal + '%';\n        return newVal;\n    };\n\n    /************************/\n    /* \tColors Interactions */\n    /************************/\n    this.Colors = function (element, bool) {\n        this.element = element;\n        //set starting point\n        this.primaryColors = [];//this is an array of 5 colors\n        this.accentColors = [];//this is an array of 5 colors\n        this.downloadColors = [];//this is an array of 5 colors\n        this.blackColors = [];//this is a color string\n        this.whiteColors = [];//this is a color string\n        this.contrastColors = []; //this is an array of 5 elements\n        this.contrastPecentageColors = [];\n        this.infoColors = []; //this is an array of 5 elements\n        this.warningColors = []; //this is an array of 5 elements\n        this.successColors = []; //this is an array of 5 elements\n        this.errorColors = []; //this is an array of 5 elements\n        this.themes = [];\n        this.fontRendering = [];\n        this.colorLinks = [];\n\n        //some default states\n        //this should include the custom colors, if user has already created them\n        this.mainColorLabels = ['primary', 'accent', 'download', 'info', 'warning', 'success', 'error'];\n        this.customColorLabels = [];\n        this.gradientColorLabels = []; // this will have 'primary', 'secondary'\n        this.gradientColorIds = []; // this will have 'custom-0', 'custom-1'\n        this.selectedColor = 'primary'; //store what color the user is interacting with (e.g., main, accent ...)\n        this.selectedTheme = 0;\n\n\n        //used to get the color variations of black and white\n        this.blackVariations = [[0, 0], [0, 0.1], [0, 0.2]];\n        this.whiteVariations = [[0, 0], [0, -0.1], [0, -0.2]];\n        //contrast variations\n        this.contrastVariations = getColorContrastPercentages();\n\n        //store items\n        this.colorPicker = $(this.element).find('.js-color-picker');\n        //main colors\n        this.mainColorsSection = $(this.element).find('.js-app-editor--main-colors');\n        this.mainColorVariationsInput = $(this.element).find('.js-main-color-variation');\n        this.mainColorVariationsSidebar = $(this.element).find('.js-app-editor--main-colors');\n        //black&white\n        this.blackWhiteSection = $(this.element).find('.js-app-editor--black-white');\n        //contrast\n        this.contrastSection = $(this.element).find('.js-app-editor--contrast');\n        this.contrastInputs = this.contrastSection.find('.js-app-editor-section__contrast-inputs');\n        this.fontRenderingSection = this.contrastSection.find('.js-app-editor-section__font-rendering');\n\n        this.basicColorPicker = $(this.element).find('.js-app-editor-section__color-picker');\n        this.bgColorPicker = $(this.element).find('.js-app-editor-section__bg-color-picker');\n        this.hcColorPicker = $(this.element).find('.js-app-editor-section__hc-color-picker');\n        this.grColorPicker = $(this.element).find('.js-app-editor-section__gr-color-picker');\n        // i'll store also the subelements\n        this.grColorPickerItems = this.grColorPicker.find('.js-color-picker');\n        //check if the ui has been updated for that specific color variable\n        this.mainColorShown = '';\n        this.blackWhiteShown = '';\n        this.contrastShown = '';\n        this.gradientShown = '';\n\n        this.colorOpacities = [];\n\n        //iframe\n        this.iframe = jsColors;\n        this.colorsLoaded = false;\n        if (bool) return;\n        //check for the frame to be loaded\n        this.initFrame();\n        this.loadPreset();\n        this.eventListener();\n        //custom colors\n        //this.mainColorLabels = ['primary', 'accent', 'warning', 'success', 'error', 'custom-0']\n        //this.customColorLables = ['--color-secondary', ...]\n        //to access custom color -> this['custom-0Colors'][themeIndex]\n        //opacities -> this.colorOpacities['--color-custom-0'] = ['20', '40']\n    };\n\n    Colors.prototype.initFrame = function () {\n        var self = this;\n        //listen for the onload event of the frame\n        onIframeLoad(jsPage, function () {\n            self.frameIsLoaded();\n        });\n    };\n\n    Colors.prototype.frameIsLoaded = function () {\n        var self = this;\n        if (self.colorsLoaded) {\n            loadProjectColorsForColors(this.iframe);\n            loadProjectTypographyForButtons(this.iframe);\n            loadProjectSpacingForButtons(this.iframe);\n            loadProjectButtonsForColors(this.iframe);\n            loadProjectFormsForColors(this.iframe);\n            self.updateColorsDemo(false);\n            self.updateColorLinks();\n        } else {\n            setTimeout(function () {\n                self.frameIsLoaded();\n            }, 100);\n        }\n    };\n\n    Colors.prototype.loadPreset = function () {\n        //this is the function that will retrieve saved data from the database\n        // if user has already created a color palette\n        // - load it - PROJECT.colors and PROJECT.color_opacities\n        // - update the Colors object\n        if (PROJECT && PROJECT.colors) {\n            this.initColorsFromProject(JSON.parse(PROJECT.colors));\n        } else {\n            //if not saved in the db\n            this.themes = ['Default'];\n            this.initColors(0);\n        }\n\n        this.setThemeColors();\n        this.colorsLoaded = true;\n    };\n\n    Colors.prototype.setThemeColors = function () {\n        var self = this;\n        //this function should be used to update the sidebar inputs -> main colors/ contrast / black and white\n        //when a new team is selected (or even when the first team is loaded - if there are )\n        //reset the variables for ui update\n        this.mainColorShown = '';\n        this.blackWhiteShown = '';\n        this.contrastShown = '';\n        this.gradientShown = '';\n        //set colors now - should use one of the followings according to this.selectedColor\n        switch (self.selectedColor) {\n            case 'black':\n                self.setBlackWhite();\n                break;\n            case 'white':\n                self.setBlackWhite();\n                break;\n            case 'contrast':\n                self.setContrast();\n                break;\n            default:\n                if (self.selectedColor.indexOf('gr-custom') > -1) {\n                    self.setGradient();\n                } else {\n                    self.setMainColors();\n                }\n        }\n    };\n\n    Colors.prototype.initColors = function (index) {\n        //index -> theme index\n        //set main colors\n        // if you update this -> you'll need to update the same in the ColorSelection as well\n        this.primaryColors[index] = getDefaultMainColorVariation('primary');\n        this.accentColors[index] = getDefaultMainColorVariation('accent');\n        this.downloadColors[index] = getDefaultMainColorVariation('download');\n        this.infoColors[index] = getDefaultMainColorVariation('info');\n        this.warningColors[index] = getDefaultMainColorVariation('warning');\n        this.successColors[index] = getDefaultMainColorVariation('success');\n        this.errorColors[index] = getDefaultMainColorVariation('error');\n        //set black and white\n        this.blackColors[index] = [getHslFromHex('#1c1c21')];\n        this.whiteColors[index] = [getHslFromHex('#ffffff')];\n        //set contrast\n        this.contrastPecentageColors[index] = this.contrastVariations.slice(0);\n        this.contrastColors[index] = getContrastVariation('#35373b', '#FFFFFF', this.contrastPecentageColors[this.selectedTheme]);\n        this.fontRendering[index] = false;\n    };\n\n    Colors.prototype.initColorsFromProject = function (colors) {\n        // var colors = JSON.parse(PROJECT.colors);\n        this.themes = [];\n        this.mainColorLabels = [];\n        this.customColorLabels = [];\n        this.fontRendering = [];\n        this.themes = Object.values(colors['themes']);\n        this.mainColorLabels = Object.values(colors['mainColorLabels']);\n\n        if (colors['customColorLabels']) this.customColorLabels = Object.values(colors['customColorLabels']);\n\n        for (var i = 0; i < this.mainColorLabels.length; i++) {\n            var obj = colors[this.mainColorLabels[i]];\n            this[this.mainColorLabels[i] + 'Colors'] = this.convColorToArr(obj);\n        }\n\n        this.blackColors = this.convColorToArr(colors['blackColors']);\n        this.whiteColors = this.convColorToArr(colors['whiteColors']);\n        this.contrastColors = this.convColorToArr(colors['contrastColors']);\n        this.contrastPecentageColors = this.convPerceToArr(colors['contrastPecentageColors']);\n        // font smoothing\n        if (colors['fontRendering']) {\n            this.fontRendering = Object.values(colors['fontRendering']);\n        } else {\n            // if it was not defined -> set it to false\n            for (var i = 0; i < this.themes.length; i++) {\n                this.fontRendering[i] = false;\n            }\n        }\n\n        // color links among themes\n        if (colors['colorLinks']) {\n            for (var color in colors['colorLinks']) {\n                if (colors['colorLinks'].hasOwnProperty(color)) {\n                    this.colorLinks[color] = colors['colorLinks'][color];\n                }\n            }\n        }\n\n        // init gradient colors\n        if (colors['gradientColorLabels']) this.gradientColorLabels = Object.values(colors['gradientColorLabels']);\n        if (colors['gradientColorIds']) this.gradientColorIds = Object.values(colors['gradientColorIds']);\n        for (var i = 0; i < this.gradientColorIds.length; i++) {\n            var obj = colors[this.gradientColorIds[i] + 'Gradients'];\n            this[this.gradientColorIds[i] + 'Gradients'] = this.convColorToArr(obj);\n        }\n    };\n\n    Colors.prototype.convColorToArr = function (obj) {\n        var array = [];\n        for (var property in obj) {\n            if (obj.hasOwnProperty(property)) {\n                var subArray = [];\n                var subObj = obj[property];\n                for (var property2 in subObj) {\n                    if (subObj.hasOwnProperty(property2)) {\n                        subArray.push(Object.values(subObj[property2]));\n                    }\n                }\n\n                array.push(subArray);\n            }\n        }\n        return array;\n    };\n\n    Colors.prototype.convPerceToArr = function (obj) {\n        var array = [];\n        for (var property in obj) {\n            if (obj.hasOwnProperty(property)) {\n                array.push(Object.values(obj[property]));\n            }\n        }\n        return array;\n    };\n\n    Colors.prototype.initThemeColors = function (index) {\n        //set new theme equal to default color theme\n        this.primaryColors[index] = this.primaryColors[0].slice(0);\n        this.accentColors[index] = this.accentColors[0].slice(0);\n        this.downloadColors[index] = this.downloadColors[0].slice(0);\n        this.infoColors[index] = this.infoColors[0].slice(0);\n        this.warningColors[index] = this.warningColors[0].slice(0);\n        this.successColors[index] = this.successColors[0].slice(0);\n        this.errorColors[index] = this.errorColors[0].slice(0);\n        this.blackColors[index] = this.blackColors[0].slice(0);\n        this.whiteColors[index] = this.whiteColors[0].slice(0);\n        this.contrastPecentageColors[index] = this.contrastPecentageColors[0].slice(0);\n        this.contrastColors[index] = this.contrastColors[0].slice(0);\n\n        this.fontRendering[index] = false;\n        //init custom colors if any\n        for (var i = 0; i < this.mainColorLabels.length; i++) {\n            if (this.mainColorLabels[i].indexOf('custom-') > -1) {\n                this[this.mainColorLabels[i] + 'Colors'][index] = this[this.mainColorLabels[i] + 'Colors'][0].slice();\n            }\n        }\n\n        for (var i = 0; i < this.gradientColorIds.length; i++) {\n            this[this.gradientColorIds[i] + 'Gradients'][index] = this[this.gradientColorIds[i] + 'Gradients'][0].slice();\n        }\n    };\n\n    Colors.prototype.setBtnColorCustomNiceLabels = function () {\n        this.iframe.setBtnColorCustomNiceLabels(this.mainColorLabels, this.customColorLabels);\n    };\n\n    Colors.prototype.setBtnGradientNiceLabels = function () {\n        this.iframe.setBtnGradientNiceLabels(this.gradientColorLabels);\n    };\n\n    Colors.prototype.eventListener = function () {\n        var self = this;\n        //this event is triggered when one of the colors in the left sidebar is selected\n        $(this.element).on('content-selected', function (event, type, target, index) {\n            if (target.indexOf('gradient') > -1) {\n                self.selectNewColor(type, '--gradient-' + self.gradientColorIds[self.gradientColorLabels.indexOf(target.replace('--gradient-', ''))]);\n            } else {\n                self.selectNewColor(type, target);\n            }\n        });\n        //this is triggered when one of the inputs of the main color is updated\n        listenToParentInput($(this.mainColorVariationsSidebar), function (event) {\n            self.colorUpdated($(event.currentTarget), 'main');\n        });\n        //this is triggered when one of the inputs of the black/white color is updated\n        listenToParentInput(this.blackWhiteSection, function (event) {\n            self.colorUpdated($(event.currentTarget), 'bw');\n        });\n        //this is triggered when one of the inputs of the contrast color is updated\n        listenToParentInput(this.contrastInputs, function (event) {\n            self.contrastColorUpdated($(event.currentTarget));\n            self.updateColorsDemo(true, 'contrast');\n        });\n        // this is triggered when the font rendering option is changed\n        this.fontRenderingSection.on('change', function (event) {\n            self.updateFontRendering(event.target.value);\n            self.updateColorsDemo(true, 'fontRendering');\n        });\n\n        //this event is triggered when the color picker is updated\n        $(this.element).on('color-picker-updated', function (event, color, pickerElem) {\n            //new color has been selected\n            if (self.selectedColor.indexOf('gr-custom') > -1) {\n                self.setGradient(color, pickerElem);\n            } else if (self.mainColorLabels.indexOf(self.selectedColor) > -1) {\n                //check if we are changing a main color\n                self.setMainColors(color);\n            } else if (self.selectedColor == 'white' || self.selectedColor == 'black') {\n                self.setBlackWhite(color);\n            } else {\n                self.setContrast(color, pickerElem);\n            }\n            self.updateColorsDemo(true, self.selectedColor);\n        });\n        //this event is triggered when a new theme is added in the left sidebar\n        $(this.element).on('content-switch-added', function (event, type, title) {\n            if (type != 'colors') return;\n            self.themes.push(title);\n            self.selectedTheme = self.themes.length - 1;\n            self.initThemeColors(self.selectedTheme);\n            self.setThemeColors();\n            self.updateColorsDemo(true);\n        });\n        //this event is triggered when a new theme is selected in the left sidebar\n        $(this.element).on('content-switch-selected', function (event, type, index) {\n            if (type != 'colors') return;\n            self.selectedTheme = index;\n            //if this is the first time (theme was already create and retrieved from the database)\n            // you should make sure the initial colors are already set\n            self.setThemeColors();\n            self.updateColorsDemo(false);\n        });\n        //this event is triggered when a theme is edited in the left sidebar\n        $(this.element).on('content-switch-edited', function (event, type, index, title) {\n            if (type != 'colors') return;\n            if (self.themes[index] != title && IS_LOGGED == '1') SaveAlert.yes();\n            self.themes[index] = title;\n        });\n        //this event is triggered when a theme is deleted in the left sidebar\n        $(this.element).on('content-switch-deleted', function (event, type, index, selected) {\n            if (type != 'colors') return;\n            self.removeTheme(type, index, selected);\n            self.updateColorsDemo(true);\n        });\n\n        //black&white events\n        //add a new black or white variation\n        this.blackWhiteSection.on('click', '.js-btn-create', function (event) {\n            self.createBlackWhiteVariation();\n            self.blackWhiteSection.children().eq(0).removeClass('app-editor-section__title--hide-body');\n            self.updateColorsDemo(true, self.selectedColor);\n        });\n        //remove a black or white variation\n        this.blackWhiteSection.on('click', '.js-btn-delete', function (event) {\n            self.deleteBlackWhiteVariation($(event.currentTarget).parents('.js-app-editor__color-bw').index());\n            self.updateColorsDemo(true, self.selectedColor);\n        });\n\n        //custom colors and gradients\n        //a new custom color has been created\n        $(this.element).on('custom-content-added', function (event, type, title, customLabel) {\n            if (type != 'colors') return;\n            var isGradient = customLabel.indexOf('gradient') > -1;\n            if (isGradient) {\n                var colorCustomLabel = customLabel.replace('#gradient-', '');\n                //create this new color for each theme\n                self[colorCustomLabel + 'Gradients'] = [];\n                var gradientValue = self.getInitialGradient();\n                for (var i = 0; i < self.themes.length; i++) self[colorCustomLabel + 'Gradients'][i] = gradientValue;\n                self.gradientColorLabels.push(title.replace('--gradient-', ''));\n                self.gradientColorIds.push(colorCustomLabel);\n                self.selectNewColor(type, '--gradient-' + colorCustomLabel);\n                self.updateColorsDemoNewCustom(self[colorCustomLabel + 'Gradients'][self.selectedTheme], title, colorCustomLabel);\n            } else {\n                var colorCustomLabel = customLabel.replace('#color-', '');\n                //create this new color for each theme\n                self[colorCustomLabel + 'Colors'] = [];\n                for (var i = 0; i < self.themes.length; i++) self[colorCustomLabel + 'Colors'][i] = self.primaryColors[0];\n                //push the label to the main color labels\n                self.mainColorLabels.push(colorCustomLabel);\n                self.customColorLabels.push(title);//store labels somewhere\n                self.selectNewColor(type, '--color-' + colorCustomLabel);\n                self.updateColorsDemoNewCustom(self[colorCustomLabel + 'Colors'][self.selectedTheme], title, colorCustomLabel);\n            }\n        });\n        //a custom color name has been updated\n        $(this.element).on('custom-content-edited', function (event, type, index, title, section) {\n            if (type != 'colors') return;\n            if (section.indexOf('gradient') > -1) {\n                self.gradientColorLabels[self.gradientColorIds.indexOf(section.replace('#gradient-', ''))] = title.replace('--gradient-', '');\n            } else {\n                self.customColorLabels[self.mainColorLabels.indexOf(section.replace('#color-', '')) - 5] = title;\n            }\n            self.updateColorsDemoEditCustom(section, title);\n        });\n        //a custom color has been removed\n        $(this.element).on('custom-content-removed', function (event, type, index, labelId) {\n            if (type != 'colors') return;\n            if (labelId.indexOf('gradient') > -1) {\n                var label = labelId.replace('#gradient-', ''),\n                    indexColor = self.gradientColorIds.indexOf(label);\n                self.gradientColorLabels.splice(indexColor, 1);\n                self.gradientColorIds.splice(indexColor, 1);\n                self[label + 'Gradients'] = [];\n                self.updateColorsDemoRemoveCustom('gr-' + label);\n                // remove color from color link array\n                if (self.colorLinks['gr-' + label]) self.colorLinks['gr-' + label] = false;\n            } else {\n                var label = labelId.replace('#color-', ''),\n                    indexColor = self.mainColorLabels.indexOf(label);\n                self.mainColorLabels.splice(indexColor, 1);\n                self.customColorLabels.splice((indexColor - 5), 1);\n                self[label + 'Colors'] = [];\n                self.updateColorsDemoRemoveCustom(label);\n                // remove color from color link array\n                if (self.colorLinks[label]) self.colorLinks[label] = false;\n            }\n        });\n\n        // this event is triggered when the link button is clicked inside the color demo\n        $(this.element).on('updateColorLink', function (event, section, bool) {\n            if (section.indexOf('gradient') > -1) {\n                self.colorLinks[section.replace('#gradient-', 'gr-')] = bool; // e.g.self.colorLinks['gr-custom-0']\n            } else {\n                self.colorLinks[section.replace('#color-', '')] = bool;\n            }\n        });\n    };\n\n    Colors.prototype.getInitialGradient = function () {\n        var primary = this.primaryColors[0][2],\n            newHsl = primary[0] < 310 ? primary[0] + 50 : primary[0] - 50;\n        return ([primary, [newHsl, primary[1], primary[2]]]);\n    };\n\n    Colors.prototype.selectNewColor = function (type, target) {\n        if (type != 'colors') return;\n        if (target.indexOf('--color-black') > -1 || target.indexOf('--color-white') > -1) {\n            this.selectedColor = target.replace('--color-', '');\n            this.resetSidebarSections('black-white');\n            this.setBlackWhite();\n        } else if (target.indexOf('--color-') > -1) {\n            // this is a main color -> update it\n            this.selectedColor = target.replace('--color-', '');\n            this.resetSidebarSections('main');\n            this.setMainColors();\n        } else if (target.indexOf('--gradient-') > -1) {\n            this.selectedColor = target.replace('--gradient', 'gr'); // e.g., 'gr-custom-0'\n            this.resetSidebarSections('gradient');\n            this.setGradient();\n        } else {\n            // this is color contrast\n            this.selectedColor = 'contrast';\n            this.resetSidebarSections('contrast');\n            this.setContrast();\n        }\n    }\n\n    //TODO refacto class\n    Colors.prototype.resetSidebarSections = function (section) {\n        this.mainColorsSection.add(this.blackWhiteSection).add(this.contrastSection).add(this.basicColorPicker).add(this.bgColorPicker).add(this.hcColorPicker).add(this.grColorPicker).addClass('app-section--is-hidden');\n        switch (section) {\n            case 'black-white':\n                this.blackWhiteSection.add(this.basicColorPicker).removeClass('app-section--is-hidden');\n                break;\n            case 'contrast':\n                this.contrastSection.add(this.bgColorPicker).add(this.hcColorPicker).removeClass('app-section--is-hidden');\n                break;\n            case 'gradient':\n                this.grColorPicker.removeClass('app-section--is-hidden');\n                break;\n            default:\n                this.mainColorsSection.add(this.basicColorPicker).removeClass('app-section--is-hidden');\n        }\n    };\n\n    Colors.prototype.setMainColors = function (color) {\n        if (this.mainColorShown.indexOf(this.selectedColor) < 0 || color) {\n            //the ui has not been set for this color yet\n            //or the color picker is being updated\n            this.mainColorShown = this.selectedColor;\n            if (color) {\n                //this is the case where the color picker was updated\n                this.updateMultipleColorsInThemes(getMainColorVariation(color));\n            }\n            var colors = this[this.selectedColor + 'Colors'][this.selectedTheme];\n            // this is used for main colors variation (primary/accent/secondary/warning/error/success)\n            for (var i = 0; i < 5; i++) {\n                this.setMainColor(colors[i], i);\n            }\n        }\n        //update color picker\n        if (color === undefined || color === null || !color) {\n            this.colorPicker.trigger('update-picker', [this[this.selectedColor + 'Colors'][this.selectedTheme][2]]);\n        }\n    };\n\n    Colors.prototype.setBlackWhite = function (color) {\n        if (this.blackWhiteShown.indexOf(this.selectedColor) < 0 || color) {\n            //the ui has ot been set for this color yet\n            this.blackWhiteShown = this.selectedColor;\n            var itemLength = this[this.selectedColor + 'Colors'][this.selectedTheme].length;\n            if (color) {\n                //this is the case where the color picker was updated\n                this.updateMultipleColorsInThemes(this.getBlackWhiteVariation(color, itemLength));\n                // this[this.selectedColor+'Colors'][this.selectedTheme] = this.getBlackWhiteVariation(color, itemLength);\n            }\n            var colors = this[this.selectedColor + 'Colors'][this.selectedTheme];\n            //first -> make sure there's the right number of inputs\n            this.checkBlackWhiteInputNumber(colors.length);\n            // this is used for black/white colors variation\n            for (var i = 0; i < colors.length; i++) {\n                this.setBlackWhiteColor(colors[i], i);\n            }\n        }\n        //update color picker\n        if (color === undefined || color === null || !color) {\n            //black and white -> main color is the first one\n            this.colorPicker.trigger('update-picker', [this[this.selectedColor + 'Colors'][this.selectedTheme][0]]);\n        }\n        this.resetBWActionVisibility();\n    };\n\n    Colors.prototype.updateMultipleColorsInThemes = function (value) {\n        if (this.colorLinks[this.selectedColor]) {\n            for (var i = 0; i < this.themes.length; i++) {\n                this[this.selectedColor + 'Colors'][i] = value;\n            }\n        } else {\n            this[this.selectedColor + 'Colors'][this.selectedTheme] = value;\n        }\n    };\n\n    Colors.prototype.setContrast = function (color, pickerElement) {\n        if (this.contrastShown.indexOf(this.selectedColor) < 0 || color) {\n            //the ui has not been set for this color yet\n            //or the color picker is being updated\n            this.contrastShown = this.selectedColor;\n            if (color) {\n                //this is the case where the color picker was updated\n                //first check if this is the bg or the hc color\n                var isBgColor = (pickerElement.parents('.js-app-editor-section__bg-color-picker').length > 0);\n                var colorsScale = isBgColor\n                    ? [getHexFromHsl(color), getHexFromHsl(this[this.selectedColor + 'Colors'][this.selectedTheme][5])]\n                    : [getHexFromHsl(this[this.selectedColor + 'Colors'][this.selectedTheme][0]), getHexFromHsl(color)]\n                this[this.selectedColor + 'Colors'][this.selectedTheme] = getContrastVariation(colorsScale[0], colorsScale[1], this.contrastPecentageColors[this.selectedTheme]);\n            }\n            var colors = this[this.selectedColor + 'Colors'][this.selectedTheme];\n            // this is used for contrast colors variation\n            for (var i = 0; i < 6; i++) {\n                this.setContrastColor(colors[i], this.contrastPecentageColors[this.selectedTheme][i], i);\n            }\n\n            this.updateFontRendering(false);\n        }\n        //update color picker\n        if (color === undefined || color === null || !color) {\n            this.colorPicker.trigger('update-contrast-picker', [this[this.selectedColor + 'Colors'][this.selectedTheme][0], this[this.selectedColor + 'Colors'][this.selectedTheme][5]]);\n        }\n    };\n\n    Colors.prototype.setGradient = function (color, pickerElement) {\n        var gradientId = this.selectedColor.replace('gr-', '');\n        if (this.gradientShown.indexOf(gradientId) < 0 || color) {\n            //the ui has not been set for this color yet\n            this.gradientShown = gradientId;\n            if (color) {\n                var index = (pickerElement.parents('.js-app-editor-section__gr-color-picker--stop-1').length > 0) ? 0 : 1;\n                if (this.colorLinks['gr-' + gradientId]) {\n                    for (var i = 0; i < this.themes.length; i++) {\n                        this[gradientId + 'Gradients'][i][index] = color;\n                    }\n                } else {\n                    this[gradientId + 'Gradients'][this.selectedTheme][index] = color;\n                }\n            }\n        }\n        //update color picker\n        if (color === undefined || color === null || !color) {\n            //black and white -> main color is the first one\n            this.grColorPickerItems.eq(0).trigger('update-picker', [this[gradientId + 'Gradients'][this.selectedTheme][0]]);\n            this.grColorPickerItems.eq(1).trigger('update-picker', [this[gradientId + 'Gradients'][this.selectedTheme][1]]);\n        }\n    };\n\n    Colors.prototype.updateFontRendering = function (value) {\n        if (value) {\n            this.fontRendering[this.selectedTheme] = value;\n        }\n        (!this.fontRendering[this.selectedTheme]) ? this.fontRenderingSection.find('select').val(0) : this.fontRenderingSection.find('select').val(this.fontRendering[this.selectedTheme]);\n    };\n\n    Colors.prototype.checkBlackWhiteInputNumber = function (length) {\n        var wrappers = this.blackWhiteSection.find('.js-app-editor__color-bw');\n        if (wrappers.length == length) return;\n        if (wrappers.length < length) {\n            this.createBlackWhiteInputs(Number(length - wrappers.length));\n        } else {\n            this.removeBlackWhiteInputs(Number(wrappers.length - length));\n        }\n    }\n\n    Colors.prototype.createBlackWhiteInputs = function (number) {\n        var input = this.blackWhiteSection.find('.js-app-editor__color-bw').eq(0),\n            append = '';\n        for (var i = 0; i < number; i++) {\n            var clone = input.clone();\n            clone.removeClass('app-editor__color-item--locked app-editor__color-item--labelled').addClass('app-editor__color-item--removable');\n            append = append + clone[0].outerHTML;\n        }\n\n        this.blackWhiteSection.children('.js-app-editor-section__body').append(append);\n        this.blackWhiteInputsResetLabelClass();\n    };\n\n    Colors.prototype.removeBlackWhiteInputs = function (number) {\n        var inputs = this.blackWhiteSection.find('.js-app-editor__color-bw'),\n            tot = inputs.length;\n        for (var i = 0; i < number; i++) {\n            var index = tot - i - 1;\n            inputs.eq(index).remove();\n        }\n        this.blackWhiteInputsResetLabelClass();\n    };\n\n    Colors.prototype.blackWhiteInputsResetLabelClass = function () {\n        var inputs = this.blackWhiteSection.find('.js-app-editor__color-bw'),\n            lastItem = inputs.length - 1;\n        inputs.removeClass('app-editor__color-item--labelled').eq(lastItem).addClass('app-editor__color-item--labelled');\n    };\n\n    Colors.prototype.colorUpdated = function (target, type) {\n        //get the index of the color\n        var colorWrapper = target.parents('.js-main-color-variation'),\n            index = Number(colorWrapper.attr('data-order')),\n            inputs = colorWrapper.find('.js-hsl-color-input');\n        if (type == 'bw') index = target.parents('.js-app-editor__color-bw').index();\n        //update the array of colors\n        if (this.colorLinks[this.selectedColor]) {\n            var colorItems = (type == 'bw') ? target.parents('.js-app-editor--variations-wrapper').eq(0).find('.js-app-editor__color-bw') : target.parents('.js-app-editor--variations-wrapper').eq(0).find('.js-main-color-variation');\n            this.updateColorVariationsInThemes(colorItems);\n        } else {\n            this[this.selectedColor + 'Colors'][this.selectedTheme][index] = [Number(inputs.eq(0).val()), convertStringToHsl(inputs.eq(1).val()), convertStringToHsl(inputs.eq(2).val())];\n        }\n        //update the color preview\n        if (type == 'bw') {\n            this.setBlackWhiteColor(this[this.selectedColor + 'Colors'][this.selectedTheme][index], index);\n            this.updateColorsDemo(true);\n        } else {\n            this.setMainColor(this[this.selectedColor + 'Colors'][this.selectedTheme][index], index);\n            this.updateColorsDemo(true);\n        }\n    };\n\n    Colors.prototype.updateColorVariationsInThemes = function (colors) {\n        for (var i = 0; i < colors.length; i++) {\n            var inputs = colors.eq(i).find('.js-hsl-color-input');\n            this.updateColorInThemes(inputs, i);\n        }\n    };\n\n    Colors.prototype.updateColorInThemes = function (inputs, index) {\n        var value = Number(inputs.eq(0).val()),\n            valueHSL1 = convertStringToHsl(inputs.eq(1).val()),\n            valueHSL2 = convertStringToHsl(inputs.eq(2).val());\n        for (var i = 0; i < this.themes.length; i++) {\n            this[this.selectedColor + 'Colors'][i][index] = [value, valueHSL1, valueHSL2];\n            this[this.selectedColor + 'Colors'][i][index] = [Number(value), Number(valueHSL1), Number(valueHSL2)];\n        }\n    };\n\n    Colors.prototype.contrastColorUpdated = function (target) {\n        var index = target.parents('.js-app-editor__contrast-item').index(),\n            value = parseInt(target.val().replace('%', ''));\n\n        value = (value < 0) ? 0 : value;\n        value = (value > 100) ? 100 : value;\n        this.newContrastColorScale(value, index);\n    };\n\n    Colors.prototype.getBlackWhiteVariation = function (hsl, length) {\n        var blackWhiteVariations = [];\n        for (var i = 0; i < length; i++) {\n            blackWhiteVariations.push([hsl[0], checkPercentage(hsl[1] + this[this.selectedColor + 'Variations'][i][0]), checkPercentage(hsl[2] + this[this.selectedColor + 'Variations'][i][1])]);\n        }\n        return blackWhiteVariations;\n    };\n\n    Colors.prototype.getBlackWhiteSingleVariation = function (hsl, index) {\n        return [hsl[0], checkPercentage(hsl[1] + this[this.selectedColor + 'Variations'][index][0]), checkPercentage(hsl[2] + this[this.selectedColor + 'Variations'][index][1])]\n    };\n\n    Colors.prototype.setMainColor = function (color, index) {\n        var hue = parseInt(color[0]),\n            sat = Math.round(color[1] * 100),\n            lig = Math.round(color[2] * 100);\n\n        var inputs = this.mainColorVariationsInput.eq(index).find('.js-hsl-color-input'),\n            preview = this.mainColorVariationsInput.eq(index).find('.js-color-preview');\n        inputs.eq(0).val(hue);\n        inputs.eq(1).val(sat);\n        inputs.eq(2).val(lig);\n        preview.css('background-color', 'hsl(' + hue + ', ' + sat + '%, ' + lig + '%)');\n    };\n\n    Colors.prototype.setBlackWhiteColor = function (color, index) {\n        //first need to check if input exists\n        var hue = parseInt(color[0]),\n            sat = Math.round(color[1] * 100),\n            lig = Math.round(color[2] * 100);\n\n        var inputWrapper = this.blackWhiteSection.find('.js-app-editor__color-bw').eq(index),\n            inputs = inputWrapper.find('input'),\n            preview = inputWrapper.find('.js-color-preview');\n        inputs.eq(0).val(checkHue(hue));\n        inputs.eq(1).val(sat);\n        inputs.eq(2).val(lig);\n        preview.css('background-color', 'hsl(' + hue + ', ' + sat + '%, ' + lig + '%)');\n    };\n\n    Colors.prototype.setContrastColor = function (color, percentage, index) {\n        var wrapper = this.contrastInputs.find('.js-app-editor__contrast-item').eq(index),\n            input = wrapper.find('input'),\n            preview = wrapper.find('.js-color-preview');\n        input.val(percentage);\n        preview.css('background-color', 'hsl(' + parseInt(color[0]) + ', ' + parseInt(color[1] * 100) + '%, ' + parseInt(color[2] * 100) + '%)');\n    };\n\n    Colors.prototype.createBlackWhiteVariation = function () {\n        //create new item and append it\n        var variations = this.blackWhiteSection.find('.js-app-editor__color-bw'),\n            tot = variations.length,\n            clone = variations.eq(0).clone();\n        clone.removeClass('app-editor__color-item--locked app-editor__color-item--labelled').addClass('app-editor__color-item--removable');\n        clone.find('input').removeAttr('disabled');\n        this.blackWhiteSection.children('.js-app-editor-section__body').append(clone);\n        //get the color variarion\n        var color = this.getBlackWhiteSingleVariation(this[this.selectedColor + 'Colors'][this.selectedTheme][0], tot);\n        //update the variable storing the variations\n        this[this.selectedColor + 'Colors'][this.selectedTheme].push(color);\n        //update the color of the input and the preview\n        this.setBlackWhiteColor(color, tot);\n        //reset the list with the proper label classes\n        this.blackWhiteInputsResetLabelClass();\n        //if two variation visible -> remove plus action\n        this.resetBWActionVisibility();\n    };\n\n    Colors.prototype.deleteBlackWhiteVariation = function (index) {\n        //remove item from dom\n        this.blackWhiteSection.find('.js-app-editor__color-bw').eq(index).remove();\n        //update object stored variables\n        this[this.selectedColor + 'Colors'][this.selectedTheme].splice(index, 1);\n        //reset plus visibility\n        this.resetBWActionVisibility();\n    }\n\n    Colors.prototype.resetBWActionVisibility = function () {\n        var sectionTitle = this.blackWhiteSection.find('.app-editor-section__title');\n        this.blackWhiteSection.find('.js-app-editor__color-bw').length > 2\n            ? sectionTitle.removeClass('app-editor-section__title--create')\n            : sectionTitle.addClass('app-editor-section__title--create');\n    };\n\n    Colors.prototype.newContrastColorScale = function (value, index) {\n        var wrapper = this.contrastInputs.find('.js-app-editor__contrast-item').eq(index),\n            input = wrapper.find('input'),\n            preview = wrapper.find('.js-color-preview');\n\n        var color0hex = getHexFromHsl(this[this.selectedColor + 'Colors'][this.selectedTheme][0]),\n            color5hex = getHexFromHsl(this[this.selectedColor + 'Colors'][this.selectedTheme][5]);\n\n        var scaleColors = chroma.bezier([color0hex, color5hex]).scale().colors(101);\n        this.contrastPecentageColors[this.selectedTheme][index] = value;\n        var color = scaleColors[value],\n            hsl = chroma(color).hsl();\n        //need to convert to hsl\n        this.contrastColors[this.selectedTheme][index] = [checkHue(hsl[0]), checkPercentage(hsl[1]), checkPercentage(hsl[2])];\n        input.val(value);\n        preview.css('background-color', color);\n    };\n\n    Colors.prototype.removeTheme = function (type, index, selected) {\n        //first -> remove theme from array of stored elements\n        this.themes.splice(index, 1);\n        this.primaryColors.splice(index, 1);\n        this.accentColors.splice(index, 1);\n        this.downloadColors.splice(index, 1);\n        this.infoColors.splice(index, 1);\n        this.warningColors.splice(index, 1);\n        this.successColors.splice(index, 1);\n        this.errorColors.splice(index, 1);\n        this.blackColors.splice(index, 1);\n        this.whiteColors.splice(index, 1);\n        this.contrastColors.splice(index, 1);\n        //remove custom color as well\n        if (this.mainColorLabels.length > 5) {\n            for (var i = 5; i < this.mainColorLabels.length; i++) {\n                this[this.mainColorLabels[i] + 'Colors'].splice(index, 1);\n            }\n        }\n        // remove custom gradients\n        for (var i = 0; i < this.gradientColorIds.length; i++) {\n            this[this.gradientColorIds[i] + 'Gradients'].splice(index, 1);\n        }\n\n        //if theme was selected -> select new theme\n        if (selected) {\n            this.selectedTheme = 0;\n            this.setThemeColors();\n        }\n    };\n\n    Colors.prototype.updateColorsDemo = function (bool, label) {\n        var index = this.selectedTheme;\n        //getArray of custom colors\n        var customArray = [];\n        for (var i = 0; i < this.mainColorLabels.length; i++) {\n            if (this.mainColorLabels[i].indexOf('custom-') > -1) {\n                //custom color -> push in array\n                customArray.push([this.mainColorLabels[i], this[this.mainColorLabels[i] + 'Colors'][index]]);\n            }\n        }\n        var gradientValues = [];\n        for (var i = 0; i < this.gradientColorIds.length; i++) {\n            gradientValues.push(this[this.gradientColorIds[i] + 'Gradients'][index]);\n        }\n        this.iframe.updateIframeColors(this.primaryColors[index], this.accentColors[index], this.downloadColors[index], this.blackColors[index], this.whiteColors[index], this.successColors[index], this.errorColors[index], this.infoColors[index], this.warningColors[index], this.contrastColors[index], this.fontRendering[index], customArray, this.customColorLabels, this.gradientColorLabels, this.gradientColorIds, gradientValues, label);\n        if (IS_LOGGED == '1' && bool) SaveAlert.yes();\n    };\n\n    Colors.prototype.updateColorLinks = function () {\n        this.iframe.updateIframeColorLinks(this.colorLinks);\n    };\n\n    Colors.prototype.updateColorsDemoNewCustom = function (array, title, customLabel) {\n        this.iframe.updateIframeColorsNewColor(array, title, customLabel);\n        if (IS_LOGGED == '1') SaveAlert.yes();\n    };\n\n    Colors.prototype.updateColorsDemoRemoveCustom = function (customLabel) {\n        this.iframe.updateIframeColorsRemoveColor(customLabel);\n        if (IS_LOGGED == '1') SaveAlert.yes();\n    };\n\n    Colors.prototype.updateColorsDemoEditCustom = function (section, title) {\n        this.iframe.updateIframeColorsEditColor(section, title);\n        if (IS_LOGGED == '1') SaveAlert.yes();\n    };\n\n    Colors.prototype.updateCopyCode = function (code) {\n        var completeCode = '',\n            spacing = '';\n        for (var i = 0; i < this.themes.length; i++) {\n            if (i > 0) spacing = '  ';\n            //start from default theme\n            var codeMain = this.createBlockForMainColors(i, spacing),\n                codeCustom = this.createBlockForCustomColors(i, spacing, false),\n                codeBW = this.createBlockForBWColors(i, spacing),\n                codeFeedback = this.createBlockForFeedbackColors(i, spacing),\n                codeFeedbackCustom = this.createBlockForCustomColors(i, spacing, true),\n                codeContrast = this.createBlockForContrastColors(i, spacing),\n                codeGradient = this.createBlockForGradients(i, spacing);\n\n            var codeFontRendering = this.createBlockForFontRendering(i, spacing);\n            var themeCode = codeMain + codeCustom + codeBW + codeFeedback + codeFeedbackCustom + codeContrast + codeGradient;\n\n            if (i == 0) {\n                //default theme\n                themeCode = ':root, [data-theme=\"default\"] {\\n' + themeCode + '}';\n                if (codeFontRendering != '') themeCode = themeCode + '\\n\\nbody, [data-theme=\"default\"] {\\n' + codeFontRendering + '}';\n            } else {\n                if (codeFontRendering != '') codeFontRendering = '\\n' + codeFontRendering\n                themeCode = '@supports(--css: variables) {\\n  [data-theme=\"' + this.themes[i].toLowerCase() + '\"] {\\n' + themeCode + codeFontRendering + '  }\\n}';\n            }\n\n            completeCode = completeCode + themeCode;\n            if (i < this.themes.length - 1) completeCode = completeCode + '\\n\\n';\n\n            // if( i == 0 ) {\n            // \tcompleteCode = completeCode + '[data-theme] {\\n  background-color: var(--color-bg);\\n  color: var(--color-contrast-high);\\n}\\n\\n';\n            // }\n        }\n\n        // before returngin code -> check if need to add bg-color classes\n        completeCode = completeCode + this.getBgColorClasses();\n        return completeCode;\n        // return code;\n    };\n\n    Colors.prototype.createBlockForMainColors = function (themeIndex, spacing) {\n        var code = spacing + '  // main\\n',\n            shades = ['-darker', '-dark', '', '-light', '-lighter'];\n        for (var j = 0; j < 2; j++) {\n            for (var i = 0; i < 5; i++) {\n                var colorIndex = 4 - i;\n                var hsl = this[this.mainColorLabels[j] + 'Colors'][themeIndex][colorIndex],\n                    hslCode = getHslCssFromHsl(hsl);\n                code = code + spacing + '  @include defineColorHSL(--color-' + this.mainColorLabels[j] + shades[i] + ', ' + hslCode + ');' + '\\n';\n            }\n            code = code + '\\n';\n        }\n\n        return code;\n    };\n\n    Colors.prototype.createBlockForCustomColors = function (themeIndex, spacing, isFeedback) {\n        var code = '',\n            shades = ['-darker', '-dark', '', '-light', '-lighter'];\n        if (this.mainColorLabels.length > 5) {\n            for (var j = 5; j < this.mainColorLabels.length; j++) {\n                var label = this.customColorLabels[j];\n                if ((isFeedback && this.mainColorLabels[j].indexOf('custom-fdb') > -1) || (!isFeedback && this.mainColorLabels[j].indexOf('custom-fdb') < 0)) {\n                    for (var i = 0; i < 5; i++) {\n                        var colorIndex = 4 - i;\n                        var hsl = this[this.mainColorLabels[j] + 'Colors'][themeIndex][colorIndex],\n                            hslCode = getHslCssFromHsl(hsl);\n                        code = code + spacing + '  @include defineColorHSL(' + this.customColorLabels[j - 5] + shades[i] + ', ' + hslCode + ');' + '\\n';\n                    }\n                    code = code + '\\n';\n                }\n            }\n        }\n        return code;\n    };\n\n    Colors.prototype.getCustomColorClasses = function (isFeedback) {\n        var code = '';\n        if (this.mainColorLabels.length > 5) {\n            for (var j = 5; j < this.mainColorLabels.length; j++) {\n                var label = this.customColorLabels[j];\n                if ((isFeedback && this.mainColorLabels[j].indexOf('custom-fdb') > -1) || (!isFeedback && this.mainColorLabels[j].indexOf('custom-fdb') < 0)) {\n                    code = code + '.' + this.customColorLabels[j - 5].replace('--', '') + ' { color: var(' + this.customColorLabels[j - 5] + ');}';\n                    code = code + '\\n';\n                }\n            }\n        }\n        return code;\n    };\n\n    Colors.prototype.getCustomGradientClasses = function () {\n        var code = '';\n        if (this.gradientColorLabels.length > 0) {\n            for (var j = 0; j < this.gradientColorLabels.length; j++) {\n                code = code + '.bg-gradient-' + this.gradientColorLabels[j].replace('--', '') + '-right { background-image: linear-gradient(90deg, var(--gradient-' + this.gradientColorLabels[j] + '-stop-1), var(--gradient-' + this.gradientColorLabels[j] + '-stop-2));}';\n                code = code + '\\n';\n            }\n        }\n        return code;\n    };\n\n    Colors.prototype.createBlockForBWColors = function (themeIndex, spacing) {\n        var code = '',\n            shadesBlack = ['', '-light', '-lighter'],\n            shadesWhite = ['', '-dark', '-darker'];\n        //black\n        for (var i = 0; i < this.blackColors[themeIndex].length; i++) {\n            var hslCode = getHslCssFromHsl(this.blackColors[themeIndex][i]);\n            code = code + spacing + '  @include defineColorHSL(--color-black' + shadesBlack[i] + ', ' + hslCode + ');' + '\\n';\n        }\n        //white\n        for (var i = 0; i < this.whiteColors[themeIndex].length; i++) {\n            var hslCode = getHslCssFromHsl(this.whiteColors[themeIndex][i]);\n            code = code + spacing + '  @include defineColorHSL(--color-white' + shadesWhite[i] + ', ' + hslCode + ');' + '\\n';\n        }\n        //need to add opacities as well\n        code = code + '\\n';\n        return code;\n    };\n\n    Colors.prototype.createBlockForFeedbackColors = function (themeIndex, spacing) {\n        var code = spacing + '  // feedback\\n',\n            shades = ['-darker', '-dark', '', '-light', '-lighter'];\n        for (var j = 2; j < 5; j++) {\n            for (var i = 0; i < 5; i++) {\n                var colorIndex = 4 - i;\n                var hsl = this[this.mainColorLabels[j] + 'Colors'][themeIndex][colorIndex],\n                    hslCode = getHslCssFromHsl(hsl);\n                code = code + spacing + '  @include defineColorHSL(--color-' + this.mainColorLabels[j] + shades[i] + ', ' + hslCode + ');' + '\\n';\n            }\n\n            //need to add opacities as well\n            code = code + '\\n';\n        }\n\n        return code;\n    };\n\n    Colors.prototype.createBlockForContrastColors = function (themeIndex, spacing) {\n        var code = spacing + '  // color contrasts\\n',\n            shades = ['bg', 'contrast-lower', 'contrast-low', 'contrast-medium', 'contrast-high', 'contrast-higher'];\n        for (var i = 0; i < this.contrastColors[themeIndex].length; i++) {\n            var hslCode = getHslCssFromHsl(this.contrastColors[themeIndex][i]);\n            code = code + spacing + '  @include defineColorHSL(--color-' + shades[i] + ', ' + hslCode + ');' + '\\n';\n        }\n        return code;\n    };\n\n    Colors.prototype.createBlockForGradients = function (themeIndex, spacing) {\n        if (!this.gradientColorLabels || this.gradientColorLabels.length < 1) return '';\n        var code = '\\n' + spacing + '  // gradients\\n',\n            stops = ['-stop-1', '-stop-2'];\n        for (var i = 0; i < this.gradientColorLabels.length; i++) {\n            var stop1 = getHslCssFromHsl(this[this.gradientColorIds[i] + 'Gradients'][themeIndex][0]),\n                stop2 = getHslCssFromHsl(this[this.gradientColorIds[i] + 'Gradients'][themeIndex][1]);\n            code = code + spacing + '  @include defineColorHSL(--gradient-' + this.gradientColorLabels[i] + stops[0] + ', ' + stop1 + ');' + '\\n';\n            code = code + spacing + '  @include defineColorHSL(--gradient-' + this.gradientColorLabels[i] + stops[1] + ', ' + stop2 + ');' + '\\n';\n        }\n        return code;\n    };\n\n    Colors.prototype.createBlockForFontRendering = function (themeIndex, spacing) {\n        var code = '';\n        if (this.fontRendering[themeIndex] && Number(this.fontRendering[themeIndex]) == 1) {\n            code = spacing + '  // font rendering\\n' + spacing + '  -webkit-font-smoothing: antialiased;\\n' + spacing + '  -moz-osx-font-smoothing: grayscale;\\n';\n        } else if (this.fontRendering[themeIndex] && Number(this.fontRendering[themeIndex]) == 2) {\n            code = spacing + '  // font rendering\\n' + spacing + '  -webkit-font-smoothing: auto;\\n' + spacing + '  -moz-osx-font-smoothing: auto;\\n';\n        }\n        return code;\n    };\n\n    Colors.prototype.getArrayToSave = function () {\n        var colorsArray = [];\n        for (var i = 0; i < this.mainColorLabels.length; i++) {\n            //store main colors + feedback colors\n            colorsArray[this.mainColorLabels[i]] = this[this.mainColorLabels[i] + 'Colors'];\n        }\n        colorsArray['mainColorLabels'] = this.mainColorLabels;\n        if (this.customColorLabels.length > 0) {\n            colorsArray['customColorLabels'] = this.customColorLabels;\n        }\n        colorsArray['blackColors'] = this.blackColors;\n        colorsArray['whiteColors'] = this.whiteColors;\n        colorsArray['contrastPecentageColors'] = this.contrastPecentageColors;\n        colorsArray['contrastColors'] = this.contrastColors;\n        if (this.fontRendering && this.fontRendering.length == this.themes.length) {\n            colorsArray['fontRendering'] = this.fontRendering;\n        } else {\n            colorsArray['fontRendering'] = [];\n            for (var i = 0; i < this.themes.length; i++) {\n                if (this.fontRendering[i]) colorsArray['fontRendering'][i] = this.fontRendering[i];\n                else colorsArray['fontRendering'][i] = false;\n            }\n        }\n        colorsArray['themes'] = this.themes;\n        colorsArray['colorLinks'] = this.colorLinks;\n        // gradients\n        if (this.gradientColorLabels.length > 0) {\n            colorsArray['gradientColorLabels'] = this.gradientColorLabels;\n        }\n        if (this.gradientColorIds.length > 0) {\n            colorsArray['gradientColorIds'] = this.gradientColorIds;\n            for (var i = 0; i < this.gradientColorIds.length; i++) {\n                //store main colors + feedback colors\n                colorsArray[this.gradientColorIds[i] + 'Gradients'] = this[this.gradientColorIds[i] + 'Gradients'];\n            }\n        }\n        return colorsArray;\n    };\n\n    Colors.prototype.getOpacitiesArrayToSave = function () {\n        var opacitiesArray = [];\n        opacitiesArray = this.colorOpacities;\n        return opacitiesArray;\n    };\n\n    Colors.prototype.getBgColorClasses = function () {\n        var code = '';\n        var shades = ['-darker', '-dark', '', '-light', '-lighter'];\n        if (this.mainColorLabels.length > 5) {\n            // start from bg\n            code = '\\n\\n// background color\\n';\n            for (var j = 5; j < this.mainColorLabels.length; j++) {\n                for (var i = 0; i < shades.length; i++) {\n                    code = code + '.bg-' + this.customColorLabels[j - 5].replace('--color-', '') + shades[i] + ' { background-color: alpha(var(' + this.customColorLabels[j - 5] + shades[i] + '), var(--bg-o, 1)); }';\n                    code = code + '\\n';\n                }\n            }\n        }\n        if (this.gradientColorLabels.length > 0) {\n            // background gradient\n            code = (this.mainColorLabels.length > 5) ? code + '\\n' : code + '\\n\\n';\n            code = code + '// background gradient';\n            for (var i = 0; i < this.gradientColorLabels.length; i++) {\n                code = code + '\\n.bg-gradient-' + this.gradientColorLabels[i] + ' { background-image: radial-gradient(var(--gradient-' + this.gradientColorLabels[i] + '-stop-1), var(--gradient-' + this.gradientColorLabels[i] + '-stop-2)); }';\n                code = code + '\\n.bg-gradient-' + this.gradientColorLabels[i] + '-top { background-image: linear-gradient(0deg, var(--gradient-' + this.gradientColorLabels[i] + '-stop-1), var(--gradient-' + this.gradientColorLabels[i] + '-stop-2)); }';\n                code = code + '\\n.bg-gradient-' + this.gradientColorLabels[i] + '-right { background-image: linear-gradient(90deg, var(--gradient-' + this.gradientColorLabels[i] + '-stop-1), var(--gradient-' + this.gradientColorLabels[i] + '-stop-2)); }';\n                code = code + '\\n.bg-gradient-' + this.gradientColorLabels[i] + '-bottom { background-image: linear-gradient(180deg, var(--gradient-' + this.gradientColorLabels[i] + '-stop-1), var(--gradient-' + this.gradientColorLabels[i] + '-stop-2)); }';\n                code = code + '\\n.bg-gradient-' + this.gradientColorLabels[i] + '-left { background-image: linear-gradient(270deg, var(--gradient-' + this.gradientColorLabels[i] + '-stop-1), var(--gradient-' + this.gradientColorLabels[i] + '-stop-2)); }';\n            }\n            if (this.mainColorLabels.length > 5) code = code + '\\n';\n        }\n        if (this.mainColorLabels.length > 5) {\n            // add borders\n            code = code + '\\n// border color';\n            for (var j = 5; j < this.mainColorLabels.length; j++) {\n                for (var i = 0; i < shades.length; i++) {\n                    code = code + '\\n.border-' + this.customColorLabels[j - 5].replace('--color-', '') + shades[i] + ' { border-color: alpha(var(' + this.customColorLabels[j - 5] + shades[i] + '), var(--bg-o, 1)); }';\n                }\n            }\n        }\n        return code;\n    };\n\n\n    function loadProjectColors(iframe) {\n        if (PROJECT && PROJECT.colors && PROJECT.colors !== '') iframe.loadColorStyle(JSON.parse(PROJECT.colors));\n    }\n\n    function loadProjectTypographyForSpacing(iframe) {\n        if (PROJECT && PROJECT.typography && PROJECT.typography !== '') iframe.loadTypographyForSpacing(JSON.parse(jsPage.decodeSafeURIComponent(PROJECT.typography)), true);\n        else iframe.loadTypographyForSpacing(false, true);\n    };\n\n    function loadProjectTypographyForButtons(iframe) {\n        if (PROJECT && PROJECT.typography && PROJECT.typography !== '') iframe.loadTypographyForButtons(JSON.parse(jsPage.decodeSafeURIComponent(PROJECT.typography)), true);\n        else iframe.loadTypographyForButtons(false, true);\n    };\n\n    function loadProjectSpacingForButtons(iframe) {\n        if (PROJECT && PROJECT.spacing && PROJECT.spacing !== '') iframe.loadSpacingForButtons(JSON.parse(jsPage.decodeSafeURIComponent(PROJECT.spacing)), true);\n        else iframe.loadSpacingForButtons(false, true);\n    };\n\n    function loadProjectButtonsForForms(iframe) {\n        if (PROJECT && PROJECT.buttons && PROJECT.buttons !== '') iframe.loadButtonsForForms(JSON.parse(jsPage.decodeSafeURIComponent(PROJECT.buttons)), true);\n        else iframe.loadButtonsForForms(false, true);\n    };\n\n    function loadProjectButtonsForColors(iframe) {\n        if (PROJECT && PROJECT.buttons && PROJECT.buttons !== '') iframe.loadButtonsForColors(JSON.parse(jsPage.decodeSafeURIComponent(PROJECT.buttons)), true);\n        else iframe.loadButtonsForColors(false, true);\n    };\n\n    function loadProjectColorsForColors(iframe) {\n        if (PROJECT && PROJECT.colors && PROJECT.colors !== '') iframe.loadColorsForColors(JSON.parse(jsPage.decodeSafeURIComponent(PROJECT.colors)), true);\n    };\n\n    function loadProjectFormsForColors(iframe) {\n        if (PROJECT && PROJECT.form && PROJECT.form !== '') iframe.loadFormForColors(JSON.parse(jsPage.decodeSafeURIComponent(PROJECT.form)), true);\n        else iframe.loadFormForColors(false, true);\n    };\n\n    function replaceEmpty(array) {\n        for (var i = 0; i < array.length; i++) {\n            if (array[i].length > 1) {\n                array[i] = replaceEmpty(array[i]);\n            } else {\n                if (array[i] == '') array[i] = false;\n            }\n        }\n\n        return array;\n    };\n\n\n    function getColorContrastPercentages() {\n        return [0, 5, 17, 55, 89, 100];\n    };\n\n    function getHslCssFromHsl(hsl) {\n        return Math.round(hsl[0]) + ', ' + Math.round(hsl[1] * 100) + '%, ' + Math.round(hsl[2] * 100) + '%';\n    };\n\n    function getMainColorVariation(hsl) {\n        //used to get the main color variations starting from main color\n        var colorVariationsLogic = getMainColorVaraiationLogic(hsl);\n        var mainColorVariations = [];\n        hsl[0] = checkHue(hsl[0]);\n        for (var i = 0; i < 4; i++) {\n            mainColorVariations.push([hsl[0], checkPercentage(hsl[1] + colorVariationsLogic[i][0]), checkPercentage(hsl[2] + colorVariationsLogic[i][1])]);\n        }\n        mainColorVariations.splice(2, 0, hsl);\n        return mainColorVariations;\n    };\n\n    function getMainColorVaraiationLogic(hsl) {\n        var lightVaraition = 0.1,\n            lightVaraitionS = 0.2;\n\n        if (hsl[2] > 0.8) {\n            lightVaraitionS = 1;\n            lightVaraition = parseFloat(((lightVaraitionS - hsl[2]) * 0.5).toFixed(2));\n        }\n\n        var darkVaraition = -0.1,\n            darkVaraitionS = -0.2;\n\n        if (hsl[2] < 0.2) {\n            darkVaraitionS = -hsl[2];\n            darkVaraition = parseFloat((-hsl[2] * 0.5).toFixed(2));\n        }\n\n        return [[0, lightVaraitionS], [0, lightVaraition], [0, darkVaraition], [0, darkVaraitionS]];\n    };\n\n    function getContrastVariation(color1, color2, array) {\n        var contrastColorVariations = [];\n        var scaleColors = chroma.bezier([color1, color2]).scale().colors(101);\n        for (var i = 0; i < 6; i++) {\n            var index = array[i],\n                hsl = chroma(scaleColors[index]).hsl();\n            contrastColorVariations.push([checkHue(hsl[0]), checkPercentage(hsl[1]), checkPercentage(hsl[2])]);\n        }\n        return contrastColorVariations;\n    };\n\n    function getDefaultMainColorVariation(type) {\n        var color = [];\n        switch (type) {\n            case 'accent':\n                color = [[282, 0.44, 0.27], [282, 0.44, 0.37], [282, 0.44, 0.47], [282, 0.44, 0.57], [282, 0.44, 0.67]];\n                break;\n            case 'download':\n                color = [[145, 0.63, 0.22], [145, 0.63, 0.32], [145, 0.63, 0.42], [145, 0.63, 0.52], [145, 0.63, 0.62]];\n                break;\n            case 'success':\n                color = [[94, 0.48, 0.74], [94, 0.48, 0.65], [94, 0.48, 0.56], [94, 0.48, 0.48], [94, 0.48, 0.42]];\n                break;\n            case 'warning':\n                color = [[46, 1, 0.80], [46, 1, 0.71], [46, 1, 0.61], [46, 1, 0.50], [46, 1, 0.47]];\n                break;\n            case 'error':\n                color = [[349, 0.75, 0.67], [349, 0.75, 0.59], [349, 0.75, 0.51], [349, 0.75, 0.44], [349, 0.75, 0.36]];\n                break;\n            case 'info':\n                color = [[204, 0.62, 0.27], [204, 0.62, 0.37], [204, 0.62, 0.47], [204, 0.62, 0.57], [204, 0.62, 0.67]];\n                break;\n            default:\n                // primary\n                color = [[204, 0.70, 0.33], [204, 0.70, 0.43], [204, 0.70, 0.53], [204, 0.70, 0.63], [204, 0.70, 0.73]];\n        }\n        return color;\n    };\n\n    //initialize the Colors objects\n    var colors = document.getElementsByClassName('js-app-sidebar-editor--colors'),\n        colorObject = [];\n\n    setTimeout(function () {\n        if (colors.length > 0) {\n            for (var i = 0; i < colors.length; i++) {\n                (function (i) {\n                    colorObject.push(new Colors(colors[i]));\n                })(i);\n            }\n        }\n    }, 2000)\n\n    /************************/\n    /* \tInput Event Listening */\n\n    /************************/\n\n    function listenToParentInput(parent, callback) {\n        parent.on('focusout input', 'input', function (event) {\n            callback(event);\n        });\n        parent.on('keyup', 'input', function (event) {\n            if ((event.key && event.key.toLowerCase() === \"enter\") || (event.keyCode && event.keyCode === \"13\")) {\n                callback(event);\n            }\n        });\n    };\n\n    function listenToParentString(parent, string, callback) {\n        parent.on('focusout', string, function (event) {\n            callback(event);\n        });\n        parent.on('keypress', string, function (event) {\n            if ((event.key && event.key.toLowerCase() === \"enter\") || (event.keyCode && event.keyCode === \"13\")) {\n                event.preventDefault();\n                callback(event);\n            }\n        });\n    };\n\n    /************************/\n    /* \tSidebar Interaction */\n    /************************/\n    //content switch - eg, themes in Colors\n    var contentSwitch = $('.js-app-content-switch');\n    if (contentSwitch.length > 0) {\n        var contentType = contentSwitch.attr('data-global').toLowerCase(),\n            contentList = contentSwitch.find('.js-app-content-switch__group'),\n            appSidebar = $('.js-app-sidebar--globals');\n        //open/close list of content\n        contentSwitch.on('click', '.js-app-content-item', function (event) {\n            if (!$(event.target).is('.js-add-content') && $(event.target).parents('.js-add-content').length == 0) {\n                contentSwitch.toggleClass('app-content-switch--is-open');\n            }\n        });\n        //listen for the click on 'add' button - new content item has been created\n        contentSwitch.on('click', '.js-add-content', function (event) {\n            contentSwitch.addClass('app-content-switch--is-open');\n            var initialLabel = 'Untitled';\n            contentList.find('.app-content-item--is-selected').removeClass('app-content-item--is-selected app-content-item--is-editing').children('em').attr('contenteditable', 'false');\n            var newContentItem = getNewContentSwitch(initialLabel, contentList);\n            contentList.find('.app-content-item--is-selected').children('em').attr('contenteditable', 'true').selectText();\n            appSidebar.trigger('content-switch-added', [contentType, initialLabel]);\n        });\n\n        //new content item has been selected\n        contentList.on('click', 'li', function (event) {\n            var selectedItem = contentList.children('.app-content-item--is-selected');\n            if (!selectedItem.is($(event.currentTarget)) && $(event.target).parents('.js-content-item__cta--remove').length < 1 && !$(event.target).is('.js-content-item__cta--remove')) {\n                contentList.children('.app-content-item--is-selected').removeClass('app-content-item--is-selected app-content-item--is-editing').children('em').attr('contenteditable', 'false');\n                $(event.currentTarget).addClass('app-content-item--is-selected');\n                //need to take care of updating content somewhere else -> trigger event\n                appSidebar.trigger('content-switch-selected', [contentType, $(event.currentTarget).index()]);\n            }\n        });\n\n        contentList.on('dblclick', 'li', function (event) {\n            if ($(event.currentTarget).hasClass('js-app-content-item--default')) return;\n            $(event.currentTarget).addClass('app-content-item--is-editing').children('em').eq(0).attr('contenteditable', 'true').focus().selectText();\n        });\n\n        listenToParentString(contentList, 'li', function (event) {\n            if ($(event.originalEvent.target).is('.js-content-item__cta--edit')) return;\n            $(event.currentTarget).removeClass('app-content-item--is-editing').find('em').attr('contenteditable', 'false');\n            appSidebar.trigger('content-switch-edited', [contentType, $(event.currentTarget).index(), $(event.currentTarget).find('em').text()]);\n        });\n\n        //--check if we need to load more themes\n        if (colorObject && colorObject[0]) {\n            //we are on the colors global\n            if (colorObject[0].themes.length > 0) {\n                for (var i = 1; i < colorObject[0].themes.length; i++) {\n                    var newContentItem = getNewContentSwitch(colorObject[0].themes[i], contentList);\n                    newContentItem.removeClass('app-content-item--is-selected app-content-item--is-editing');\n                }\n            }\n        }\n    }\n\n    function getNewContentSwitch(label, contentList) {\n        var newContentItem = contentList.children('li').eq(0).clone();\n        newContentItem.removeClass('js-app-content-item--default').addClass('app-content-item--is-editable app-content-item--is-editing app-content-item--is-selected').children('em').text(label);\n        contentList.append(newContentItem);\n        return newContentItem;\n    }\n\n    //content groups\n    var appContentGroup = $('.js-app-content__group');\n    if (appContentGroup.length > 0) {\n        var contentType = appContentGroup.attr('data-global').toLowerCase(),\n            appSidebar = $('.js-app-sidebar--globals'),\n            contentItems = appContentGroup.children('li');\n        //listen to the click on the arrows/entire element - open/close group\n        appContentGroup.on('click', '.js-app-content-item--group', function (event) {\n            if (!$(event.target).is('.js-btn-create') && $(event.target).parents('.js-btn-create').length == 0) {\n                $(event.currentTarget).toggleClass('app-content-item--show-children');\n            }\n        });\n        //select a new content\n        appContentGroup.on('click', '.js-app-content-item', function (event) {\n            var sharedStyle = false; // we are gonna use this for the shared styles global only\n            if (!$(event.currentTarget).hasClass('app-content-item--is-selected')) {//element is not already selected\n                //do not select if the item is being removed (click on trash icon)\n                if ($(event.target).is('.js-content-item__cta--delete') || $(event.target).parents('.js-content-item__cta--delete').length > 0) return;\n                appContentGroup.find('.app-content-item--is-selected').removeClass('app-content-item--is-selected');\n                $(event.currentTarget).addClass('app-content-item--is-selected');\n                //need to take care of updating content somewhere else -> trigger event\n                //if the content is a custom one ->pass index to bjects as well\n                var itemIndex = $(event.currentTarget).hasClass('js-app-content-item--is-editable') ? $(event.currentTarget).index() : false;\n                var targetLabel = $(event.currentTarget).children('.app-content-item__text').text();\n                if (contentType == 'colors' && $(event.currentTarget).attr('data-section').indexOf('color-custom') > -1) {\n                    targetLabel = $(event.currentTarget).attr('data-section').replace('#color', '--color');\n                }\n                appSidebar.trigger('content-selected', [contentType, targetLabel, itemIndex, sharedStyle]);\n            }\n        });\n    }\n\n    //right sidebar - generic interactions\n    var rightAppSidebar = $('.js-app-sidebar--globals');\n    if (rightAppSidebar.length > 0) {\n        var colorSelect = $('.js-app-menu--color');\n        rightAppSidebar.on('click', '.js-app-editor-section__title', function (event) {\n            if ($(event.target).is('.js-app-editor-section__title-cta') || $(event.target).parents('.js-app-editor-section__title-cta').length > 0) return;\n            $(event.currentTarget).toggleClass('app-editor-section__title--hide-body');\n        });\n        //in the sidebar - show the mq tab clicking on the mq button\n        rightAppSidebar.on('click', '.js-btn-responsive-rules', function (event) {\n            appSidebarEnableMq($(event.currentTarget));\n        });\n        //in the sidebar - remove the mq tab/reset mq clicking on delete button\n        rightAppSidebar.on('click', '.js-app-delete-mq', function (event) {\n            appSidebarDisableMq($(event.currentTarget), true);\n        });\n        //in the sidebar - select a new mq clicking on  new mq tab\n        rightAppSidebar.on('click', '.js-app-editor-tabs__item', function (event) {\n            appSidebarSelectMq($(event.currentTarget), true);\n        });\n        //in the right sidebar -> click on the reset link to reset property to default status (e.g., buttons)\n        rightAppSidebar.on('click', '.js-app-editor-section__reset-link', function (event) {\n            //remove edited section\n            var selectedSection = $(event.currentTarget).parents('.js-app-editor-section'),\n                mqDelete = selectedSection.find('.js-app-delete-mq');\n            selectedSection.removeClass('app-editor-section--content-edited');\n            // if(mqDelete.length > 0) appSidebarDisableAndResetMq(mqDelete);\n            //trigger reset of variables in js objects\n            rightAppSidebar.trigger('reset-status', [selectedSection]);\n        });\n        //color preview object\n        rightAppSidebar.on('click', '.js-app-editor-color-preview', function (event) {\n            colorSelect.trigger('open-color-selector', [$(event.target)]);\n        });\n\n        if (colorSelect.length > 0) {\n            $(window).on('click', function (event) {\n                if (!$(event.target).is('.js-app-editor-color-preview') && !$(event.target).is('.js-app-menu--color') && $(event.target).parents('.js-app-menu--color').length < 1) colorSelect.trigger('close-color-selection');\n            });\n\n            $(window).on('keyup', function (event) {\n                if ((event.key && event.key.toLowerCase() === \"backspace\") || (event.keyCode && event.keyCode === \"8\")) {\n                    colorSelect.trigger('delete-opacity');\n                }\n            });\n        }\n\n        // shadow selection -> trigger custom fields\n        var shadowList = $('.js-shadow-list');\n        if (shadowList.length > 0) {\n            shadowList.on('change', function (event) {\n                resetShadowBlockAppearance($(event.target));\n            });\n        }\n    }\n\n    function convArrToObj(array) {\n        var thisEleObj = new Object();\n        if (typeof array == \"object\") {\n            for (var i in array) {\n                var thisEle = convArrToObj(array[i]);\n                thisEleObj[i] = thisEle;\n            }\n        } else {\n            thisEleObj = array;\n        }\n        return thisEleObj;\n    };\n\n\n    $('.copy-globals-code').on('click', function (event) {\n        $(this).find('.spinner-border').removeClass('d-none')\n        saveColorsCode();\n    })\n    $('#change--color #reset').on('click', function (event) {\n        Swal.fire({\n            title: THEMES_LANG.alert.reset.title,\n            text: THEMES_LANG.alert.reset.text,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            cancelButtonText: THEMES_LANG.alert.cancel,\n            confirmButtonText: THEMES_LANG.alert.confirmButtonText\n        }).then((result) => {\n            if (result.isConfirmed) {\n                getConfigTheme(function (getCOnfig, response) {\n\n                    getCOnfig.project.color_themes = null;\n                    getCOnfig.project.color_themes_data = null;\n                    postConfigTheme(getCOnfig, function () {\n                        $('#style-color').remove()\n                        PROJECT = {\n                            colors: ''\n                        }\n                        jsPage.loadGlobalsStyle(PROJECT)\n                        SaveAlert.no();\n                        $('html').attr(\"style\", ' ');\n                        Swal.fire(\n                            THEMES_LANG.alert.reset.confirm.title,\n                            THEMES_LANG.alert.reset.confirm.text,\n                            'success'\n                        )\n                    })\n                }, function () {\n\n                }, function () {\n\n                })\n            }\n        })\n    })\n\n    function saveColorsCode(callback) {\n        //need to define a string for colors\n        if (!colorObject || colorObject.length == 0) callback();\n        var colorsAll = colorObject[0].getArrayToSave();\n\n        var colorString = JSON.stringify(convArrToObj(colorsAll));\n        updateGlobalsProject(colorString, callback);\n    };\n\n    function getConfigTheme(cbThen, cbError, cbFinal) {\n        let getCOnfig;\n        axios({\n            url: '/admin/themes/' + THEMES + '/config',\n            method: 'GET',\n            dataType: 'json',\n        })\n            .then(function (response) {\n                getCOnfig = JSON.parse(response.data.split('<!DOCTYPE html>')[0]);\n                cbThen(getCOnfig, response)\n            })\n            .catch(function (error) {\n                cbError(error)\n            })\n            .finally(function () {\n                cbFinal()\n            });\n    }\n\n    function postConfigTheme(getCOnfig, cb) {\n        axios.post('/admin/themes/' + THEMES + '/config', {\n            advancedBan: getCOnfig.advancedBan,\n            articles: getCOnfig.articles,\n            changelog: getCOnfig.changelog,\n            discord: getCOnfig.discord,\n            faq: getCOnfig.faq,\n            footer: getCOnfig.footer,\n            forum: getCOnfig.forum,\n            header: getCOnfig.header,\n            home: getCOnfig.home,\n            pages: getCOnfig.pages,\n            liteBans: getCOnfig.liteBans,\n            profile: getCOnfig.profile,\n            project: getCOnfig.project,\n            shop: getCOnfig.shop,\n            skinApi: getCOnfig.skinApi,\n            support: getCOnfig.support,\n            sliders: getCOnfig.sliders,\n            vote: getCOnfig.vote,\n            wiki: getCOnfig.wiki,\n        })\n            .then(function (response) {\n                // console.log(response);\n            })\n            .catch(function (error) {\n                console.log(error)\n            })\n            .finally(function () {\n                cb()\n            });\n    };\n\n    function updateGlobalsProject(options, callback) {\n        getConfigTheme(function (getCOnfig, response) {\n            if (!colorObject || colorObject.length == 0) callback();\n            let colorsAll = colorObject[0].getArrayToSave();\n            let colorString = JSON.stringify(convArrToObj(colorsAll));\n            getCOnfig.project.color_themes_data = colorString;\n            getCOnfig.project.color_themes = $('html').attr(\"style\");\n\n            postConfigTheme(getCOnfig, function () {\n                $('.copy-globals-code').find('.spinner-border').addClass('d-none')\n                SaveAlert.no();\n                Swal.fire({\n                    position: 'center',\n                    icon: 'success',\n                    title: THEMES_LANG.alert.save,\n                    showConfirmButton: false,\n                    timer: 2000\n                })\n            })\n        }, function (error) {\n            console.log(error)\n        }, function () {\n        })\n    };\n\n\n    // Save Alert\n    var SaveAlert = {\n        yes: function () {\n            window.onbeforeunload = function () {\n                return true;\n            };\n        },\n        no: function () {\n            window.onbeforeunload = null;\n        }\n    };\n\n}());\n\n\n/**********************\n iOS banner\n ***********************/\n(function () {\n    var iosBanner = $('.js-ios-pivot');\n    if (iosBanner.length > 0) {\n        if (!!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform)) iosBanner.removeClass('ios-pivot--is-hidden');\n    }\n}());\n\n//here define the functions that need to be used inside the app frame\nfunction checkPercentage(val) {\n    val = Number(val);\n    if (val < 0) val = 0;\n    if (val > 1) val = 1;\n    return Number(val.toFixed(2));\n};\n\nfunction checkHue(hue) {\n    if (isNaN(hue)) hue = 0;\n    return Math.round(parseFloat(hue));\n};\n\nfunction getHslFromHex(hex) {\n    if (hex.indexOf('hsl(') > -1) {\n        //format is already hsl(, , )\n        return getHslFromHslString(hex);\n    }\n    var color = chroma(hex).hsl();\n    if (isNaN(color[0])) color[0] = 0;\n    color[0] = Math.round(color[0]);\n    color[1] = Number(Math.round(color[1] * 100) / 100);\n    color[2] = Number(Math.round(color[2] * 100) / 100);\n    return color;\n};\n\nfunction getHslFromHslString(hex) {\n    var color = hex.replace('hsl(', '').replace(')', '').split(',');\n    color[0] = Number(color[0].trim());\n    color[1] = parseFloat((Number(color[1].trim().replace('%', '')) / 100).toFixed(2));\n    color[2] = parseFloat((Number(color[2].trim().replace('%', '')) / 100).toFixed(2));\n    return color;\n};\n\nfunction getHexFromHsl(hsl) {\n    return chroma.hsl(hsl[0], hsl[1], hsl[2]).hex();\n};\n\nfunction convertStringToHsl(string) {\n    string = Number(string.replace('%', ''));\n    return Number((string / 100).toFixed(2));\n};\n\nfunction selectSidebarSection(target) {\n    $('.js-app-content__group').trigger('selectSection', [target]);\n};\n\n\nfunction closeActivePopups() {\n    var colorSelection = $('.js-app-menu--color'),\n        appMenu = $('.js-app-header-menu-toggle');\n    if (colorSelection.length > 0) colorSelection.trigger('close-color-selection');\n    if (appMenu.length > 0) appMenu.trigger('close-app-menu-popup');\n};\n\nfunction toggleColorLink(colorSection, bool) {\n    $('.js-app-sidebar-editor--colors').trigger('updateColorLink', [colorSection, bool]);\n};\n/* License: https://codyhouse.co/mit */\n"],"names":["require","projectTypography","projectSpacing","projectButtons","projectForms","jsPage","colorPrimary","colorAccent","colorDownload","colorBlack","colorWhite","colorSuccess","colorError","colorInfo","colorWarning","colorContrasts","newColorCustom","newGradientCustom","colorCustoms","gradientCustoms","customColorLabels","gradientColorIds","gradientColorValues","fontRenderingValue","updateIframeColors","primary","accent","download","black","white","success","error","info","warning","contrasts","fontRendering","customs","customLabels","grLabels","grIds","grValues","label","slice","$","trigger","updateIframeColorLinks","links","updateIframeColorsNewColor","array","title","customLabel","indexOf","updateIframeColorsRemoveColor","updateIframeColorsEditColor","section","loadColorsForColors","colors","loadTypographyForButtons","typography","loadSpacingForButtons","spacing","loadButtonsForColors","buttons","loadFormForColors","forms","colorsDemo","iframeParent","accessibleContrastHeadings","document","getElementsByClassName","accessibleContrastBody","styleTag","length","setTypographyStyle","bool","mq","loadTypographyStyle","loadTypographyDefaultStyle","updateTypographyDefaultStyle","textBase","textScale","setCssVariable","setSpacingStyle","loadSpacingStyle","loadSpacingDefaultStyle","updateSpacingDefaultStyle","spaceUnit","blackWrapper","find","whiteWrapper","demoSwitcher","on","event","removeClass","currentTarget","addClass","selectSidebarSection","attr","updateMainColor","updateBlackWhite","setCompleteColorVariable","colorLabels","i","eq","text","getHSL","bgLuminance","getLuminance","headingsLuminance","bodyLuminance","headingsContrast","bodyContrast","parseFloat","toFixed","headingsNote","getAccessibleContrastNote","bodyNote","textContent","updateAccessibleContrast","updateContratColor","createCustomColorSection","colorSectionItems","children","colorValues","j","newColor","end","push","updateCSSCustomColor","replace","updateCustoms","customSection","createCustomGradientSection","preview","values","updateGradientCustoms","code","updateFontRendering","updateColorVariables","color","hasOwnProperty","prev","updateColorLinks","target","hasClass","siblings","selectIframeSection","createCustomColor","createCustomGradient","parent","remove","customColorBlock","parents","colorChildren","oldLabel","getCustomTitleColor","labelItem","cssVaraiableName","getVariableName","updateCustomColor","customGradientBlock","titleEl","labels","getCustomTitleGradient","getGradientVariable","updateCustomGradient","preventDefault","toggleClass","toggleColorLink","next","MQRef","getMq","one","loadButtonsStyle","loadButtonsDefaultStyle","loadFormsStyle","loadFormsDefaultStyle","resetSpaceTypo","setColorPartVariables","type","nextAll","cloneCode","clone","outerHTML","itemsString","append","updateSingleColor","getBWLabel","item","index","colorText","css","customize","before","customValue","charAt","toUpperCase","value","note","spacingArray","textArray","textArrayValues","fontArray","btnFontIds","btnColorCustomNiceLabels","btnGradientsCustomNiceLabels","btnColorLabels","shadowVariables","borderRadiusValues","setBtnColorCustomNiceLabels","customNice","setBtnGradientNiceLabels","gradients","decodeSafeURIComponent","string","decodeURIComponent","getCursorValue","getBorderType","getBorderStyle","getTextTransform","getTextDecoration","getFontSmoothing","getBoxShadowType","getTransitionProperty","getTransitionEase","getTransitionDelay","val","getTransformProperty","getOutlineStyle","getOutlineOffset","getColorValue","reset","getColorValueFromList","getNiceLabelForCustom","checkColorIsOpacity","basicLabel","removeOpacityFromLabel","getOpacityDecFromLabel","prefix","labelArray","split","opacity","parseInt","isNaN","getColorFbIos","$color","$varLabel","$spacing","$reset","paddingVariables","spaceRatioUnit","Math","round","getHSLA","Number","setHSLAfromHSL","getHSLFromString","trim","variable","priority","root","documentElement","style","setProperty","getCssVariable","getComputedStyle","getPropertyValue","setBodyCssVariable","getElementsByTagName","setElementCssVariable","className","element","windowScrollTo","window","scrollTo","offset","top","selectIframeTab","filter","windowWidth","outerWidth","body","clientWidth","getScreenSize","outerHeight","getValidResponsiveValue","spaceArray","subIndex","getValueUnit","number","getBodyNotFalse","newArray","projectLoaded","MQ","loadGlobalsStyle","project","Object","console","log","loadColorStyle","JSON","parse","loadColorDefaultStyle","form","variations","cssVarLab","bVariations","blackArray","getBWArray","whiteArray","wVariations","contrastLabels","gradientId","fontRenderingCode","baseStyle","insertAfter","defaultColors","colorArray","obj","property","appendTo","lhcropArray","headingValues","getTypographyArray","bodyValues","loadTypographyStyleTag","getTypographyStyle","setTypographyCssVariables","bodyStyle","allStyle","typographyStyle","styleContent","loadTypographyCssVarStyleGuide","fontFamilies","fontFamilyClasses","scale","textVariables","scaleResponsive","getTypographyScaleVar","getTypographyScaleVarRes","loadTypographyStyleStyleGuide","headingStyle","getTextUnit","textUnit","spaceRatioCustom","getSpaceRatioCustom","srList","getSpacingMultiplier","updateSpacingCssVariables","loadSpacingStyleTag","arr","selector","fontIds","list","padding","spacingVariables","getSpacingValues","spaceRatio","su","getSpacingCustomScaleRatio","spaceList","suArray","updated","getSpacingValidResponsiveValueCustomRatio","buttonsArray","getButtonsArrayStyle","btnsList","statusList","statusPriorityList","buttonsCodeStyle","btnIconCode","buttonIconCodeStyle","loadButtonsStyleTag","buttonVariables","loadButtonsStyleStyleGuide","btnVariables","btnStyle","loadSharedStyleStyleGuide","shared_style","customStyleArray","escapeCSScharacters","customTextStyleArray","sizes","fontBase","getButtonsFontSizeValue","getButtonsPaddingValue","styleEl","formsArray","formsList","resetFormsStyleComponents","loadFormsStyleTag","formVariables","loadFormsStyleStyleGuide","formStyle","boxShadowIsDefined","subproperty","subVal","btnLabel","isDemoReset","isButton","btnLabelmodified","btnHasTransform","buttonsHasTransformStyle","styleLabel","setStatusList","newCode","getButtonCode","status","newLabel","priorityList","hasTransform","transform","btnStatus","getButtonsAppearanceStyle","getButtonsPaddingStyle","getButtonsMarginStyle","getButtonsBorderStyle","getButtonsTypographyStyle","getButtonsTextShadowStyle","getButtonsShadowStyle","getButtonsOutlineStyle","getButtonsTransformStyle","getButtonsTransitionStyle","getButtonsPlaceholderStyle","getGradientBgStyle","angle","niceLabel","colorVariables","fontSize","set","getSuffixOpacity","hsl","iframe","rgbSr","getRGBsrValues","rgb","getRGBValues","pow","getRGBfromHSL","chroma","loadedIframeCheck","initFontList","jQuery","fn","selectText","doc","this","createTextRange","range","moveToElementText","select","getSelection","selection","createRange","selectNodeContents","removeAllRanges","addRange","demoContainer","demoViewport","closeActivePopups","addEventListener","keyCode","key","toLowerCase","ctrlKey","metaKey","openSiteSearch","resizing","resizingID","mqLabels","updateLabelSizeWindow","mqLabelText","show","clearInterval","setTimeout","hide","updateGlobals","requestAnimationFrame","compScript","newScript","removeAttr","insertBefore","revealComponent","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","o","defineProperty","enumerable","get","prop","prototype","call","r","Symbol","toStringTag","PROJECT","iosBanner","jsColors","THEMES","THEMES_LANG","checkPercentage","checkHue","hue","getHslFromHex","hex","getHslFromHslString","getHexFromHsl","convertStringToHsl","axios","defaults","headers","common","url","method","dataType","then","response","getConfig","data","color_themes_data","ColorInput","colorInput","inputColorHex","inputPreview","inputColor","inputColorSupported","appColorSidebar","hexValue","initColorInput","self","toggle","updateColor","value1","value2","emitEvent","colorInputs","getHslaFromHsl","getGradientsBgColor","direction","ColorSelection","basicSwatches","variationsSwatches","stateA","stateB","stateBCustomOpacity","customOpacityInput","primaryColors","accentColors","blackColors","whiteColors","contrastColors","warningColors","successColors","errorColors","opacities","colorGroups","mainColorLabels","mainColorVariationLabel","contrastColorVariationLabel","contrastVariations","gradientColorLabels","gradientSwatches","loadPreset","eventListener","initColorsFromProject","initColors","initColorValues","initUiColors","getDefaultMainColorVariation","getContrastVariation","initMainSwatches","initBWSwatches","initContrastSwatches","initGradientSwatches","mainSwatch","clonesText","initCustomColorSwatches","feedbackSwatch","feedbackCloneText","isFeedback","html","swatch","input","cb","typingTimer","doneTypingInterval","height","selectInitialColor","isSelected","clickOnColorSectionA","selectNewColor","opacityLabel","getOpInputForSelection","mainColorLabel","mainColor","clearTimeout","opacityValue","resetOpacity","newVal","getPercentageFormat","isStateBSet","sendColorSelection","showStateB","isSelcted","stateAColor","stateBColor","states","colorName","getAllStatesColor","itemAName","itemBName","itemCName","nextItems","getStateBCColor","sidebar","selected","getVariationsMain","getVariationsBW","getVariationsContrast","textClones","colorSelection","getHslCssFromHsl","color1","color2","contrastColorVariations","scaleColors","bezier","Colors","downloadColors","contrastPecentageColors","infoColors","themes","colorLinks","selectedColor","selectedTheme","blackVariations","whiteVariations","colorPicker","mainColorsSection","mainColorVariationsInput","mainColorVariationsSidebar","blackWhiteSection","contrastSection","contrastInputs","fontRenderingSection","basicColorPicker","bgColorPicker","hcColorPicker","grColorPicker","grColorPickerItems","mainColorShown","blackWhiteShown","contrastShown","gradientShown","colorOpacities","colorsLoaded","initFrame","page","frameIsLoaded","onload","loadProjectTypographyForButtons","loadProjectSpacingForButtons","loadProjectButtonsForColors","loadProjectFormsForColors","updateColorsDemo","setThemeColors","setBlackWhite","setContrast","setGradient","setMainColors","convColorToArr","convPerceToArr","subArray","subObj","property2","initThemeColors","listenToParentInput","colorUpdated","contrastColorUpdated","pickerElem","SaveAlert","yes","removeTheme","createBlackWhiteVariation","deleteBlackWhiteVariation","colorCustomLabel","gradientValue","getInitialGradient","updateColorsDemoNewCustom","updateColorsDemoEditCustom","labelId","indexColor","splice","updateColorsDemoRemoveCustom","resetSidebarSections","add","updateMultipleColorsInThemes","colorVariationsLogic","lightVaraition","lightVaraitionS","darkVaraition","darkVaraitionS","getMainColorVaraiationLogic","mainColorVariations","getMainColorVariation","setMainColor","itemLength","getBlackWhiteVariation","checkBlackWhiteInputNumber","setBlackWhiteColor","resetBWActionVisibility","pickerElement","colorsScale","setContrastColor","wrappers","createBlackWhiteInputs","removeBlackWhiteInputs","blackWhiteInputsResetLabelClass","inputs","tot","lastItem","colorWrapper","colorItems","updateColorVariationsInThemes","updateColorInThemes","valueHSL1","valueHSL2","newContrastColorScale","blackWhiteVariations","getBlackWhiteSingleVariation","sat","lig","inputWrapper","percentage","wrapper","sectionTitle","color0hex","color5hex","customArray","gradientValues","updateCopyCode","completeCode","codeMain","createBlockForMainColors","codeCustom","createBlockForCustomColors","codeBW","createBlockForBWColors","codeFeedback","createBlockForFeedbackColors","codeFeedbackCustom","codeContrast","createBlockForContrastColors","codeGradient","createBlockForGradients","codeFontRendering","createBlockForFontRendering","themeCode","getBgColorClasses","themeIndex","shades","colorIndex","hslCode","getCustomColorClasses","getCustomGradientClasses","shadesBlack","shadesWhite","stops","stop1","stop2","getArrayToSave","colorsArray","getOpacitiesArrayToSave","colorObject","callback","contentSwitch","contentType","contentList","appSidebar","is","initialLabel","getNewContentSwitch","focus","listenToParentString","originalEvent","newContentItem","appContentGroup","itemIndex","targetLabel","rightAppSidebar","colorSelect","appSidebarEnableMq","appSidebarDisableMq","appSidebarSelectMq","selectedSection","shadowList","resetShadowBlockAppearance","convArrToObj","thisEleObj","thisEle","getConfigTheme","cbThen","cbError","cbFinal","getCOnfig","postConfigTheme","post","advancedBan","articles","changelog","discord","faq","footer","forum","header","home","pages","liteBans","profile","shop","skinApi","support","sliders","vote","wiki","colorsAll","options","colorString","stringify","color_themes","no","Swal","fire","position","icon","alert","save","showConfirmButton","timer","updateGlobalsProject","saveColorsCode","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","cancel","confirmButtonText","result","isConfirmed","confirm","onbeforeunload","navigator","platform","test"],"sourceRoot":""}